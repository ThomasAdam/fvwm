#!/usr/bin/python

import os
import sys
import whrandom

if len (sys.argv) <> 3:
	print "Usage:", sys.argv[0], "directory program"
	sys.exit (1)

if not os.path.isdir (sys.argv[1]):
	print sys.argv[1], "is not a directory"
	sys.exit (1)

dir = sys.argv[1]
program = sys.argv[2]

randfd = open ("/dev/random")
string = randfd.read (3);
whrandom.seed (ord(string[0]), ord (string[1]), ord (string[2]))

files = os.listdir (dir)
file = files[int (len(files) * whrandom.random())]

command = program + " " + os.path.join (dir, file)
print command
os.system (command)

