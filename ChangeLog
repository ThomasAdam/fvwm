2003-10-31  Mikhael Goikhman  <migo@homemail.com>

	* Makefile.am:
	fixed deb creation

2003-10-29  Mikhael Goikhman  <migo@homemail.com>

	* Makefile.am:
	* configure.in:
	initially added files for deb package auto-creating procedure

2003-10-26  Mikhael Goikhman  <migo@homemail.com>

	* AUTHORS:
	* configure.in:
	added Swedish translations by Johan Svedberg

	* NEWS:
	updated

2003-10-25  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/add_window.c (GetWindowSizeHints):
	reindented broken hint messages

2003-10-23  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	improved Perl detection messages,
	restored FvwmGtkDebug independence from gtk libs

2003-10-15  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	* AUTHORS:
	added German translations by Andrei Mitrofanow

	* fvwm/fvwm.1.in:
	typos

2003-10-11  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	added 2.4.17 NEWS

2003-09-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in:
	* fvwm/conditional.c (CreateConditionMask):
	(MatchesConditionMask):
	(CreateConditionMask):
	* fvwm/fvwm.h (WindowConditionMask):
	!CurrentPage, !CurrentDesk, !Layer ... now work as they should

2003-09-23  olicha  <olivier.chapuis@free.fr>

	* libs/FImage.c (FShmInit):
	Removed debug code

2003-09-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (warp_to_fvwm_window):
	don't unnecessarily call MoveViewport

2003-09-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/decorations.c (__is_resize_allowed):
	fixed a condition

2003-09-06  malu  <ml@update.uu.se>

	* libs/FBidi.c (FBidiConvert):
	* libs/CombineChars.c (CombineChars):
	Fixed drawing combining characters on correct positions in
	right-to-left context

2003-09-05  malu  <ml@update.uu.se>

	* libs/Flocale.c (FlocaleDrawString):
	(FlocaleTextWidth):
	Fixed drawing of combining characters with font shadow
	(character offsets were miscalculated, since FlocaleTextWidth
	adds shadow width)

2003-09-05  malu  <ml@update.uu.se>

	* libs/Flocale.c (FlocaleDrawUnderline):
	Fixed bug with text width when a string contains only
	"orphaned" combining characters (compensation for font shadowd
	was counted twice)

2003-09-04  olicha  <olivier.chapuis@free.fr>

	* todo-2.6:
	Added E.18, added comments on C.9 and C.15

2003-09-03  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FlocaleTextWidth):
	Fixed a comb_char core dump

	* libs/Makefile.am:
	Fixed compilation if either iconv, libpng or Xrender headers are
	not at a standard place

2003-09-03  Mikhael Goikhman  <migo@homemail.com>

	* acinclude.m4:
	fixed error message for incorrect --with-SOMETHING-library argument

2003-09-03  olicha  <olivier.chapuis@free.fr>

	* todo-2.6:
	Closed C.2 as Dominik fix it on 2003-03-13. Move B.5 to C.27

2003-09-02  olicha  <olivier.chapuis@free.fr>

	* todo-2.6:
	C.12 is fixed

2003-09-01  olicha  <olivier.chapuis@free.fr>

	* libs/gravity.c (gravity_dir_to_string):
	A new interface function to transform a direction_t to a string

2003-08-31  S. Anderson  <sa@xmission.com>

	* libs/defaults.h (FLOCALE_MB_FALLBACK_FONT):
	Fixed missing font charsets

2003-08-28  olicha  <olivier.chapuis@free.fr>

	* fvwm/move_resize.c (__move_loop):
	(AnimatedMoveAnyWindow):
	Updated bg of transparent tear off menu when moved

	* fvwm/events.c (HandlePropertyNotify):
	Updated ParentRelative tear off menu on bg change

	* fvwm/menus.c (UpdateMenuColorset):
	Updated colorsets of tear off menu when they change, this handle the
	case of root background change for RootTransparent

	* fvwm/menus.h:
	* fvwm/menus.c (menu_redraw_pr_tear_off_menu):
	An utility function for redrawing transparent tear off menu. Maybe
	we can merge

	* fvwm/add_window.c (validate_transientfor):
	Fixed transient for an ewmh desktop

2003-08-27  olicha  <olivier.chapuis@free.fr>

	* libs/FRender.c (FRenderRender):
	* libs/PictureGraphics.c (PGraphicsCreateTranslucent):
	Removed and fixed some unused code

2003-08-25  olicha  <olivier.chapuis@free.fr>

	* fvwm/misc.c (GrabEm):
	Fixed fvwm freeze if GRAB_FREEZE_CURSOR fail repeatedly

	* fvwm/modconf.c (send_color_limit):
	ifndefed color limit config info message which is not used anymore

	* fvwm/colorset.c (parse_colorset):
	Added a note on average bg

2003-08-23  olicha  <olivier.chapuis@free.fr>

	* fvwm/style.c (print_styles):
	More info on memory used

	* fvwm/style.c (__simplify_style_list):
	Fixed upward simplication

2003-08-14  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.c (ewmh_HandleMenu):
	Fixed the MENU window type, they are tear off menus

	* fvwm/fvwm.h:
	* fvwm/update.c (apply_window_updates):
	* fvwm/stack.c (new_layer):
	* fvwm/ewmh.c (EWMH_GetStyle):
	Fixed EWMHUseStackingHints update

	* fvwm/window_flags.h:
	* fvwm/fvwm.h:
	* fvwm/ewmh_events.c (ewmh_WMStateFullScreen):
	(ewmh_WMStateMaxHoriz):
	(ewmh_WMStateMaxVert):
	* fvwm/move_resize.c (unmaximize_fvwm_window):
	Fixed _NET_WM_STATE_FULLSCREEN: set the correct _NET_WM_STATE,
	uniconify and unshade when putting a window fullscreen

	* fvwm/ewmh_intern.h:
	* fvwm/ewmh.c (ewmh_AllowsFullScreen):
	Added _NET_WM_ACTION_FULLSCREEN as we have _NET_WM_STATE_FULLSCREEN

	* fvwm/move_resize.c (unmaximize_fvwm_window):
	(CMD_Resize):
	(CMD_ResizeMove):
	* fvwm/ewmh_events.c (ewmh_WMStateFullScreen):
	* fvwm/decorations.c (SelectDecor):
	* fvwm/windowshade.c (CMD_WindowShade):
	Removed the decor for EWMH fullscreen windows, forbid shading and
	allows Resize and MoveResize without unsetting the fullscreen/maximized
	state

	* fvwm/move_resize.c (CMD_ResizeMoveMaximize):
	(CMD_ResizeMaximize):
	Fixed ewmh state which was not set after these cmds

2003-08-09  olicha  <olivier.chapuis@free.fr>

	* todo-2.6:
	Updated

2003-08-08  olicha  <olivier.chapuis@free.fr>

	* fvwm/borders.c (border_draw_vector_to_pixmap):
	Fixed inversion of fg and bg in vector buttons

	* fvwm/style.c (__simplify_style_list):
	Fixed a memory leak

	* libs/System.c (fvwm_mkstemp):
	Removed debug code

2003-08-07  olicha  <olivier.chapuis@free.fr>

	* configure.in:
	* acinclude.m4 (AM_SAFTY_CHECK_MKSTEMP):
	* acconfig.h:
	* libs/System.c (fvwm_mkstemp):
	* libs/fvwmlib.h:
	Added fvwm_mkstemp for replacing tempnam. configure check if mkstemp
	exists and work correctly, if not a replacement function is used
	(written by Michael Han in 2001-02 and inspired by the glibc mkstemp
	implementation).

	* libs/fsm.c (unique_filename):
	(SetAuthentication):
	* fvwm/session.c (getUniqueStateFilename):
	Replaced tempnam by fvwm_mkstemp

2003-08-07  olicha  <olivier.chapuis@free.fr>

	* libs/Makefile.am:
	* libs/FSMlib.h (new file):
	* fvwm/session.c (*):
	* fvwm/session.h:
	fvwmize SMlib and ICElib

	* fvwm/session.c (matchWin):
	Fixed window matching for windows with no SM_CLIENT_ID and a
	window_role

	* libs/fsm.c (new file):
	* libs/fsm.h (new file):
	* fvwm/ConfigFvwmDefaults
	A set of functions for implementing a dummy session manager

	* fvwm/fvwm.1.in:
	GNOME 1 hints and EWHM support is not a configure time option
	(anymore).

2003-08-06  Robert Wittek  <r.wittek@gmx.net>

	* fvwm/add_window.c (AddWindow):
	fixed stickyness across desks over a restart

2003-08-06  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.c (EWMH_WindowInit):
	(EWMH_SetFrameStrut):
	Fixed position of kde tray windows in kicker

2003-07-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/module_interface.c (FlushMessageQueue):
	retry writing pipe if write returns EINTR

2003-07-28  olicha  <olivier.chapuis@free.fr>

	* fvwm/events.c (events_handle_configure_request):
	(HandleConfigureRequest):
	(__handle_configure_request):
	(__handle_cr_on_client):
	* fvwm/ewmh.c (ewmh_atom_client_win):
	* fvwm/ewmh_intern.h:
	* fvwm/ewmh_events.c (ewmh_MoveResizeWindow):
	(EWMH_ProcessClientMessage):
	Implemented _NET_MOVERESIZE_WINDOW

	* fvwm/fvwm.c (main):
	A -Wall fix

2003-07-25  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.c (ewmh_HandleWindowType):
	Fixed handling of the _NET_WINDOW_TYPE prop when there are more
	that one type and we do not support the first one.

	* fvwm/expand.c (expand_vars_extended):
	Fixed conflict between extended variables name (desk.name and
	desk.n)

	* fvwm/session.c (callback_save_yourself):
	Respect the SmSaveGlobal save type. This should fix some session
	locking in the sm protocol

	* fvwm/session.c (setSmProperties):
	(SessionInit):
	Set some sm properties when fvwm start for fixing a problem with
	the restart style hint after a restart.

	* fvwm/fvwm.c (get_display_name):
	(usage):
	(main):
	* fvwm/session.c (setSmProperties):
	* fvwm/fvwm.1.in
	Added a possible positive or null arg to --single-screen which
	forces fvwm to start on the "current" display and the given
	screen. Use this to fix fvwm starting under a session manager:
	specify only the screen and not the display.screen for the
	restart sm command.

	* fvwm/fvwm.c (main):
	Fixed possible memory corruption if a display has more than
	10 screens.

	* fvwm/session.c (*):
	Better debuging msg

2003-07-24  Mikhael Goikhman  <migo@homemail.com>

	* acinclude.m4:
	fixed xft/fontconfig detection with pkg-config

	* fvwm/fvwm.1.in:
	corrections in some long option names

2003-07-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (setup_style_and_decor):
	* fvwm/geometry.c (set_window_border_size):
	* fvwm/fvwm.h (FvwmWindow):
	* fvwm/events.c (HandleShapeNotify):
	* fvwm/frame.c (frame_free_move_resize_args):
	(frame_setup_shape):
	(frame_reshape_border):
	fixed resizing of window borders if a window shape was added or deleted
	after the initial window setup

	* fvwm/update.c (apply_window_updates):
	removed unused code

	* fvwm/events.c (__cr_detect_icccm_move):
	disable motion method detection for shaped windows

2003-07-21  olicha  <olivier.chapuis@free.fr>

	* fvwm/add_window.c (setup_window_structure):
	* fvwm/session.c (MatchWinToSM):
	Preserve is_name_changed window_flags within restart, session loading
	and recapture

2003-07-20  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.c (EWMH_Init):
	fixed _NET_WM_NAME for our ewmh WM_CHECK window

	* fvwm/fvwm.c (InternUsefulAtoms):
	* fvwm/externs.h:
	* fvwm/session.c (GetWindowRole):
	Some applications use WINDOW_ROLE and not WM_WINDOW_ROLE

	* fvwm/session.c (GetClientID):
	Better determination of the CLIENT_LEADER

	* fvwm/session.c (setSmProperties):
	Set the CloneCommand for gnome-session editor (the sm spec says this
	properties is required). Removed the commented XSM ifdef.

	* fvwm/session.c (matchWin):
	(SaveWindowStates):
	Consider client only if it has a client id or a wm command.
	Removed the "two entries" session previous commit

2003-07-16  olicha  <olivier.chapuis@free.fr>

	* fvwm/session.c (MatchWinToSM):
	Fixed restoring session state, if two window session entries have the
	same identifier ignore these entries

2003-07-16  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	* fvwm/style.h (SID_GET_NAME):
	(SID_SET_NAME):
	(SID_GET_WINDOW_ID):
	(SID_SET_WINDOW_ID):
	(SID_SET_HAS_NAME):
	(SID_GET_HAS_NAME):
	(SID_SET_HAS_WINDOW_ID):
	(SID_GET_HAS_WINDOW_ID):
	(SGET_ID):
	(SGET_WINDOW_ID):
	(SSET_WINDOW_ID):
	(SSET_ID_HAS_NAME):
	(SGET_ID_HAS_NAME):
	(SSET_ID_HAS_WINDOW_ID):
	(SGET_ID_HAS_WINDOW_ID):
	* fvwm/style.c (style_ids_are_equals):
	(style_id_equals_id):
	(styles_have_same_id):
	(fw_match_style_id):
	(one_fw_can_match_both_ids):
	(remove_all_of_style_from_list):
	(__simplify_style_list):
	(style_parse_one_style_option):
	(__style_command):
	(style_destroy_style):
	(print_styles):
	(CMD_Style):
	(CMD_WindowStyle):
	(CMD_FocusStyle):
	(CMD_DestroyStyle):
	(CMD_DestroyWindowStyle):
	* fvwm/fvwm.h (style_id_t):
	(window_style):
	* fvwm/functable.c (func_table):
	* fvwm/add_window.c (destroy_window):
	* fvwm/commands.h:
	* fvwm/fvwm.1:
	New WindowStyle and DestroyWindowStyle command for setting styles
	per window

2003-07-14  Marcus Lundblad  <ml@update.uu.se>

	* libs/Flocale.c (FlocaleDrawString):
	* libs/FBidi.c (FBidiConvert):
	fixed drawing of combining characters in the case where a string
	consists of only combining characters

2003-07-13  Marcus Lundblad  <ml@update.uu.se>

	* libs/CombineChars.c (CombineChars):
	bugfix: array mapping visual to logical position was allocated
	to small (factor 2) in decoposing code

2003-07-11  Marcus Lundblad  <ml@update.uu.se>

	* libs/Flocale.c (FlocaleEncodeWinString):
	fixed a memory leak

	* libs/Flocale.c (FlocaleDrawString):
	(FlocaleRotatedDrawString):
	removed some code duplication

2003-07-09  Marcus Lundblad  <ml@update.uu.se>

	* libs/CombineChars.c (combclass_table):
	(CombineChars):
	fixed supporting drawing marks superimposed that are in a combining
	class

2003-07-09  Marcus Lundblad  <ml@update.uu.se>

	* libs/Flocale.c (FlocaleRotateDrawString):
	(FlocaleDrawString)
	fixed core dump when composing characters can't be converted to
	locale charset

2003-07-09  Marcus Lundblad  <ml@update.uu.se>

	* AUTHORS:
	updated

2003-07-09  Marcus Lundblad  <ml@update.uu.se>

	* todo-2.6 (todo):
	updated summary

2003-07-09  Marcus Lundblad  <ml@update.uu.se>

	* NEWS:
        updated with reagrds to combing characters

2003-07-09  Marcus Lundblad  <ml@update.uu.se>

	* todo-2.6
	closed B.8

2003-07-09  Marcus Lundblad  <ml@update.uu.se>

	* libs/Flocale.c (FlocaleEncodeString):
	(FlocaleEncodeWinString):
	(FlocaleRotateDrawString):
	(FlocaleDrawString):
	(FlocaleDrawUnderline):
	fixed rendering combining characters using Unicode font in a
	non-UTF-8 locale

2003-07-08  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in:
	renamed MoveWindowByProgramMethod to MoveByProgramMethod

2003-07-08  Marcus Lundblad  <ml@update.uu.se>

	* libs/FBidi.h:
	fixed FBidi.h macro to work with no FriBIDI

2003-07-08  Marcus Lundblad  <ml@update.uu.se>

	* libs/CombineChars.h (CombineChars):
	* libs/CombineChars.c (CombineChars):
	* libs/FBidi.h (FBidiConvert):
	* libs/FBidi.c (FBidiConvert):
	* libs/Flocale.c (FlocaleEncodeString):
	(FlocaleEncodeWinString):
	(FlocaleDrawUnderline):
	(FlocaleTextWidth):
	fixed drawing of underlines on characters to work in with BIDI
	and combining characters

2003-07-08  Mikhael Goikhman  <migo@homemail.com>

	* todo-2.6:
	closed D.1 with "no consensus" resolution

2003-07-08  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in:
	documented tear off menus

	* fvwm/placement.c (PlaceWindow):
	StartsOnPage + SkipMapping overrides PPosition

2003-07-07  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/functable.c:
	solved a problem with CMD_Dummy and exact command spelling

	* libs/CombineChars.c:
	* libs/CombineChars.h:
	* libs/FBidi.c:
	minor reformattings (use TABs not 8 spaces and a space after keywords
	like for, if or while)

2003-07-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h:
	* fvwm/add_window.c (setup_style_and_decor):
	* fvwm/style.h:
	* fvwm/style.c (style_parse_one_style_option):
	(check_window_style_change):
	new style MoveWindowByProgramMethod

	* libs/PictureImageLoader.c (PImageLoadXpm):
	use RETSIGTYPE and SIGNAL_RETURN for all signal handlers

	* fvwm/ewmh_events.c (ewmh_WMStateFullScreen):
	implemented _NET_WM_STATE_FULLSCREEN handling

	* fvwm/move_resize.c (GetOnePositionArgument):
	fixed parsing of "+-x +-y" Move arguments
	(CMD_Maximize):
	use get_page_offset_check_visible

	* fvwm/geometry.c (get_page_offset_check_visible):
	new convenience function

	* fvwm/events.c (__handle_cr_on_client):
	fixed handling of gravities other than NW or Static
	(__cr_detect_icccm_move):
	fixed several bugs

2003-07-06  Marcus Lundblad  <ml@update.uu.se>

	* libs/BidiJoin.c:
	* libs/BidiJoin.h:
	* libs/BidiJoin.c:
	* libs/BidiJoin.h:
	* libs/CombineChars.c:
	* libs/CombineChars.h:
	* libs/Flocale.c (FlocaleEncodeString):
	* libs/FBidi.c:
	* libs/FBidi.h:
	* libs/Makefile.am:
	Removed "F" prefix on FBidiJoin.c, FBidiJoin.h, FCombineChars.c and
	FCombineChars.h

2003-07-06  olicha  <olivier.chapuis@free.fr>

	* libs/FRender.c (FRenderRender):
	Fixed compilation

2003-07-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/ewmh.c (ewmh_check_wm_pid):
	(EWMH_WindowInit):
	detect whether a window has _NET_WM_PID set; use that to detect ICCCM
	compliant ConfigureNotify handling

2003-07-05  Marcus Lundblad  <ml@update.uu.se>

	* libs/Flocale.c (FlocaleDrawUnderline):
	Commented out some non-working new code

2003-07-05  Marcus Lundblad  <ml@update.uu.se>

	* libs/Flocale.c (FlocaleDrawString):
	fixed drawing superimposed characters with a fontset

2003-07-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (__cr_detect_icccm_move):
	(__handle_cr_on_client):
	(__cr_get_grav_position):
	(__cr_get_static_position):
	* fvwm/window_flags.h:
	* fvwm/fvwm.h:
	try to autodetect whether application uses the icccm way of moving
	windows of the traditional way always using static gravity

	* acconfig.h:
	moved SIGNAL_RETURN macro definition to acconfig.h

	* fvwm/module_interface.c (DeadPipe):
	* fvwm/fvwm.c (SigDone):
	(Restart):
	(ReapChildren):
	use SIGNAL_RETURN macro

	* fvwm/events.c (__handle_cr_on_client):
	(__merge_cr_moveresize):
	(__cr_detect_icccm_move):

	* fvwm/events.c (__handle_cr_on_unmanaged):
	(__handle_cr_on_icon):
	(__handle_cr_on_shaped):
	(__handle_cr_restack):
	(__handle_cr_on_client):
	(HandleConfigureRequest):
	split the ConfigureRequest code into multiple functions

	* fvwm/update.c (apply_window_updates):
	fixed drawing of window decorations when "Style * Neverfocus" is used

	* fvwm/events.c (HandleKeyPress):
	fixed a bug with key binding contexts

	* fvwm/functions.c (__execute_function):
	* fvwm/expand.c (expand_vars):
	(expand_vars_extended):
	new extended variable $[func.context]

	* libs/Bindings.h:
	* libs/Bindings.c:
	moved some code to the new files

	* libs/charmap.h:
	* libs/charmap.c:
	* libs/modifiers.h:
	* libs/modifiers.c:
	* libs/wcontext.c:
	* libs/wcontext.h:
	new files

	* libs/Bindings.c:
	fixed a problem with uninitialised global variable

2003-07-04  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Bindings.c (key_modifiers):
	moved to new file wcontext.c

	* libs/gravity.c (gravity_parse_dir_argument):
	added aliases for compass directions:
	  - = N
	  _ = S
	  [ = W
	  ] = E
	  ^ = NE
	  > = SE
	  v = SW
	  [ = nw
	  . = center

2003-07-02  Marcus Lundblad  <ml@update.uu.se>

	* libs/FBidi.h:
	* libs/Flocale.c (FlocaleDrawString):
	(FlocaleRotateDrawString):
	Fixes to work without Fribidi

2003-07-01  Marcus Lundblad  <ml@update.uu.se>

	* todo-2.6:
	Updated

2003-07-01  Marcus Lundblad  <ml@update.uu.se>

	* libs/FbidiJoin.c (get_shaped_combined_char):
	(shape_n_join):
	Removed unused (get_shaped_combined_char) and commented out code
	Combining ligatures done in FCombineChars

2003-07-01  Marcus Lundblad  <ml@update.uu.se>

	* libs/Flocale.c (FlocaleDrawString):
	(FlocaleRotateDrawString):
	(FlocaleTextWidth):
	* libs/FBidi.h:
	* libs/FBidi.c (FBidiConvert):
	* libs/FBidiJoin.c:
	* libs/FCombineChars.h:
	* libs/FCombineChars.c (FCombineChars):
	Added support for drawing superimposed combining characters

2003-07-01  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/commands.h:
	* fvwm/functable.c (func_table):
	* fvwm/functions.c (CMD_TearMenuOff):
	(CMD_Title):
	(CMD_Silent):
	(CMD_Function):
	(CMD_KeepRc):
	merged all dummy commands into one: CMD_Dummy

2003-07-01  olicha  <olivier.chapuis@free.fr>

	* fvwm/menus.c (DestroyMenu):
	(do_menu):
	Cleanup

2003-07-01  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menustyle.c (menustyle_copy):
	(copy_menu_style):
	renamed function

2003-06-30  Marcus Lundblad  <ml@update.uu.se>

	* todo-2.6:
	Updated

2003-06-30  olicha  <olivier.chapuis@free.fr>

	* fvwm/menus.c (do_menu):
	(DestroyMenu):
	(do_menu_close_tear_off_menu):
	(menu_close_tear_off_menu):
	Allowed to destroy tear off menu!

	* fvwm/menus.c (menu_tear_off):
	(menu_close_tear_off_menu):
	(do_menu_close_tear_off_menu):
	(clone_menu_root_static):
	(pop_menu_up):
	(menu_tear_off):
	(make_menu_window):
	(make_menu):
	(update_menu):
	Fixed client leaks (only create new client for menu if it is a tear off
	menu). Created a dedicated menu style for each tear off menu.

	* fvwm/menustyle.c (CMD_CopyMenuStyle):
	(copy_menu_style):
	* fvwm/menustyle.h:
	Split CMD_CopyMenuStyle into CMD_CopyMenuStyle and copy_menu_style

2003-06-30  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/virtual.c (do_move_window_to_desk):
	(UnmapDesk):
	fixed "Visible" condition on non current desks

2003-06-29  Dominik Vogt  <dominik.vogt@gmx.de>

	**/*.c:
	**/*.h:
	shortened some comments
	removed GPL from .h files
	added GPL to all .c files
	include config.h in all .c files
	added "/* -*-c-*- */" where missing
	some reformatting and reindenting

	* fvwm/module_interface.c:
	* fvwm/module_interface.h:
	* libs/Fft.c:
	* libs/Flocale.c:
	* libs/gravity.h:
	* libs/Flocale.h:
	* fvwm/screen.h:
	* fvwm/misc.c:
	* fvwm/misc.h:
	* fvwm/windowshade.c:
	* fvwm/virtual.c:
	* fvwm/conditional.c:
	* fvwm/geometry.h:
	* fvwm/geometry.c:
	* fvwm/borders.c:
	* fvwm/frame.h:
	* fvwm/frame.c:
	* fvwm/update.c:
	* fvwm/session.c:
	* fvwm/placement.c:
	* fvwm/menus.c:
	* fvwm/icons.c:
	* fvwm/events.c:
	* fvwm/add_window.c:
	* fvwm/session.h:
	* fvwm/placement.h:
	* fvwm/icons.h:
	* fvwm/eventhandler.h:
	* fvwm/fvwm.h:
	* fvwm/add_window.h:
	* fvwm/repeat.c:
	* fvwm/functions.c:
	* fvwm/functable.c:
	* fvwm/functable.h:
	* fvwm/functions.h:
	renamed types func_type, repeat_t, initial_window_options_t,
	frame_title_layout_type, rotation_t, direction_t, fvwm_msg_t,
	last_added_item_type, common_flags_type, multi_direction_type,
	msg_masks_type to ..._t

	* fvwm/functions.c (__execute_function):
	(execute_complex_function):
	* fvwm/condrc.c (condrc_init):
	new function in new file to encapsulate all cond_rc_t handling

	* fvwm/condrc.h:
	* fvwm/fvwm.h (cond_rc_t):
	(cond_rc_enum):
	moved typed to new file

	* fvwm/functable.h:
	* fvwm/commands.h:
	* fvwm/functable.c (func_table):
	* fvwm/functions.c (__run_complex_function_items):
	(__execute_function):

	* fvwm/conditional.c (CMD_Break):
	(__rc_matches_rcstring_consume):
	Break takes the number of function levels to break out of as an
	argument

	* fvwm/expand.c (expand_vars_extended):
	* fvwm/conditional.c (circulate_cmd):
	(select_cmd):
	(direction_cmd):
	(__rc_matches_rcstring_consume):
	(CMD_All):
	(CMD_WindowId):
	(CMD_TestRc):
	(CMD_Test):
	* fvwm/read.c:
	* fvwm/read.h:
	* fvwm/functions.h:
	* fvwm/functions.c:
	(__run_complex_function_items):
	(execute_complex_function):
	* fvwm/expand.h:
	* fvwm/expand.c:
	* fvwm/fvwm.h:
	* fvwm/conditional.c:
	renamed fvwm_cond_func_rc by cond_rc_t
	made a type a struct
	added a member to indicate the number of function levels to break out
	of

	* fvwm/functable.c (func_table):
	* fvwm/conditional.c (CMD_TestRc):
	replaced conditional commands:
		Cond -> TestRc
		CondCase -> KeepRc TestRc
		On -> Test
	(__rc_matches_rcstring_consume):
	new function

	* fvwm/conditional.c (CMD_CondCase):
	fixed the CondCase command

2003-06-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* configure.in:
	new configure option --deisable-gtk to disable detection of gtk library

	* fvwm/fvwm.1.in:
	cleaned up documentation of conditional commands
	general man page cleanup

2003-06-17  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/builtins.c (ReadDecorFace): Off by one patch from
	Anil Madhavapeddy.

2003-06-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in:
	cleaned up of CirculateHit... conditions

2003-06-15  olicha  <olivier.chapuis@free.fr>

	* fvwm/style.c (__simplify_style_list):
	Fixed is_merged_allowed: rest it to True when cur change
	Added "upward" simplification

2003-06-14  olicha  <olivier.chapuis@free.fr>

	* fvwm/style.c (__simplify_style_list):
	(blocksintersect):
	(blockand):
	Fixed blockand which always returned True. Added blocksintersect which
	return the same value than blockand but faster.

2003-06-13  olicha  <olivier.chapuis@free.fr>

	* configure.in:
	* acinclude.m4:
	Fixed fontconfig and xft2 for version without *-config binnary. Used
	pkg-config for this: new macro AM_CHECK_PKG_CONFIG. Really reject
	fontconfig and xft2 if the version is < the required version
	(even if --disable-*test).

2003-06-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Graphics.c:
	define M_PI and M_PI_2 if they are not defined by math.h

2003-06-10  Mikhael Goikhman  <migo@homemail.com>

	* libs/Colorset.c (LoadColorset):
	added a note to update Colorsets.pm too when the format is changed

2003-06-09  Mikhael Goikhman  <migo@homemail.com>

	* WindowStyle_proposal.txt:
	s/WindowId/ThisWindow/ and other minor changes

2003-06-06  olicha  <olivier.chapuis@free.fr>

	* libs/PictureImageLoader.c (PImageLoadPng):
	Fixed loading of png images if the caller want no alpha

2003-06-04  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FlocaleEncodeString):
	Fixed memroy leaks

2003-06-03  Mikhael Goikhman  <migo@homemail.com>

	* libs/Makefile.am:
	only FCombineChars.c was distributed not FCombineChars.h

2003-06-03  Marcus Lundblad  <ml@update.uu.se>

	* libs/FCombineChars.c (convert_to_utf8)
	fixed a bug when converting back to UTF-8 and a bug giving
	garbage at end of string in some cases

	* libs/Flocale.c (FlocaleEncodeString)
	fixed problem regarding combining-characters when BIDI is used

2003-05-31  Marcus Lundblad  <ml@update.uu.se>

	* libs/Makefile.am:
	* libs/Flocale.c (FlocaleEncodeString):
	* libs/FCombineChars.c:
	* libs/FCombineChars.h:
	implemeted support for combining characters

2003-05-31  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	set the version 2.5.8

2003-05-30  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/builtins.c:
	* fvwm/fvwm2.1:
	SetEnv with only one parameter is ignored now

2003-05-30  Dan Espen  <dane@mk.telcordia.com>

	* NEWS: Add 2.4.16 news.

2003-05-29  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/functions.c (expand_extended_var):
	(expand):
	fixed expanding variables that are empty, for example $[w.resource]
	or $[gt.a] or $[version.info] or $[EMPTY_STRING]

	* fvwm/fvwm.1.in:
	s/$w/$[w.id]/

2003-05-29  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.c (ewmh_atom_wm_state):
	Do not claim that we support _NET_WM_STATE_FULLSCREEN

2003-05-28  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	A TaskBar news

2003-05-27  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (__update_windowlist):
	don't fiddle with the window list for windows that are going to be
	destroyed

	* fvwm/add_window.c (delete_client_context):
	(destroy_auxiliary_windows):
	(destroy_window):
	fixed empty frame windows when X reused the window id for a new window
	while the old one was scheduled to be destroyed

2003-05-26  olicha  <olivier.chapuis@free.fr>

	* fvwm/icons.c (GetIconBitmap):
	(set_icon_pixmap_background):
	(CreateIconWindow):
	(DrawIconPixmapWindow):
	(DrawIconWindow):
	Fixed loading of application supplied pixmap on 8/24 depth screen

2003-05-25  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/builtins.c (CMD_Exec): Another attempt to fix problem with
	Rox Filer.

	* fvwm/decorations.c: Sync up motif hints structure to aix,hp,
	solaris.

2003-05-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/misc.c (GrabEm):
	do not confine the pointer to the root window when grabbed; this can
	cause the pointer to be warped to another screen
	* fvwm/menus.c (get_menu_options):
	fixed placement of menus on Xinerama screens
	* libs/FScreen.c (FScreenGetResistanceRect):
	fixed function to do something useful
	* libs/Flocale.c (FlocaleDrawString):
	support font shadowing without colorsets
	* libs/ColorUtils.c:
	reformatted file
	* fvwm/menuitem.c (menuitem_paint):
	do not use colorsets in menus if they are not defined
	* fvwm/menustyle.c (menustyle_parse_style):
	fixed initialisation of MenuStyle colorsets when mwm/fvwm menu style is
	issued again

2003-05-23  olicha  <olivier.chapuis@free.fr>

	* fvwm/bindings.c (ParseBinding):
	(bind_get_bound_button_contexts):
	* libs/Bindings.c (GrabWindowButton):
	Fixed window button grabbing

2003-05-22  olicha  <olivier.chapuis@free.fr>

	* fvwm/colorset.c (parse_colorset):
	Fixed an uninit mem

	* fvwm/borders.c (border_fill_pixmap_background):
	Fixed problem with depth 1 pixmap

	* fvwm/conditional.c (CMD_On):
	Fixed memory leaks

	* fvwm/conditional.c (CreateConditionMask):
	Fixed memory leaks for layer and state

2003-05-22  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	added perllib/FVWM/Tracker/Makefile

2003-05-22  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.1.in:
	* fvwm/style.h:
	* fvwm/style.c (print_styles):
	* fvwm/builtins.c (CMD_PrintInfo):
	New style subject to PrintInfo

2003-05-20  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FlocaleGetFontOrFontSet):
	Allowed empty xft font name

	* libs/Makefile.am:
	* libs/flist.c (new file):
	* libs/flist.h (new file):
	Added a flist structure and some basic function for handling such
	stucture

	* libs/FGettext.c (*):
	Use the new flist struct and functions interface

	* fvwm/screen.h (ScreenInfo):
	* fvwm/update.c (destroy_scheduled_windows):
	* fvwm/add_window.c (destroy_window):
	Added a list for the windows which are scheduled for destroy
	Remove a fw at once from the fw list when we destroy_window

2003-05-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/style.c (CMD_DestroyStyle):
	do not update windows if no style was deleted
	(check_window_style_change):
	fixed update of window styles w/ DestroyStyle

2003-05-18  olicha  <olivier.chapuis@free.fr>

	* fvwm/conditional.c (CMD_On):
	Added x,r,w,f and i file condition to the On command

	* fvwm/add_window.c (destroy_window):
	Fixed a memory leak (a FvwmWindow !) when a window is not destroyed
	but scheduled for destroy. Not sure that the fix is good.

	* fvwm/functions.c (__execute_function):
	* libs/defaults.h:
	Limited the depth of function to MAX_FUNCTION_DEPTH (=512).
	This fixes some cores dumps with "recursives" functions

	* fvwm/borders.c (border_create_root_transparent_pixmap):
	(border_draw_decor_to_pixmap):
	Fixed a core dump with a root transparent rotated title
	Fixed X errors 56 with RootTransparent titlebar and no E pixmap

	* libs/FGettext.c (fgettext_add_one_path):
	(FGettextInit):
	(FGettextSetLocalePath):
	Fixed memory leak and chainning

	* fvwm/builtins.c (CMD_PrintInfo):
	Fixed a parsing leak

	* fvwm/conditional.c (Circulate):
	Fixed a mask memory leaks

	* libs/defaults.h:
	* libs/Flocale.c (FlocaleGetFont):
	(FlocaleGetFontSet):
	(FlocaleGetFftFont):
	Fixed a core dump when a 0 font is given with an encoding hints.
	Added a default FFT font

	* fvwm/builtins.c (CMD_DefaultFont):
	Fixed a core dump when the default font change and a redraw
	(icon or window) is proceeded before flush_window_updates is called

	* fvwm/menustyle.c (CMD_CopyMenuStyle):
	Fixed gradients copy

	* fvwm/menustyle.c (menustyle_parse_style):
	Fixed UMR's related to colorset

	* fvwm/builtins.c (ReadDecorFace):
	Removed inconsistent #if 0 code and comments about leak and MiniIcon
	decor style.

	* fvwm/menustyle.h:
	* fvwm/menustyle.c (menustyle_free):
	Fixed a fore stipple gc leak

	* fvwm/windowlist.c (CMD_WindowList):
	Fixed a sor_keyname memory leak

	* fvwm/fvwm.c (ResetAllButtons):
	Fixed the default buttons memory leak

2003-05-08  olicha  <olivier.chapuis@free.fr>

	* fvwm/windowlist.c (CMD_WindowList):
	Fixed a memory leak if MaxLabelWidth is used

2003-05-08  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/functions.c (__context_has_window):
	(__execute_function):
	* fvwm/functions.h:
	fixed excution of functions requiring a window without a window when
	called with "silent" from a complex function

2003-05-07  olicha  <olivier.chapuis@free.fr>

	* libs/System.c (searchPath):
	Fixed a core dump

2003-05-04  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (__move_loop):
	(__resize_window):
	fixed core dumps

2003-05-03  olicha  <olivier.chapuis@free.fr>

	* todo-2.6:
	Updated

2003-05-01  Bob Woodside  <dumbledore@woodsway.com>

	* fvwm/NEWS:
	Minor typo corrections.

2003-04-28  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (__move_loop):
	fixed UMR
	removed debug code
	(__resize_window):
	fixed UMR

2003-04-28  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.c (ewmh_atom_wm_state):
	(ewmh_HandleDock):
	* fvwm/ewmh_events.c (ewmh_WMStateStaysOnTop):
	(ewmh_WMStateStaysOnBottom):
	Fixed EwmhUseStackingHints and EwmhIgnoreStackingHints style update

2003-04-27  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/module_interface.c (do_execute_module):
	* fvwm/fvwm.c (main):
	* libs/envvar.c (flib_putenv):
	* fvwm/builtins.c (add_to_env_list):
	(CMD_SetEnv):
	(CMD_UnsetEnv):
	fixed putenv memory leaks

	* libs/envvar.c (strIns):
	removed debug code
	reformatted file
	(flib_putenv):
	replacement for putenv without memory leaks

	* fvwm/frame.c:
	removed debug code

	* fvwm/fvwm.c (StartupStuff):
	fixed UMR
	* fvwm/add_window.c (free_window_names):
	fixed memory leaks
	* fvwm/events.c (HandlePropertyNotify):
	fixed memory leak
	* fvwm/menus.c (do_menu):
	fixed core dump
	(__mloop_exit_selected):
	safety patch
	* fvwm/menucmd.c (menu_func):
	fixed memory leak

	* fvwm/builtins.c (CMD_Destroy):
	(CMD_Close):
	call destroy_window right after XKillClient; do not wait for the window
	to die on its own

	* fvwm/menucmd.c (menu_func):
	* fvwm/windowlist.c (CMD_WindowList):
	fixed core dumps

2003-04-26  Mikhael Goikhman  <migo@homemail.com>

	* INSTALL.fvwm:
	several updates (FvwmGtk, gettext)

2003-04-26  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menucmd.c (menu_func):
	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/menus.h:
	* fvwm/menus.c (is_double_click):
	(pop_menu_up):
	(pop_menu_down):
	(pop_menu_down_and_repaint_parent):
	(__mloop_get_event_timeout_loop):
	(__mloop_get_event):
	(__mloop_handle_event):
	(__mloop_select_item):
	(__mloop_make_popup):
	(__mloop_get_mi_actions):
	(__mloop_do_popup):
	(__mloop_do_menu):
	(__mloop_handle_action_with_mi):
	(__mloop_handle_action_without_mi):
	(__mloop_exit):
	(menu_enter_tear_off_menu):
	(menu_close_tear_off_menu):
	(do_menu):
	replaced the pfw and pcontext members of the MenuParameters structure
	with an execution context pointer
	(_menu_execute_function):
	wrapper function to simplyfy command execution from within menus
	(do_menu):
	fixed warping pointer to first menu item when invoked with the mouse

	* fvwm/execcontext.c:
	removed debug code

2003-04-26  Mikhael Goikhman  <migo@homemail.com>

	* libs/XError.c:
	reformatted

	* fvwm.1.in:
	* fvwm.c:
	replaced "Mouse 0 R N Menu MenuFvwmRoot" binding with "Mouse 1 R A"

2003-04-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (do_menu):
	the NoWarp position hint option works with root menus too

	* fvwm/ConfigFvwmDefaults:
	removed GrabFocusOff and GrabFocusTransient since they nullify the
	default with the plain focus policies

2003-04-24  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_events.c (ewmh_WMStateStaysOnBottom):
	Fixed a miss print in my previous commit

	* fvwm/ewmh_events.c (ewmh_WMStateStaysOnBottom):
	(ewmh_MoveResize)
	(ewmh_WMStateStaysOnBottom):
	* fvwm/ewmh.c (ewmh_AllowsMinimize):
	* fvwm/ewmh_intern.h:
	Added comment on the implementation at the top of ewmh.c.
	Fixed _NET_WM_MOVERESIZE.  Added _NET_WM_ACTION_MINIMIZE in
	_NET_WM_ALLOWED_ACTIONS (almost nothing todo). Added
	_NET_WM_STATE_ABOVE (just an alias of _NET_WM_STATE_STAYS_ON_TOP)
	and _NET_WM_STATE_BELOW.

	* AUTHORS:
	Added David Fries. Updated my entries.

	* todo-2.6:
	One update

2003-04-23  olicha  <olivier.chapuis@free.fr>

	* fvwm/module_interface.c (CMD_KillModule):
	Fixed a leak when we have an alias

	* libs/Picture.c (PFreeFvwmPictureData):
	* libs/Picture.h:
	New interface function for just freeing the allocated data (not
	the pixmaps).

2003-04-22  olicha  <olivier.chapuis@free.fr>

	* fvwm/colorset.c (get_root_pixmap):
	Fixed a minor memory leak

	* fvwm/functions.c (execute_complex_function):
	Fixed uninitialized d.type

	* libs/Ficonv.c (FiconvSetupConversion):
	(FiconvUtf8ToCharset):
	(FiconvCharsetToUtf8):
	Formating clean-up

	* fvwm/ewmh_names.c (EWMH_SetVisibleName):
	(EWMH_WMIconName):
	(EWMH_WMName):
	Fixed a core dump and safety check related to not loaded font

2003-04-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Module.h:
	reformatted

2003-04-16  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_events.c (ewmh_CloseWindow):
	(ewmh_MoveResize):
	(ewmh_WMState):
	(ewmh_WMStateHidden):
	Check if functions are allowed

	* fvwm/ewmh.c (ewmh_HandleDesktop):
	(ewmh_HandleDock):
	Set Desktop and Dock uniconifiable and unmaximazable

	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/screen.h:
	Fixed greyed action with EWMH desktop

2003-04-16  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	documented FvwmEvent behaviour of executing window related event
	handlers within a window context

	* fvwm/fvwm.1.in:
	updated WindowId entry

2003-04-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/schedule.c (deschedule):
	(squeue_execute):
	(execute_obj_func):
	* fvwm/module_interface.c (DeleteMessageQueueBuff):
	(ExecuteCommandQueue):
	* libs/queue.c (fqueue_init):
	(fqueue_remove_or_operate_from_front):
	(fqueue_remove_or_operate_from_end):
	(fqueue_remove_or_operate_all):
	(fqueue_init):
	(fqueue_unlock_queue):
	(fqueue_lock_queue):
	(fqueue_add_at_front):
	(fqueue_add_inside):
	(fqueue_get_first):
	core dump fixes

	* libs/queue.c (fqueue_remove_or_operate_all):
	(fqueue_remove_or_operate_from_end):
	(fqueue_remove_or_operate_from_front):
	* fvwm/module_interface.c (DeleteMessageQueueBuff):
	(ExecuteCommandQueue):
	* fvwm/schedule.c (deschedule):
	(check_deschedule_obj_func):
	(deschedule_obj_func):
	(squeue_execute):
	(check_execute_obj_func):
	(execute_obj_func):
	(copy_obj_func):
	core dump fixes

2003-04-15  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/ConfigFvwmDefaults:
	* fvwm/fvwm.1.in:
	* fvwm/windowlist.c:
	* sample.fvwmrc/system.fvwm2rc-sample-95:
	* NEWS:
	WindowListFunc is executed now within a window context,
	so "WindowId $0" is not needed anymore in its definition

2003-04-14  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.1.in:
	* NEWS:
	Documented LocalePath and $[gt.str]. FvwmScript news.

	* fvwm/expand.c (expand_vars_extended):
	Fixed $[gt.str] expansion

	* configure.in:
	New gettext domain FvwmScript

	* libs/FGettext.c (FGettextCopy):
	* libs/FGettext.h:
	New interface function which copies the string

2003-04-14  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/conditional.c (CMD_Cond):
	allow to negate the condition code with '!' prefix

	* fvwm/schedule.c (CMD_Schedule):
	(CMD_Deschedule):
	support hexadecimal ids

	* libs/Parse.c (GetIntegerArguments):
	(_get_suffixed_integer_arguments):
	(GetSuffixedIntegerArguments):
	(GetIntegerArgumentsAnyBase):
	new utitily function to allow hexadecimal integer arguments

2003-04-10  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FlocaleGetFullNameOfFontStruct):
	(FlocaleGetCharsetOfFontStruct):
	(FlocaleGetCharsetFromName):
	(FlocaleFixNameForFontSet):
	(FlocaleGetFontSet):
	(FlocalePrintLocaleInfo):
	* libs/FlocaleCharset.h:
	* libs/FlocaleCharset.c (FlocaleCharsetIsCharsetXLocale):
	(FlocaleCharsetPrintXOMInfo):
	Load a FontSet only when this is reasonable. Finished PrintInfo locale 2

2003-04-08  olicha  <olivier.chapuis@free.fr>

	* libs/defaults.h (FLOCALE_MB_FALLBACK_FONT):
	fixed the default font name

2003-04-07  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/ewmh_names.c (EWMH_WMName, EWMH_WMIconName):
	completely ignore application requests to set exactly the same
	window name or icon name (xmms sets it every second),
	this avoids some redundant module messages and redraws

2003-04-05  Mikhael Goikhman  <migo@homemail.com>

	* Makefile.am:
	fixed DIST

2003-04-04  olicha  <olivier.chapuis@free.fr>

	* configure.in:
	Fixed a miss print in fribidi config check

2003-04-04  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (__restore_focus_after_unmap):
	iconified windows without an icon do not receive focus

2003-03-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/virtual (CMD_GotoDeskAndPage):
	different "GotoDeskAndPage prev" fix that works with any viewports, not
	just multiples of the screen size

2003-03-29  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/virtual (CMD_GotoDeskAndPage):
	fixed "GotoDeskAndPage prev" with desks larger than 2x2

2003-03-28  Dominik Vogt  <dominik.vogt@gmx.de>

	* ETHICAL_LICENSE:
	added file

	* fvwm/menucmd.c (menu_func):
	fixed double key presses to choose default menu action

	* fvwm/focus.c (__update_windowlist):
	fixed ordering of window list with SloopyFocus when using the Focus
	command

2003-03-22  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm.1.in:
	clarified some things, typo fixed

2003-03-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Colorset.c (CreateBackgroundPixmap):
	(GetWindowBackgroundPixmapSize):
	(get_aspect_dimensions):
	fixed size calculation of aspect pixmaps

2003-03-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/icons.c (clear_icon):
	(clear_icon):
	(AutoPlaceIcon):
	(Iconify):
	* fvwm/geometry.c (get_icon_geometry):
	(modify_icon_position):
	set a valid icon picture position if there is neither a picture nor a
	title

2003-03-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS:
	* AUTHORS:
	reformatted to fit better on the web page

2003-03-15  Mikhael Goikhman  <migo@homemail.com>

	* todo-2.6:
	added items from "My TODO" message on 2003-01-02

	* fvwm/fvwm.1.in:
	actually remove duplicate Iconify entry, use $[w.id] not $w, more fixes

2003-03-14  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/FScreen.c:
	removed debug output

2003-03-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/FScreen.c (FScreenMangleScreenIntoUSPosHints):
	(FScreenFetchMangledScreenFromUSPosHints):
	two functions to allow USPosition hints from modules and StartsOnScreen
	work at the same time

	* fvwm/conditional.c (direction_cmd):
	Some fixes, reformatting and improvements.

2003-03-12  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/icons.c (Iconify):
	initialise icon position to +0+0 if there is neiter a picture nor a
	title

	* fvwm/functions.c (DeferExecution):
	action trigger fix

	* todo-2.6 (todo):
	closed some items

	* fvwm/update.c (apply_window_updates):
	fixed drawing of sticky icon titles when the stickyicon style is being
	set

2003-03-11  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/placement.c (CMD_PlaceAgain):
	* fvwm/add_window.c (setup_window_placement):
	* fvwm/virtual.c (MapDesk):
	update the GNOME hints desk when changing desks; fixes placeagain with
	stickyicon style
	some placeagain fixes

	* fvwm/fvwm.1.in (Example):
	removed duplicate Iconify section

	* todo-2.6 (todo):
	closed C.11

	* fvwm/functable.c (func_table):
	* fvwm/functions.h (func_type):
	* fvwm/functions.c (__execute_function):
	(execute_complex_function):
	(DeferExecution):
	fixed a new and and old window selection bug

2003-03-09  Dan Espen  <dane@mk.telcordia.com>

	* todo-2.6 (todo): Close C.13 (861): cant reproduce, no problems
	detected with Purify.

2003-03-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Colorset.c (SetWindowBackgroundWithOffset):
	use None, not 0 for Window structures

	* fvwm/events.c (InitEventHandlerJumpTable):
	(HandleKeyRelease):
	(__handle_key_event):
	* fvwm/bindings.c (ParseBinding):
	(activate_binding):
	* libs/Bindings.h:
	* fvwm/fvwm.1.in:
	removed key release binding because they can not work reliably

2003-03-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/functable.c (func_table):
	trigger on ButtonPress for many of the functions

	* fvwm/functions.c (__execute_function):
	(__execute_function):
	fixed conditional commands a la "Current" triggered on root window

2003-03-01  Dan Espen  <dane@mk.telcordia.com>

	* todo-2.6: Closed B.2, C.21.

2003-02-28  olicha  <olivier.chapuis@free.fr>

	* libs/defaults.h:
	* fvwm/events.c (HandleConfigureRequest):
	Added a workaround for application with broken max/min size hints
	vs a size configure request. This "fixes" floating java JToolBar.

	* fvwm/add_window.c (GetWindowSizeHints):
	Check that the max size hint is not broken relatively to the the base
	size hint

2003-02-28  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS:
	* configure.in:
	released 2.5.6, set version to 2.5.7

	* NEWS:
	* configure.in:
	updated for 2.5.6

2003-02-26  Tony Finch  <dot@dotat.at>

	* fvwm/borders.c (border_draw_one_border_part):
	Don't draw the handle relief marks when the border is flat.

2003-02-27  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	s/fribdi_in_path/fribidi_in_path/

	* todo-2.6:
	spell checking and some reformatting

2003-02-26  olicha  <olivier.chapuis@free.fr>

	* fvwm/borders.c (border_setup_bar_pixmaps):
	Fixed a miss-print which can cause a core dump

	* todo-2.6:
	Added a 2.6 TODO file

2003-02-25  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/focus.c (focus_grab_buttons): Fix compile problems Forte7,
	void functioin cannot return a value.

2003-02-25  olicha  <olivier.chapuis@free.fr>

	* configure.in:
	Fixed compilation warning if fribidi is in path

2003-02-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/windowlist.c (CMD_WindowList):
	removed unused instruction

2003-02-22  Dan Espen  <dane@mk.telcordia.com>

	* configure.in: Remove nested function from -Werror check.
	Lets configure work without gcc.

	* fvwm/read.h:
	* fvwm/read.c (run_command_stream): Make Break work from PipeRead.

2003-02-21  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/functions.c (__run_complex_function_items): Make Break start
	working again.

2003-02-21  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (get_outline_rects):
	(draw_move_resize_grid):
	initial drawing and final undrawing of wire frame no longer toggles the
	pixel in the top left corner of the screen

	* fvwm/expand.c (expand_vars):
	disabled warnings about one letter variables

2003-02-17  Dan Espen  <dane@mk.telcordia.com>

	* README: Update to reflect release 2.5.x.
	* NEWS: Update news for FvwmPager drag fix.

2003-02-15  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.1.in:
	Fixed a typo

2003-02-13  olicha  <olivier.chapuis@free.fr>

	* fvwm/gnome.c (GNOME_SetClientList):
	Applied David Fries patch which fixes a possible crash with more
	than 256 windows
	(GNOME_SetClientList):
	malloc -> safemalloc

2003-02-09  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in (Note): Update %space/%tab description in menu.
	Give the XorValue range.

2003-02-08  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: Fully document the emulate command.

2003-02-06  olicha  <olivier.chapuis@free.fr>

	* fvwm/borders.c (get_common_decorations):
	(border_get_border_background):

2003-02-05  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/builtins.c (CMD_Exec): Use STDIN_FILENO instead of a zero.

2003-02-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menuitem.h:
	* fvwm/menuitem.c (menuitem_get_size):
	* fvwm/menus.c (calculate_item_sizes):
	renamed "mips" to mipst

	* fvwm/menuitem.c (menuitem_get_item_size):
	* fvwm/menus.c (_calculate_item_sizes):
	backed out patch from 30-Jan-2003

2003-01-30  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menuitem.h:
	* fvwm/menuitem.c (menuitem_get_item_size):
	* fvwm/menus.c (_calculate_item_sizes):
	functions renamed due to global name space collision with IRIX 6.5

2003-01-26  Dominik Vogt  <dominik.vogt@gmx.de>

	* configure.in:
	added tests/hints/Makefile.am

2003-01-24  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: Fixed next->previous in Prev command.

2003-01-20  Dan Espen  <dane@mk.telcordia.com>

	* sample.fvwmrc/DecorWin95:
	* sample.fvwmrc/DecorMwm: Remove bad mouse binding, that I meant to
	Replace a long time ago.

2003-01-20  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/stack.c (new_layer):
	(collect_transients_recursive):
	(__restack_window):
	fixed Layer command

	* fvwm/events.c (HandleConfigureRequest):
	fixed placement of icons
	fixed size calculations of icons

2003-01-18  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/expand.c:
	fixed $[desk.name<n>] that was masked by $[desk.n],
	added $[desk.pagesx] and $[desk.pagesy]

2003-01-16  Dan Espen  <dane@mk.telcordia.com>

	* NEWS: Update news.  Spelling fixes 2.5.x news.
	* fvwm/builtins.c (CMD_Exec): Close stdin so the exec'd process knows
	its not interactive.

2003-01-12  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/functable.c:
	added a short description together with the commands

2003-01-12  Marcus Lundblad  <ml@update.uu.se>

	* NEWS:
	Added conditionals Closable,Iconifiable,Maximizable,FixedSize and
	HasHandles

2003-01-11  Mikhael Goikhman  <migo@homemail.com>

	* expand.c:
	* NEWS:
	deprecate all single letter variables, new variables are supported now
	$[w.id], $[w.name], $[w.iconname], $[w.class], $[w.resource],
	$[desk.n], $[version.num], $[version.info], $[version.line].

2003-01-07  Marcus Lundblad <ml@update.uu.se>

	* fvwm/style.c (style_parse_one_style_option):
	* fvwm/fvwm.1.in:
	Removed duplicate styles Unclosable,Unmaximizable,Uniconifiable and
	DisallowMaximizeFixedSize

2003-01-06  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: Lang check.

2003-01-03  olicha  <olivier.chapuis@free.fr>

	* fvwm/commands.h:
	* INSTALL.fvwm:
	* fvwm/ewmh.h:
	* fvwm/ewmh_intern.h:
	* fvwm/ewmh_names.c:
	* fvwm/ewmh_icons.c:
	* fvwm/ewmh_events.c:
	* fvwm/ewmh_conf.c:
	* fvwm/ewmh.c:
	* fvwm/gnome.c:
	* fvwm/gnome.h:
	* fvwm/functable.c (func_table):
	* fvwm/fvwm.c (setVersionInfo):
	* acconfig.h:
	* configure.in:
	Removed GNOME and HAVE_EWMH ifdef

	* fvwm/fvwm.1.in:
	Documented UseTitleDecorRotation

2003-01-03  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/module_interface.c (MoveViewport):
	* fvwm/virtual.c (CMD_DesktopSize, CMD_Send_WindowList):
	M_NEW_PAGE now has 7 arguments

2003-01-02  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.1.in:
	Documented  the new icon style options

	* fvwm/fvwm.h:
	* fvwm/icons.h:
	* fvwm/icons.c (DrawIconTitleWindow):
	(DrawIconPixmapWindow):
	(setup_icon_title_size):
	* fvwm/style.c (style_parse_one_style_option):
	Fixed IconTitleRelief and IconBackgroundRelief arguments

	* fvwm/icons.c (GetIconPicture):
	(SetIconPixmapSize):
	Fixed IconSize style for non shaped depth > 1 pixmaps

2003-01-02  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	* fvwm/commands.h:
	* fvwm/conditional.c (CMD_On):
	* fvwm/functable.c:
	* fvwm/fvwm.1.in:
	new conditional command On for non-window related conditions

	* fvwm/execcontext.h:
	* fvwm/fvwm.c (Done, SetRCDefaults, StartupStuff):
	two new exec contexts for restarting

2003-01-02  olicha  <olivier.chapuis@free.fr>

	* fvwm/builtins.c (ReadMultiPixmapDecor):
	StretchedPixmap -> AdjustedPixmap

	* fvwm/fvwm.1.in:
	Documented Colorset in BorderStyle, TitleStyle and ButonsStyle
	Documented the new MultiPixmap syntax

2002-12-31  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	* fvwm/fvwm.1.in:
	* fvwm/builtins.c (ReadTitleButton):
	* fvwm/screen.h:
	new button state shortcuts AllActiveUp, AllActiveDown,
	AllInactiveUp, AllInactiveDown

2002-12-31  olicha  <olivier.chapuis@free.fr>

	* libs/PictureGraphics.c (PCopyArea):
	Fixed rendering of depth 1 pixmap with a mask

	* fvwm/update.c (apply_window_updates):
	Fixed icon bg cset update

	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/geometry.c (move_icon_to_position):
	Fixed non shaped icons with a bg padding but without cs bg

	* NEWS:
	* fvwm/style.c (style_parse_icon_size_style):
	(merge_styles):
	* fvwm/fvwm.h (window_style):
	* fvwm/add_window.c (setup_icon_size_limits):
	* fvwm/icons.c (SetIconPixmapSize):
	(GetIconPicture):
	New option to IconSize style: Adjusted, Streched, Shrunk

	* fvwm/icons.c (SetIconPixmapSize):
	(GetIconPicture):
	Always center the icon with IconSize if the icon has a background

2002-12-30  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	FvwmWindowMenu renaming; compact long diagnostics into half of line

	* NEWS:
	documeted and corrected new features

	* fvwm/fvwm.1.in:
	removed a "deprecated" tag from TitleStyle/ButtonStyle/BorderStyle
	since these are the only way currently to create themes

	* fvwm/fvwm.c:
	small reformatting

2002-12-30  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	* fvwm/icons.c (setup_icon_title_size):
	(set_icon_pixmap_background):
	(CreateIconWindow):
	(DrawIconTitleWindow):
	(DrawIconPixmapWindow):
	(DrawIconWindow):
	(ChangeIconPixmap):
	(RedoIconName):
	* fvwm/events.c (HandleEnterNotify):
	(HandleExpose):
	(HandleLeaveNotify):
	(HandlePropertyNotify):
	* fvwm/borders.c (border_draw_decorations):
	* fvwm/default.h:
	* fvwm/fvwm.h:
	* fvwm/add_window.c (setup_icon_background_parameters):
	(setup_icon_title_parameters):
	(setup_style_and_decor):
	(setup_icon_font):
	* fvwm/geometry.c (move_icon_to_position):
	* fvwm/style.h:
	* fvwm/style.c (check_window_style_change):
	(update_style_colorset):
	(update_icon_title_cs_style):
	(update_icon_title_cs_hi_style):
	(update_icon_background_cs_style):
	(merge_styles):
	* fvwm/update.h:
	* fvwm/update.c (apply_window_updates):
	New style options IconBackgroundColorset, IconTitleColorset,
 	HilightIconTitleColorset, IconTitleRelief, IconBackgroundRelief
	and IconBackgroundPadding

2002-12-28  Mikhael Goikhman  <migo@homemail.com>

	* libs/FShm.h:
	fixed compilation without XShm

	* fvwm/borders.c (border_rotate_titlebar_descr):
	fixed warning: deprecated use of label at end of compound statement

2002-12-27  olicha  <olivier.chapuis@free.fr>

	* fvwm/ConfigFvwmDefaults:
	UseTitleDecorRotation is a default

	* libs/Graphics.c (do_relieve_rectangle_with_rotation):
	(do_relieve_rectangle):
	* libs/fvwmlib.h:
	* fvwm/borders.c (border_draw_title_stick_lines):
	(border_create_root_transparent_pixmap):
	(border_mp_render_into_pixmap):
	(border_draw_decor_to_pixmap):
	(border_mp_render_into_pixmap):
	(border_mp_get_titlebar_descr):
	(border_mp_draw_mp_titlebar):
	(border_draw_decor_to_pixmap):
	(border_set_button_pixmap):
	(border_get_titlebar_draw_descr):
	(border_set_title_pixmap):
	(border_rotate_titlebar_descr):
	(border_get_titlebar_descr):
	Completed UseTitleDecorRotation

2002-12-26  olicha  <olivier.chapuis@free.fr>

	* fvwm/update.c (apply_window_updates):
	* fvwm/frame.c (frame_get_titlebar_dimensions):
	(frame_set_decor_gravities):
	* fvwm/borders.c (border_set_button_pixmap):
	(border_get_titlebar_descr):
	(border_draw_one_button):
	Buttons order follows the title text rotations.
	More UseTitleDecorRotation preparation

	* fvwm/borders.c (border_draw_decor_to_pixmap):
	Fixed SolidButton

2002-12-24  olicha  <olivier.chapuis@free.fr>

	* fvwm/borders.c (border_mp_render_into_pixmap):
	(border_fill_pixmap_background):
	Some borders drawing fixes

	* libs/Graphics.c (CreateRotatedPixmap):
	* fvwm/geometry.c (get_title_font_size_and_offset):
	* fvwm/update.c (apply_window_updates):
	* fvwm/borders.c (border_set_button_pixmap):
	(border_get_titlebar_draw_descr):
	(border_draw_title):
	(border_rotate_titlebar_descr):
	(border_get_titlebar_descr):
	More UseTitleDecorRotation preparation

2002-12-22  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/add_window.c (GetWindowSizeHints): Change hint warning message
	so we won't get so many application bugs report to fvwm-workers.

	* fvwm/fvwm.1.in: Grammar: allows to -> allows for.

2002-12-21  Marcus Lundblad <ml@update.uu.se>

	* fvwm/style.c (style_parse_one_style_option):
	* fvwm/style.h:
	* fvwm/fvwm.h:
	* fvwm/window_flags:
	* fvwm/decorations.c (is_function_allowed,
	                      __is_resize_allowed):
	Added styles Closable, Iconifiable, Maximizable and
	AllowMaximizeFixedSize
	* fvwm/conditional.c (MatchesConditionMask,
	                      CreateConditionMask):
	Added conditionals Closable,Iconifiable and Maximizable
	* fvwm/fvwm.1.in:
	Documented styles Closable, Iconifiable, Maximizable and
	AllowMaximizeFixedSize and conditionals
	Closable,Iconifiable and Maximizable

2002-12-20  olicha  <olivier.chapuis@free.fr>

	* fvwm/window_flags.h:
	* fvwm/update.h:
	* fvwm/update.c (apply_window_updates):
	* fvwm/style.h:
	* fvwm/style.c (style_parse_one_style_option):
	* fvwm/fvwm.h:
	UseTitleDecorRotation style preparation

	* fvwm/fvwm.c (main):
	Use best TrueColor visual

	* fvwm/borders.c (border_get_border_gcs):
	Create the transparent_gc with the Scr.NoFocusWin and not the FW_W_FRAME
	window which may have a depth != Pdepth

	* fvwm/menus.c (paint_side_pic):
	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/icons.c (DrawIconPixmapWindow):
	* fvwm/colorset.c (parse_colorset):
	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	Used Scr.AlphaGC

2002-12-19  olicha  <olivier.chapuis@free.fr>

	* libs/Graphics.c (CreateRotatedPixmap):
	* libs/fvwmlib.h:
	New interface function CreateRotatedPixmap

	* libs/PictureImageLoader.c (PImageCreatePixmapFromArgbData):
	(PImageLoadXpm):
	* libs/PictureGraphics.c (PCreateRenderPixmap):
	(PCreateDitherPixmap):
	* libs/Graphics.c (CreateGradientPixmap):
	(CreateRotatedPixmap):
	* acconfig.h:
	* configure.in:
	* libs/FShm.h (new file):
	* libs/FImage.h (new file):
	* libs/FImage.c (new file):
	* libs/Makefile.am:
	* fvwm/fvwm.c (setVersionInfo):
	Added MIT Shared Memory Extension for XImage

	* NEWS:
	Some news

	* fvwm/screen.h:
	* fvwm/builtins.c (ReadDecorFace):
	(FreeDecorFace):
	* fvwm/borders.c (border_draw_decor_to_pixmap):
	(border_fill_pixmap_background):
	AdjustedPixmap, StretchedPixmap and ShrunkPixmap

2002-12-17  Mikhael Goikhman  <migo@homemail.com>

	* libs/FBidiJoin.c:
	shape-and-join fixes from Nadim Shaikli (slightly modified)

2002-12-16  olicha  <olivier.chapuis@free.fr>

	* libs/PictureGraphics.h:
	* libs/PictureGraphics.c (PTileRectangle):
	(PGraphicsCreateTiledPicture):
	* libs/Graphics.c (CreateTiledPixmap):
	New interface function: PGraphicsCreateTiledPicture

	* fvwm/screen.h:
	* fvwm/fvwm.c (CreateGCs):
	Added a global (Scr) alpha GC

	* configure.in:
	* fvwm/screen.h:
	* fvwm/builtins.c (ReadMultiPixmapDecor):
	(update_decorface_colorset):
	(FreeDecorFace):
	* fvwm/borders.c (border_get_tb_parts_to_draw):
	(border_fill_pixmap_background):
	(border_setup_bar_pixmaps):
	(border_get_bar_pixmaps):
	(border_free_bar_pixmaps):
	(border_mp_render_into_pixmap):
	(border_mp_get_length):
	(border_mp_get_titlebar_descr):
	(border_mp_get_geometry):
	(border_mp_get_use_title_style_parts_and_geometry):
	(border_mp_draw_mp_titlebar):
	(border_draw_decor_to_pixmap):
	(border_draw_title_deep):
	(border_get_titlebar_draw_descr):
	(border_setup_use_title_style):
	(border_get_titlebar_descr_state):
	(border_get_titlebar_descr):
	(border_get_transparent_decorations_part):
	(border_draw_title_stick_lines):
	MultiPixmap can use Colorset and Solid color. Various others minor
	improvement in MultiPixmap. "Merge" the MultiPixmap code into the
	"main" drawing code and remove the #ifdef.
	New option to ButtonStyle and TitleStyle: StretchedPixmap.
	Use the new Scr.AlphaGC.

2002-12-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (validate_transientfor):
	do not ignore transientfor hint for iconified windows

2002-12-12  Jason Weber <baboon@imonk.com>

	* fvwm/fvwm.1.in:
	* fvwm/conditional.c (CMD_ScanForWindow):
	* fvwm/commands.h:
	* fvwm/functable.c:
	rename ScanWindow to ScanForWindow

2002-12-12  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/colorset.c (parse_colorset):
	* fvwm/icons.c (DrawIconPixmapWindow):
	* fvwm/focus.c (_SetFocusWindow):
	(_ReturnFocusWindow):
	(_DeleteFocus):
	(_ForceDeleteFocus):
	(__activate_window_by_command):
	patches to prevent UMR messages in memory debuggers

2002-12-11  Jason Weber <baboon@imonk.com>

	* fvwm/fvwm.1.in: Added ScanWindow

	* fvwm/conditional.c (CMD_Direction, CMD_ScanWindow, direction_cmd):
	* fvwm/commands.h:
	* fvwm/functable.c:
	Generalized CMD_Direction into direction_cmd.
	Pipe CMD_Direction and CMD_ScanWindow into direction_cmd.
	Replace Cycle prefix with secondary direction argument.

2002-12-10  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: Applied Mikhael's quote fix.

2002-12-05  Marcus Lundblad <ml@update.uu.se>
	* fvwm/conditional.c (CreateConditionMask):
	Implemented conditional "FixedSize" and "HasHandles"
	* fvwm/fvwm.1.in
	Documented conditional options "FixedSize" and "HasHandles".

2002-12-08  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/placement.c (PlaceWindow):
	fixed StickyAcrossDesks w/ StartsOnPage

	* fvwm/functable.c:
	* fvwm/commands.h:
	* fvwm/ewmh_conf.c (set_state_workaround):
	* fvwm/update.c (apply_window_updates):
	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/ewmh_events.c (ewmh_WMDesktop):
	(ewmh_WMStateSticky):
	* fvwm/conditional.c (CreateConditionMask):
	* fvwm/gnome.c (GNOME_SetHints):
	(GNOME_GetStyle):
	(GNOME_HandlePropRequest):
	* fvwm/placement.c (SmartPlacement):
	(get_next_x):
	(get_next_y):
	(test_fit):
	(PlaceWindow):
	* fvwm/session.c (SaveWindowStates):
	(MatchWinToSM):
	(MatchWinToSM):
	* fvwm/ewmh.c (check_desk):
	(EWMH_SetWMDesktop):
	(ewmh_ComputeAndSetWorkArea):
	(ewmh_HandleDynamicWorkArea):
	(ewmh_HandleDesktop):
	(ewmh_HandleDock):
	(ewmh_HandleMenu):
	(ewmh_HandleToolBar):
	* fvwm/virtual.c (UnmapDesk):
	(MapDesk):
	(MoveViewport):
	(do_move_window_to_desk):
	* fvwm/icons.c (setup_icon_title_size):
	(DrawIconTitleWindow):
	(AutoPlaceIcon):
	(Iconify):
	* fvwm/borders.c (is_button_toggled):
	(get_common_decorations):
	(border_draw_title_stick_lines):
	* fvwm/add_window.c (AddWindow):
	* fvwm/move_resize.c (__move_window):
	(__move_window):
	(is_window_sticky_across_pages):
	(is_window_sticky_across_desks):
	(MaximizeHeight):
	(MaximizeWidth):
	(stick_page):
	(stick_desk):
	(CMD_Stick):
	(CMD_StickAcrossPages):
	(CMD_StickAcrossDesks):
	(stick_across_pages):
	(stick_across_desks):
	(handle_stick_across_desks):
	(handle_stick_across_pages):
	(handle_stick):
	* fvwm/fvwm.h (struct):
	* fvwm/style.c (style_parse_one_style_option):
	(check_window_style_change):
	* fvwm/style.h:
	* fvwm/window_flags.h:
	renamed StickDesk to StickAcrossDesks, StickyDesk to StickyAcrossDesks,
	StickPage to StickAcrossPages and StickyPage to StickyAcrossPages
	everywhere

	* fvwm/focus.c (CMD_Focus):
	(CMD_FlipFocus):
	(__activate_window_by_command):
	(__update_windowlist):
	(__set_focus_to_fwin):
	(_SetFocusWindow):
	(_ReturnFocusWindow):
	(_DeleteFocus):
	(_ForceDeleteFocus):
	fixed window list ordering with FlipFocus command

2002-12-08  Mikhael Goikhman  <migo@homemail.com>

	* AUTHORS:
	* NEWS:
	document bidi entry undocumented in 2.5.5

2002-12-06  olicha  <olivier.chapuis@free.fr>

	* acinclude.m4:
	Fixed the "detection" of the LINGUAS variable

	* configure.in:
	Added ar to ALL_LINGUAS


2002-12-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (__resize_window):
	fixed handling of MontionNotify and PropertyNotify events

2002-12-03  olicha  <olivier.chapuis@free.fr>

	* fvwm/borders.c (border_draw_decor_to_pixmap):
	(border_get_border_background):
	(get_common_decorations):
	BorderGC cleanup

	* fvwm/builtins.c (CMD_PrintInfo):
	New subject nls to PrintInfo

	* libs/FGettext.c (*):
	New command FlocalePath

2002-12-02  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS:
	* configure.in:
	changed version to 2.5.6

	* NEWS:
	* configure.in:
	updated for 2.5.5

2002-12-02  olicha  <olivier.chapuis@free.fr>

	* libs/FRenderInit.c (FRenderInit):
	Fixed alpha depth if !XRenderSupport

	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	* libs/PictureImageLoader.c (PImageCreatePixmapFromArgbData):
	(PImageLoadPng):
	* libs/PictureImageLoader.h:
	Fixed image loading on bigedian machine

2002-12-01  Mikhael Goikhman  <migo@homemail.com>

	* libs/FBidi.c (FBidiConvert):
	several small changes
	* libs/FBidiJoin.c (shape_n_join):
	enabled a new bidi shaping code

2002-11-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/frame.c (frame_restore_client_gravities):
	(frame_free_move_resize_args):
	fixed a redrawing problem after shading a window

2002-11-29  olicha  <olivier.chapuis@free.fr>

	* acinclude.m4:
	Defined AM_PATH_PROG_WITH_TEST and re-enable it

	* configure.in:
	* Makefile.am:
	Fixed two missprints

2002-11-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/bindings.c (ParseBinding):
	fix for stroke-less compile

2002-11-29  olicha  <olivier.chapuis@free.fr>

	* fvwm/commands.h (enum):
	* fvwm/functable.c (func_table):
	* fvwm/builtins.c (CMD_LocalePath):
	* libs/FGettext.c (FGettextSetLocalePath):
	* libs/FGettext.h:
	Preparation for LocalePath command

	* fvwm/screen.h (ScreenInfo):
	* fvwm/fvwm.c (CreateGCs):
	Rename Scr.TileGC to Scr.BordersGC

	* acinclude.m4:
	A libintl autoconf fix

	* libs/Colorset.c (CreateBackgroundPixmap):
	Do not grab the server when we dump the E setroot pixmap

2002-11-29  olicha  <olivier.chapuis@free.fr>

	* acconfig.h:
	* fvwm/Makefile.am:
	* Makefile.am:
	* configure.in:
	* acinclude.m4:
	Added NLS support with gnu gettext

	* fvwm/fvwm.c (main):
	FGettextInit

	* fvwm/expand.c (expand_vars_extended):
	New extanded variable $[gt.any_string]

	* fvwm/virtual.c (CMD_DesktopName):
	* fvwm/windowlist.c (get_desk_title):
	* fvwm/expand.c (expand_vars_extended):
	* fvwm/fvwm.c (SetRCDefaults):
	* fvwm/ConfigFvwmSetup:
	Mark some strings to be translated

	* libs/FGettext.c (new file):
	* libs/FGettext.c (new file):
	* libs/Makefile.am:
	gnu gettext libintl warper

2002-11-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (RestoreWithdrawnLocation):
	rixed rxvts with S/E gravity travelling off screen upon recapture after
	they were resized.

	* fvwm/events.c (__handle_key_event):
	* fvwm/bindings.c (activate_binding):
	(__rebind_global_key):
	fixed unbinding pointerkey bindings removing the grab for this key
	completely

	* fvwm/events.c (__is_bpress_window_handled):
	fixed click on override redirect windows being handled by the root
	window

	* fvwm/misc.c (GrabEm):
	confine the pointer to the root window when grabbed

	* fvwm/events.c (HandleUnmapNotify):
	fixed reparenting problem with restarts from desks != 0

2002-11-28  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c:
	removed experimental code

2002-11-28  olicha  <olivier.chapuis@free.fr>

	* fvwm/borders.c (border_get_border_background):
	(border_draw_decor_to_pixmap):
	(border_fill_pixmap_background):
	Scr.TitleGC/Scr.TileGC cleanup. I will rename TileGC to BorderGC
	soon.

2002-11-26  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm.c (InitVariables):
	fixed DEFAULT_EDGE_SCROLL being interpretted as 100 pixels instead
	of 100%
	* fvwm/virtual.c (CMD_EdgeScroll):
	minor spacing

	* fvwm/ConfigFvwmDefaults:
	do not include empty ConfigFvwmProxyDefaults, added one binding

2002-11-26  olicha  <olivier.chapuis@free.fr>

	* libs/Colorset.c (CreateBackgroundPixmap):
	* fvwm/colorset.c (parse_colorset):
	Be more safe with the E root pixmap

2002-11-25  olicha  <olivier.chapuis@free.fr>

	* fvwm/move_resize.c (__move_loop):
	Redraw the transparent decoration parts when a move is abored

	* fvwm/colorset.c (parse_colorset):
	Fixed the fgsh Colorset colors when the Image change but not the bg

2002-11-24  Jason Weber  <baboon@imonk.com>

	* fvwm/conditional.c (CMD_Direction):
	Extended Direction to allow CycleWest, CycleEast, etc that guarantees
	eventual traversal of all windows over repeated calls.  It also cycles
	back to the opposite extent when it hits the limit in the given
	direction.

2002-11-22  olicha  <olivier.chapuis@free.fr>

	* fvwm/borders.h:
	* fvwm/borders.c (get_common_decorations):
	(border_get_parts_and_pos_to_draw):
	(border_get_changed_border_parts):
	(border_get_frame_pixmap, new):
	(border_get_border_background):
	(border_draw_one_border_part):
	(border_draw_decorations):
	(border_get_tb_parts_to_draw):
	(border_fill_pixmap_background):
	(border_get_titlebar_descr_state, new):
	(border_draw_titlebar):
	(border_setup_bar_pixmaps, new):
	(border_get_bar_pixmaps, new):
	(border_free_bar_pixmaps, new):
	(border_setup_use_title_style, new):
	(border_set_button_pixmap):
	(border_set_title_pixmap):
	(border_draw_one_button):
	(border_set_button_pixmap):
	(border_draw_title_deep):
	(border_get_transparent_decorations_part, new):
	Title, Border and Buttons Style Colorset Option: Drawing

	* fvwm/move_resize.c (AnimatedMoveAnyWindow):
	(__move_window):
	(__move_loop):
	* fvwm/frame.c (__frame_setup_window):
	(frame_has_handles_and_tiled_border):
	(frame_create_move_resize_args):
	(frame_free_move_resize_args):
	Title, Border and Buttons Style Colorset Option: External drawing stuff.
	Basically additional redrawing for RootTransparent

	* fvwm/builtins.c (update_decorface_colorset, new):
	(update_titlebutton_colorset, new):
	(update_decors_colorset, new):
	(update_fvwm_colorset):
	Title, Border and Buttons Style Colorset Option: Dynamic updating

	* fvwm/screen.h:
	* fvwm/builtins.c (ReadDecorFace):
	Title, Border and Buttons Style Colorset Option: Configuration

	* libs/Colorset.c (GetWindowBackgroundPixmapSize, new):
	* libs/Colorset.h:
	Title, Border and Buttons Style Colorset Option: Convinent macros and
	function

2002-11-18  Dan Espen  <dane@mk.telcordia.com>

	* libs/Makefile.am: Add missing Bindings.h.

2002-11-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (__move_loop):
	send M_CONFIGURE_WINDOW only when the window actually moves

2002-11-16  Mikhael Goikhman  <migo@homemail.com>

	* libs/FBidi.c:
	* libs/FBidi.h:
	* libs/FBidiJoin.c:
	* libs/FBidiJoin.h:
	* libs/Makefile.am:
	incorporated a shape-and-join bidi functionality from Nadim Shaikli
	with minor improvements; it is disabled for now (#if 0) since
	some Arabic chars cause core dump

2002-11-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in (Examples):
	added documentation of Icon option for PlaceAgain command

	* fvwm/events.c (__handle_key_event):
	fixed global key binding problem

2002-11-15  olicha  <olivier.chapuis@free.fr>

	* libs/Bindings.c (MatchBindingExactly):
	(__compare_binding):
	compile fixes w/o stroke lib

	* NEWS:
	* fvwm/geometry.c (get_title_font_size_and_offset):
	* fvwm/builtins.c (do_title_style):
	New MinHeight option to TitleStyle

2002-11-15  olicha  <olivier.chapuis@free.fr>

	* fvwm/builtins.c (update_fvwm_colorset):
	(CMD_Colorset):
	(do_title_style):

	* fvwm/builtins.h:
	* fvwm/colorset.c (update_root_transparent_colorset):
	Fixed update of the RootTransparent colorset in fvwm

2002-11-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Bindings.c (__compare_binding):
	(MatchBindingExactly):
	compoile fixes w/o stroke lib

2002-11-14  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.1.in:
	* INSTALL.fvwm:
	* NEWS
	Removed any reference on "xft and flickering"

2002-11-14  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/eventmask.h (XEVMASK_ICONW):
	* fvwm/events.c (HandleKeyRelease):
	(HandleKeyPress):
	(__handle_key_event):
	* fvwm/bindings.c (ParseBinding):
	(activate_binding):
	* libs/Bindings.h (enum):
	implemented key release bindings; prefix the key name with a '-';
	does not work well with some applications

2002-11-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Bindings.h:
	new file

	* fvwm/bindings.c (ParseBinding):
	(binding_cmd):
	(activate_binding):
	(bind_get_bound_button_contexts):
	(ParseBinding):
	(CMD_Stroke):
	(CMD_Mouse):
	(CMD_PointerKey):
	(CMD_Key):
	(RemoveMatchingBinding):
	(AddBinding):
	(AreBindingsEqual):
	(GrabWindowKey):
	(GrabWindowButton):
	(GrabAllWindowKeysAndButtons):
	* fvwm/module_interface.c (CMD_ModuleSynchronous):
	* fvwm/events.c (__handle_bpress_on_root):
	(__handle_bpress_on_managed):
	(HandleButtonRelease):
	* fvwm/builtins.c (CMD_Wait):
	(CMD_StrokeFunc):
	* libs/fvwmlib.h (enum):
	fixed Key vs. PointerKey with "A"ny context

2002-11-12  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/icons.c (Iconify):
	icon placement safety patch
	(CreateIconWindow):
	fixed initial position of application provided icon windows

	* fvwm/session.c (LoadWindowStates):
	fixed parsing of strings beginning with whitespace in session file

	* fvwm/fvwm.1.in (Note):
	* fvwm/style.c (style_set_old_focus_policy):
	* libs/defaults.h (DEF_FP_MODIFIERS):
	set default modifiers for raising/focusing to N again

2002-11-11  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.1.in:
	* fvwm/fvwm.c (main):
	(usage):
	named-palette -> visual-palette, -N -> -P

2002-11-11  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/ConfigFvwmDefaults:
	include ConfigFvwmProxyDefaults

	* fvwm/fvwm.c (usage):
	polished usage message

2002-11-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.c (usage):
	(main):
	cleaned up usage and error messages
	use short option names in usage message an man page synopsis
	all options are case sensitive
	do not mention the "-" style long options in the man page; instead use
	the "--" style

	* fvwm/add_window.c (setup_frame_window):
	* fvwm/events.c (HandleMapNotify):
	* fvwm/eventmask.h (XEVMASK_FRAMEW_RECAPTURE):
	fixed empty decorations after recapture

	* fvwm/geometry.c (get_icon_geometry):
	* fvwm/icons.c (clear_icon):
	fixed icon jumping to 0 0 when the icon layout changes after the icon
	has been moved manually

	* fvwm/move_resize.c (__move_icon):
	fixed MoveToPage with icons

2002-11-09  olicha  <olivier.chapuis@free.fr>

	* libs/Fft.c (FftGetRotatedFont):
	(FftGetFont):
	* libs/Fft.h:
	Check the return result of FftPatternGetMatrix

	* libs/Flocale.h:
	* libs/PictureBase.h:
	Added two macro

2002-11-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/ewmh_conf.c (set_state_workaround):
	* fvwm/functable.c (func_table):
	* fvwm/update.c (apply_window_updates):
	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/ewmh_events.c (ewmh_WMDesktop):
	(ewmh_WMStateSticky):
	* fvwm/conditional.c (CreateConditionMask):
	(CreateConditionMask):
	* fvwm/gnome.c (GNOME_SetHints):
	(GNOME_GetStyle):
	(GNOME_HandlePropRequest):
	* fvwm/placement.c (SmartPlacement):
	(get_next_x):
	(test_fit):
	(get_next_y):
	(PlaceWindow):
	* fvwm/session.c (SaveWindowStates):
	(MatchWinToSM):
	* fvwm/ewmh.c (check_desk):
	(EWMH_SetWMDesktop):
	(ewmh_ComputeAndSetWorkArea):
	(ewmh_HandleDynamicWorkArea):
	(ewmh_HandleDesktop):
	(ewmh_HandleDock):
	(ewmh_HandleMenu):
	(ewmh_HandleToolBar):
	* fvwm/virtual.c (UnmapDesk):
	(MapDesk):
	(MoveViewport):
	(MoveViewport):
	(do_move_window_to_desk):
	* fvwm/icons.c (setup_icon_title_size):
	(DrawIconTitleWindow):
	(AutoPlaceIcon):
	(Iconify):
	* fvwm/borders.c (is_button_toggled):
	(get_common_decorations):
	(border_draw_title_stick_lines):
	* fvwm/add_window.c (AddWindow):
	* fvwm/move_resize.c (__move_window):
	(is_window_sticky_on_page):
	(is_window_sticky_on_desk):
	(MaximizeWidth):
	(MaximizeHeight):
	(stick_page):
	(stick_desk):
	(handle_stick):
	(handle_stick_page):
	(handle_stick_desk):
	(__handle_stick_exit):
	(CMD_StickDesk):
	(CMD_StickPage):
	* fvwm/style.c (style_parse_one_style_option):
	(check_window_style_change):
	* fvwm/style.h:
	* fvwm/fvwm.h:
	New Style options stickypage and stickydesk
	New WindowList options NoStickyPage, NoStickyDesk, StickyPage,
	StickyDesk, OnlyStickyPage, OnlyStickyDesk
	New conditions StickyPage and StickyDesk
	New commands StickPage and StickDesk

	* fvwm/move_resize.c (__move_window):
	do not unstick a window when using MoveToScreen

	* fvwm/ewmh_conf.c:
	reindented

	* fvwm/commands.h:
	* fvwm/functable.c (func_table):
	* fvwm/ewmh_conf.c (CMD_EwmhBaseStruts):
	renamed EWMHBaseStrut to EwmhBaseStruts

	* fvwm/style.c (style_set_old_focus_policy):
	SloppyFocus and MouseFocus use "FPFocusClickModifiers N" by default
	(style_parse_one_style_option):
	renamed "Border" style to "Borders"
	removed "NoBorder" style; use !Borders instead
	renamed PlacmentOverlapPenalties to MinOverlapPlacementPenalties
	renamed PlacmentOverlapPercentPenalties to
	MinOverlapPercentPlacementPenalties

	* fvwm/fvwm.1.in:
	* NEWS:
	corrected typo

	* libs/Fft.c:
	Fixed compiler warnings

2002-11-09  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	autogenerate FvwmWindowLister files

	* fvwm/fvwm.1.in:
	mention fvwm-menu-directory and fvwm-menu-desktop as examples
	of MissingSubmenuFunction and DynamicPopupAction

2002-11-08  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (alloc_color_proportion):
	(alloc_color_proportion_dither):
	(alloc_color_proportion_grey):
	(alloc_color_x):
	(free_colors_in_table):
	(free_colors_x):
	(init_static_colors_table):
	(PictureFreeColors):
	(PictureInitColors):
	(PicturePrintColorInfo):
	Fixed StaticColor visual. Rename some of the color allocators. Clean up
	free colors stuff

2002-11-07  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (__move_window):
	ignore MoveToPage with sticky windows

	* fvwm/conditional.c (Circulate):
	(circulate_cmd):
	Next and Prev commands begin looking at the context window, if any

	* fvwm/focus.c (__focus_grab_buttons):
	fixed initial button grabbing on client window

	* fvwm/stack.c (BroadcastRestack):
	split long packets, fixed a bug and cleaned up

	* libs/Module.c (ReadFvwmPacket):
	ignore packets that are too long

	* fvwm/fvwm.1.in:
	document PopupDelay and PopdownDelay defaults

2002-11-06  olicha  <olivier.chapuis@free.fr>

	* libs/Fft.c (FftGetFont):
	(FftGetRotatedFont):
	Use a more perfectioned method for loading font with Xft/Fc. This
	method allows sanity check. Preserve the matrix when rotating
	Xft/Fc fonts.

	* libs/Flocale.c (FlocaleGetMinOffset):
	(FlocaleRotateDrawString):
	(FlocaleGetFontSet):
	(FlocaleGetFont):
	* libs/Fft.c (FftDrawString):
	(FftGetFont):
	* libs/FftInterface.h:
	* fvwm/geometry.c (get_title_font_size_and_offset):
	Move the computation of the good "y" for drawing text into Flocale.
	Use the max ascent, descent and height for font metric (in the place
	of the min's one).

	* libs/Flocale.c (FlocalePrintLocaleInfo):
	* libs/Flocale.h:
	* libs/Fft.c (FftPrintPatternInfo):
	* libs/Fft.h:
	* fvwm/builtins.c (CMD_PrintInfo):
	* NEWS:
	* fvwm.1.in:
	New option "Locale" to PrintInfo Command

2002-11-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleExpose):
	removed no-op

2002-11-04  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: colour -> color
	Language check.

2002-11-04  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in:
	* fvwm/fvwm.c (usage):
	(main):
	pallet -> palette

2002-11-04  olicha  <olivier.chapuis@free.fr>

	* configure.in:
	Added -lXrender in Xft 1 tests (Ethan Blanton <eblanton@cs.ohiou.edu>)

	* libs/PictureUtils.c (alloc_color_dynamic_no_limit):
	(finish_ct_init):
	(PictureFreeColors):
	(PicturePrintColorInfo):
	Trace colours allocation out of the pallet in depth <= 8. Better
	information on coulours

	* libs/Fft.c (FftGetRotatedFont):
	* libs/Fft.h:
	Fixed rotated font when the original font has a matrix

	* libs/PictureBase.c (PictureInitCMapRoot):
	* libs/PictureUtils.h:
	* libs/PictureUtils.c (PictureInitColors):
	(PictureAllocColorTable):
	* libs/PictureBase.h (PictureColorLimitOption):
	* fvwm/fvwm.c (main):
	* fvwm/fvwm.1.in
	New options -strict-color-limit, -allocate-pallet, -static-pallet,
	-named-pallet. -color-limit now take only integer argument.


2002-11-04  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Module.h (struct):
	new type FvwmWinPacketBodyHeader to access the standard fields in a
	packet with a window

2002-11-01  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS:
	updated for 2.4.13

	* fvwm/functable.c (func_table):
	* fvwm/commands.h:
	* fvwm/style.c (style_parse_one_style_option):
	(parse_and_set_window_style):
	(__style_command):
	(CMD_Style):
	(CMD_FocusStyle):
	added a new command FocusStyle as a shorthand for
	"Style * FP..., FP..."

	* fvwm/builtins.c (__parse_vector_line_one_coord):
	(__parse_vector_line):
	(ReadDecorFace):
	split vector line parsing into sub functions
	(FreeDecorFace):
	fixed core dump in vector button offset patch

2002-11-01  Marcus Lundblad <ml@update.uu.se>

	* fvwm/screen.h (vector_coords):
	added fields for offsets
	* fvwm/builtins.c (ReadDecorFace):
	rewrote parser for vector definitions to accept optional offsets
	* fvwm/fvwm.c (LoadDefaultLeftButton):
	(LoadDefaultRightButton)
	set default values for offsets
	* fvwm/borders.c (border_draw_vector_to_pixmap):
	updated XDrawLine call to take offsets into account
	* fvwm/fvwm.1.in:
	documented new options for vector offsets

2002-11-01  olicha  <olivier.chapuis@free.fr>

	* libs/PictureGraphics.c (PGraphicsRenderPixmaps):
	Fixed icon tint pixel, it was set to icon tint percent during some
	renaming

2002-10-31  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (PictureAllocColorImage):
	(PictureOpenImageColorAllocator):
	(PictureCloseImageColorAllocator):
	* libs/PictureImageLoader.c (PImageCreatePixmapFromArgbData):
	(FIMAGE_CMD_ARGS):
	(PImageLoadXpm):
	(PImageCreatePixmapFromArgbData):
	(PImageLoadPixmapFromFile):
	* libs/PictureBase.h (FvwmPictureThing):
	(PictureImageColorAllocator):
	* libs/Picture.h:
	* libs/Picture.c (PDestroyFvwmPicture):
	(PLoadFvwmPictureFromPixmap):
	* libs/Graphics.c (CreateGradientPixmap):
	* fvwm/fvwm.c:
	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	Added a new way to allocate colors for image and gradient. This method
	allows, in particular, to save (in a "fast" way) the allocated pixels
	with a minimal memory usage.
	Fixed color leaks for png, ewmh and dithered xpm images.

	* fvwm/add_window.c (destroy_icon):
	* fvwm/fvwm.h (FvwmWindow):
	* fvwm/icons.c (GetIconFromFile):
	Fixed color leaks

2002-10-31  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/commands.h:
	* fvwm/functable.c:
	* fvwm/stack.c (enum):
	(position_new_window_in_stack_ring):
	(new_layer):
	(must_move_transients):
	(restack_windows):
	(__restack_window):
	(__raise_lower_recursion):
	(__raise_or_lower_window):
	(raise_or_lower_window):
	(collect_transients_recursive):
	(__is_restack_transients_needed):
	(RestackWindow):
	(CMD_RestackTransients):
	new command RestackTransients which works like Raise and Lower but does
	not restack windows that are not transient
	renamed some functions
	general cleanup

	* fvwm/fvwm.1.in:
	corrected cursor movement key bindings

	* fvwm/bindings.c (activate_binding):
	fixed problem w/ bindings being overridden by applications OpenOffice
	and the Gnome panel

2002-10-29  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	* NEWS:
	switched to 2.5.5

	* configure.in:
	include FvwmProxy to build

2002-10-29  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	exclude FvwmProxy from build

	* configure.in:
	* NEWS:
	updated for 2.5.4

2002-10-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* configure.in:
	added FvwmProxy module

2002-10-29  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm.1.in:
	* fvwm/windowlist.c (CMD_WindowList):
	renamed SortClassName to SortByClass

2002-10-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menustyle.c (menustyle_update):
	(menustyle_parse_style):
	(menustyle_get_styleopt_index):
	(menustyle_parse_style):
	(CMD_CopyMenuStyle):
	* fvwm/menustyle.h:
	removed HilightRelief MenuStyle and hard coded it

2002-10-28  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (make_menu_window):
	fixed updating menu background with "Menustyle * Background"

	* fvwm/stack.c (__get_stacking_sibling):
	(restack_windows):
	fixed another stacking problem

2002-10-28  Mikhael Goikhman  <migo@homemail.com>

	* acinclude.m4:
	* configure.in:
	corrected and lined up several help lines

	* INSTALL.fvwm:
	added --enable-xinerama-emulation description

2002-10-27  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/stack.c (restack_windows):
	(__get_stacking_sibling):
	fixed another stacking problem

2002-10-26  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (AddWindow):
	braodcast M_RESTACK_WINDOW after M_ADD_WINDOW to fix problem with
	windows starting lowered or on other layers in FvwmPager

	* fvwm/stack.c (restack_windows):
	(__get_visible_window):
	fixed a stacking problem with layers

2002-10-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/functable.c (func_table):
	fixed Pick command

2002-10-24  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	* fvwm/fvwm.1.in:
	* fvwm/windowlist.c:
	new WindowList option SortByResource

	* fvwm/style.c (check_window_style_change):
	* libs/FlocaleCharset.c:
	fixed gcc warning

	* AUTHORS:
	place recent authors to the top, not bottom

	* fvwm/builtins.c:
	corrected typo in error message

2002-10-23  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: Lang check done.

2002-10-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c:
	work on new menu loop code

	* libs/timeout.h:
	* libs/timeout.c:
	new files

	* fvwm/menus.c (__mloop_handle_event):
	(__mloop_get_event):
	(__mloop_handle_action_with_mi):
	* fvwm/menus.h (MenuReturn):
	renamed MenuReturn member menu to target_menu

	* fvwm/menus.c (__mloop_handle_event):
	* fvwm/menus.h (MenuReturn):
	removed a "write only" member of MenuReturn

	* fvwm/conditional.c (circulate_cmd):
	fixed the "Any" command

2002-10-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/stack.c (mark_transient_subtree):
	fixed stack ring corruption with iconified transients
	(restack_windows):
	fixed a problem with lowering windows below the icons of their
	transients

2002-10-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Colorset.c:
	* fvwm/menustyle.c:
	* libs/Colorset.h:
	* libs/Flocale.h:
	* libs/PictureBase.h:
	* fvwm/menuitem.c:
	* fvwm/geometry.c:
	* fvwm/colorset.c:
	renamed colorset_struct to colorset_t

2002-10-22  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c:
	Minor fixes and add #if O experimental code

2002-10-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/icons.c (DrawIconPixmapWindow):
	(DrawIconWindow):
	* fvwm/events.c (HandlePropertyNotify):
	* libs/Fft.c (FftDrawString):
	* libs/Colorset.c (DumpColorset):
	(LoadColorset):
	* libs/PictureGraphics.c (PGraphicsRenderPixmaps):
	use renamed colorset_struct members

	* libs/Colorset.h (colorset_struct):
	renamed and re-sorted members and cut down bit field lengths for
	percentile members

	* fvwm/menustyle.c (menustyle_update):
	fixed core dump

	* fvwm/stack.c (restack_windows):
	fixed flickering when raising transients; can't prevent flickering when
	lowering a window completely
	(restack_windows):
	fixed unnecessary error message

	* fvwm/fvwm.c (main):
	init Scr to zeros

	* fvwm/stack.c (__restack_window):
	fixed a stacking problem with icons

	* fvwm/add_window.c (destroy_icon):
	fixed a memory leak

2002-10-21  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/menustyle.c (menustyle_parse_style):
	* fvwm/menus.c (paint_side_pic):
	(paint_menu):
	(select_menu_item):
	(repaint_transparent_menu):
	* fvwm/menustyle.h (MenuLook):
	cleaned up menu drawing code, fixed last patch

	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/menustyle.c (menustyle_parse_style):
	fixed HilightBack default

	* fvwm/bindings.c (binding_cmd):
	(bind_get_bound_button_contexts):
	(ParseBinding):
	* fvwm/screen.h (ScreenInfo):
	fixed mouse bindings with buttons > 5

	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/menustyle.c (menustyle_parse_style):
	(menustyle_parse_style):
	(CMD_CopyMenuStyle):
	(menustyle_update):
	(menustyle_free):
	* fvwm/menus.c (repaint_transparent_menu):
	* fvwm/menustyle.h:
	HilightBack and ActiveFore are now independent

2002-10-18  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (get_color_index):
	(create_mapping_table):
	(PictureAllocColorTable):
	Use a new distance and method for color approximation. Use 68 colors
	for the default under depth 8. I am happy with this, should use a
	similar distance method for dithering

	* libs/PictureUtils.c (alloc_color_dynamic_no_limit):
	(PictureAllocColorTable):
	(PictureDitherByDefault):
	(PictureUseBWOnly):
	(PictureIitColors):
	(PicturePrintColorInfo):
	* libs/PictureUtils.h:
	Allows -color-limit to work with any visual and depth for testing
	propose. Should replace (Pdepht < 2) test by (PictureUseBWOnly())

	* fvwm/colorset.c:
	Replaced (Pdepht < 2) test by (PictureUseBWOnly())

2002-10-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (get_default_window_attributes):
	cleaned up

	* fvwm/builtins.c (CMD_ChangeDecor):
	removed some duplicate redrawing

	* fvwm/update.c (apply_decor_change):
	suppress duplicate window update upon ChangeDecor
	(apply_window_updates):
	do not delete the focus window

2002-10-17  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	A bunch of news

	* libs/Colorset.c (CreateBackgroundPixmap):
	Use a 1x1 pixmap and not a widthxheight pixmap for Plain color

	* fvwm/builtins.c (CMD_Colorset):
	Do not BroadcastColorset in CMD_Colorset, parse_colorset do that!!!

2002-10-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (AddWindow):
	* fvwm/update.c (apply_window_updates):
	* fvwm/move_resize.c (handle_stick):
	(CMD_Stick):
	suppress drawing of sticky decorations initially
	reduce module communication overhead when (un)sticking windows

	* fvwm/borders.c (border_draw_decorations):
	* fvwm/window_flags.h:
	* fvwm/fvwm.h:
	* fvwm/frame.c (frame_create_move_resize_args):
	(get_resize_decor_gravities_one_axis):
	(frame_mrs_setup_draw_decorations):
	(mr_args_internal):
	initialize window decorations with a "None" pixmap;
	delay drawing window decorations initially to prevent drawing multiple
	times;
	=> windows grabbing the focus upon startup are drawn focused immediately

	* fvwm/frame.c (frame_free_move_resize_args):
	reparent the frame hide windows to NoFocusWin instead of Root to
	suppress unnecessary ReparentNotify events

2002-10-16  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.c (main):
	Fixed a typo

	* libs/FRender.h:
	Fixed compilation with X cvs

	* libs/Colorset.c (CreateBackgroundPixmap):
	Fixed a GC leak

	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/colorset.c (update_root_pixmap):
	Use _XROOTPMAP_ID and not ESETROOT_PMAP_ID neither XSETROOT_ID
	to found a root pixmap

2002-10-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/bindings.c (bind_get_bound_button_contexts):
	another mouse binding fix

	* fvwm/conditional.c (CreateConditionMask):
	simplified parsing
	all conditions have a negation with '!' prepended
	(Circulate):
	(CMD_All):
	(select_cmd):
	Current, All, Pick, ThisWindow and PointerWindow imply the
	CirculateHitShaded condition.

	* fvwm/focus.c (__focus_grab_buttons):
	* libs/defaults.h (NUMBER_OF_EXTENDED_MOUSE_BUTTONS):
	fixed bindings using mouse buttons >= 6

2002-10-15  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (PicturePrintColorInfo):
	(print_colormap):
	* fvwm/commands.h:
	* fvwm/functable.c (func_table):
	* fvwm/builtins.c (CMD_PrintInfo):
	* fvwm/fvwm.1.in:
	New cmd PrintInfo. Only one arg at present time: "Colors"

	* fvwm/fvwm.c (main):
	Auto detect card with 2 hardware colormaps and choose the best
	visual and colormap

	* libs/PictureUtils.c (PictureInitColors):
	(*):
	* libs/PictureUtils.h:
	* fvwm/fvwm.c (main):
	* libs/PictureBase.c (PictureInitCMapRoot):
	(PictureInitCMap):
	* libs/PictureBase.h:
	Try to support DirectColor visual in a good way, I do not think
	this is really useful.
	Added a flexible interface function PictureInitColors for
	colors allocation initialization.
	Some cleanup in color allocation and some preparation for a new
	method for saving and freeing colors allocated by images and gradients.
	Removed some ifdefed to 0 debug code.

	* libs/Picture.c (*):
	* libs/Picture.h:
	* libs/PictureImageLoader.c (*):
	* libs/PictureImageLoader.h:
	Replace Root by win

2002-10-14  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (setup_key_and_button_grabs):
	* fvwm/bindings.c (ParseBinding):
	(activate_binding):
	* fvwm/add_window.c (setup_key_and_button_grabs):
	don't grab window context specific bindings anymore; instead, set
	Scr.buttons2grab accordingly

	* fvwm/bindings.c (activate_binding):
	fixed stroke bindings on window context being ignored if no other
	action was bound to that context

	* fvwm/add_window.c (destroy_icon):
	fixed duplicate icon pixmap when switching from NoIconOverride to
	IconOverride

2002-10-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/icons.c:
	re-indented some code
	(AutoPlaceIcon):
	fixed random position of icon title for icons with a position hint

	* fvwm/fvwm.1.in:
	corrected default of Use/NoIconPosition style

2002-10-12  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/windowlist.c (CMD_WindowList):
	fixed random string for iconified windows in the WindowList

2002-10-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS:
	updated for 2.4.12

2002-10-08  olicha  <olivier.chapuis@free.fr>

	* libs/PictureBase.c (*):
	(PictureInitCMapRoot)
	(PictureSetupWhiteAndBlack):
	(PictureWhitePixel):
	(PictureBlackPixel):
	(PictureDefaultGC):
	New interface function PictureWhitePixel, PictureBlackPixel. Analogue
	of the Xlib WhitePixel and BlackPixel functions but in the Pvisaul.
	New interface function PictureInitCMapRoot analogue to PictureInitCMap,
	but always use the root visual and allows to set or not a private
	color limit table.
	New interface PictureDefaultGC, analogue of Xlib DefaultGC function
	but which respects the Pvisual

	* libs/PictureGraphics.c (*):
	* libs/FScreen.c (FScreenInit):
	* libs/FRender.c (FRenderRender):
	* libs/Fft.c (FftDrawString):
	* fvwm/icons.c (CreateIconWindow):
	* fvwm/colorset.c (parse_colorset):
	* fvwm/move_resize.c (CMD_XorValue):
	* fvwm/colorset.c (alloc_colorset):
	* fvwm/fvwm.c (main):
	Use the new interface functions and some fix if the fvwm depth !=
	the root depth.

	* libs/PictureUtils.c (PictureAllocColorTable):
	Change the default color table to a 4x4x4 cc + 4 grey

2002-10-07  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: Use built-in, not builtin.

2002-10-06  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	s/FvwmNewDebug/FvwmDebug/

	* fvwm/commands.h:
	* fvwm/conditional.c (CMD_NoWindow):
	* fvwm/functable.c:
	* NEWS:
	new command NoWindow to remove window context

	* fvwm/fvwm.1.in:
	use "fvwm" spelling, at least in the middle of sentences

2002-10-06  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: Dont refer to fvwm commands as
	builtin commands.  Use "builtin", not "built in" or "built-in".
	Other adjustments.

2002-10-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Graphics.c (do_relieve_rectangle):
	removed debug message

	* fvwm/focus.c (__update_windowlist):
	(__set_focus_to_fwin):
	fixed reversal of __update_windowlist arguments causing FlipFocus to
	break [and maybe other things]

2002-10-05  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (alloc_color_cube):
	It si possible to enable "gamma correction" for colors cubes (disabled,
	define USE_GAMMA_CORRECTION to 1 and set COLOR_GAMMA and GREY_GAMMA)

	* libs/PictureUtils.c (get_color_index):
	(create_mapping_table):
	Use a more exact approximation of colors for pur cc without the big
	16x16x16 cc

	* libs/PictureUtils.c (PictureFreeColors):
	Fixed a memory leak

	* libs/Graphics.c (CreateGradientPixmap):
	(CreateGradientPixmapFromString):
	Cleanup

2002-10-04  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (*):
	Used a better color approximation for color cube when we do not dither.
	Added some new colors tables: color cube with some grey colors.
	Change the default to a 4x4x3 cc with 6 grey (54 colors).
	Some visual fixes.

	* fvwm/fvwm.c (main):
	Fixed the visual option

2002-10-03  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	generate FvwmNewDebug and FvwmGtkDebug

2002-10-02  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (USED_DIST):
	Used the euclidian distance for colors distance

	* libs/Fft.c (FftGetFont):
	Disable Xft if the Xserver does not support XRender

2002-10-01  olicha  <olivier.chapuis@free.fr>

	* libs/Fft.c (FftGetFont):
	Disable Xft if the Xserver does not support XRender

	* libs/FRender.c (FRenderRender):
	* libs/PictureGraphics.c (PGraphicsTintRectangle):
	Fixed

	* libs/Colorset.c (SetRectangleBackground):
	(SetClippedRectangleBackground):
	* libs/Colorset.h:
	New interface function for drawing a subset of a colorset rectangle

2002-09-26  olicha  <olivier.chapuis@free.fr>

	* fvwm/update.c (apply_window_updates):
	Fixed icons colorset update

	* libs/FRender.c (FRenderRender):
	Fixed bitmap rendering

	* fvwm/update.c (apply_window_updates):
	* fvwm/geometry.c (move_icon_to_position):
	* fvwm/events.c (HandleEnterNotify):
	(HandleExpose):
	(HandleLeaveNotify):
	(HandlePropertyNotify):
	* fvwm/add_window.c (setup_icon_font):
	* fvwm/icons.c (DrawIconWindow):
	(DrawIconTitleWindow):
	(DrawIconPixmapWindow):
	(ChangeIconPixmap):
	(RedoIconName):
	Fixed focus/unfocus flickering

2002-09-25  olicha  <olivier.chapuis@free.fr>

	* fvwm/icons.c (DrawIconTitleWindow):
	One more drawing fix

2002-09-24  olicha  <olivier.chapuis@free.fr>

	* fvwm/icons.c (DrawIconTitleWindow):
	An other drawing fix

2002-09-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (__move_loop):
	fixed uninitialised variable
	(InteractiveMove):
	fixed starting move at random position

2002-09-24  olicha  <olivier.chapuis@free.fr>

	* fvwm/update.c (apply_window_updates):
	* fvwm/geometry.c (move_icon_to_position):
	* fvwm/events.c (HandleEnterNotify):
	(HandleExpose):
	(HandleLeaveNotify):
	(HandlePropertyNotify):
	* fvwm/add_window.c (setup_icon_font):
	* fvwm/icons.c (DrawIconWindow):
	(DrawIconTitleWindow):
	(DrawIconPixmapWindow):
	(ChangeIconPixmap):
	(RedoIconName):
	Fixed icon drawing. Split icon window drawing.

	* libs/FRender.c (*):
	Fixed compilation and small clean up

2002-09-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/conditional.c (CreateFlagString):
	fixed quoting in conditional command conditions

	* fvwm/menus.c (__mloop_handle_event):
	removed unnecessary querying of pointer position on button release in
	menus
	(__menu_loop):
	fixed posting menus

	* fvwm/bindings.c (ParseBinding):
	increased maximum allowed key symbol name length to 200 characters

	* fvwm/execcontext.h (enum):
	* fvwm/fvwm.c (Done):
	(SetRCDefaults):
	(main):
	(StartupStuff):
	use new contexts

	* fvwm/execcontext.h (enum):
	added EXCT_INIT ['I'] and EXCT_EXIT ['X'] contexts

	* fvwm/menus.c (pop_menu_up):
	fixed accidental menu animation with certain menu position hints

2002-09-23  olicha  <olivier.chapuis@free.fr>

	* libs/FRender.c (*):
	Fixed(?) XRender rendering with some Xserver

	* fvwm/update.c (apply_window_updates):
	* fvwm/geometry.c (move_icon_to_position):
	* fvwm/events.c (HandleEnterNotify):
	(HandleExpose):
	(HandleLeaveNotify):
	(HandlePropertyNotify):
	* fvwm/add_window.c (setup_icon_font):
	* fvwm/icons.c (DrawIconWindow):
	(ChangeIconPixmap):
	(RedoIconName):
	Clip text and icon drawing for the icons

2002-09-21  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	* libs/System.c:
	Path commands now support form: "path1;ext1:path2:path3;ext3"
	where ext1 (for example, ".png") means all files in path1 should
	be forced to have extention ".png" even if the requested icon
	has ".xpm" ("calculator.xpm" or has no extention at all ("calculator")

	* fvwm/execcontext.h:
	small changes in latters used for EXCT_* constants

	* fvwm/module_interface.c:
	* libs/Picture.c:
	* libs/PictureBase.c:
	* fvwm/cursor.c:
	some spacing reindentation

2002-09-21  olicha  <olivier.chapuis@free.fr>

	* libs/FRender.c (FRenderCompositeAndCheck):
	Temporally take GraphicsExposure in account

2002-09-20  Mikhael Goikhman  <migo@homemail.com>

	* libs/vpacket.h:
	fixed incorrect MiniIconPacket definition: s/char *name/char name[1]/

2002-09-20  olicha  <olivier.chapuis@free.fr>

	* fvwm/icons.c (GetIconPicture):
	* fvwm/ewmh_icons.c (ewmh_SetWmIconFromPixmap):
	Fixed the alpha channel

2002-09-20  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS:
	updated for 2.4.11

2002-09-20  olicha  <olivier.chapuis@free.fr>

	* libs/FRender.c (FRenderTintPicture):
	(FRenderTintRectangle):
	(FRenderRender):
	* libs/FRenderInterface.h:
	* libs/PictureGraphics.c (PGraphicsTintRectangle):
	Make FRender code more modular. Add a 24+8 tinting method and enable it
	in the place of the 32 tinting method (which can be enabled by defining
	USE_ABSOLUTE_FORMATE)

2002-09-19  olicha  <olivier.chapuis@free.fr>

	* fvwm/menus.c (get_menu_repaint_transparent_parameters):
	(animated_move_back):
	(pop_menu_up):
	(repaint_transparent_menu):
	* fvwm/move_resize.c (AnimatedMoveOfWindow):
	(AnimatedMoveAnyWindow):
	* fvwm/move_resize.h:
	Support the new colorset transparent options and fix greyed item
	of transparent animated menus

	* fvwm/menus.c (pop_menu_up):
	(animated_move_back):

	* libs/Rectangles.c:
	* libs/Rectangles.h:
	* libs/Makefile.am:
	New libs files for rectangles, segments, regions ..etc

	* fvwm/menus.c (clear_expose_menu_area):
	(get_menu_paint_item_parameters):
	(paint_menu):
	(select_menu_item):
	(ParentalMenuRePaint):
	(ParentalMenuRePaint):
	* fvwm/menuitem.c (clear_menu_item_background):
	(menuitem_paint):
	* fvwm/menuitem.h (MenuPaintItemParameters):
	Clip the item icons and text drawing

	* fvwm/menus.c (__mloop_exit):
	Fixed an indirect uninitialized variable bug

	* fvwm/menus.c (__mloop_handle_event): *
	(__mloop_handle_action_with_mi): *
	Update some comments

	* libs/FRender.c (FRenderVisualInit):
	(FRenderRender):
	* fvwm/colorset.c (parse_colorset):
	Small clean up

2002-09-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (__menu_loop):
	(__mloop_handle_action_with_mi):
	fixed parent menu redrawing

	* fvwm/style.c (check_window_style_change):
	* fvwm/update.c (apply_window_updates):
	* fvwm/add_window.c (setup_icon_size_limits):
	honour changes in IconSize style without recapture

	* fvwm/focus.c (focus_query_open_grab_focus):
	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/add_window.c (setup_transientfor):
	take care of various funny initial transientfor settings

	* fvwm/stack.c (__raise_lower_recursion):
	new function
	fixed stacking core dump

2002-09-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Graphics.c:
	ANSI C fixes

	* configure.in:
	added a program that tests for -Werror option and similar; bug out of
	configure if the test program doesn't compile

2002-09-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in:
	* configure.in:
	add a "do not edit" warning at the beginning of the man page

	* configure.in:
	enable the original CFLAGS and CPPFLAGS before generating the Makefiles

	* libs/FScreen.c (XineramaQueryScreens):
	fixed linking problem when compiling without Xinerama

	* fvwm/cursor.c (CMD_CursorStyle):
	fixed cursorstyle command being applied to windows without handles

	* fvwm/ewmh.h (EWMH_ProcessClientMessage):
	(EWMH_ProcessPropertyNotify):
	* fvwm/gnome.h (GNOME_ProcessClientMessage):
	(GNOME_HandlePropRequest):
	fixed dummy macros when compiling without gnome/ewmh support

2002-09-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/queue.c (fqueue_add_inside):
	add a new command with the same execution time as a previous one behind
	it

	* configure.in:
	override CFLAGS and CPPFLAGS with empty strings instead of generating an
	error message

	* fvwm/functions.c (__execute_function):
	* fvwm/execcontext.h (exec_context_type_t):
	replace enum values with letters for readability

	* fvwm/functions.c (__execute_function):
	improved command log output

	* fvwm/schedule.c (execute_obj_func):
	fixed schedule queue timing

	* configure.in:
	refuse to run configure if CFLAGS is not empty

2002-09-16  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/misc.c:
	fixed compilation with --enable-command-log; simplified fvwm_msg()

	* libs/Module.c:
	reformatted; don't send end-of-line with SET_*MASK

2002-09-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/borders.c (border_draw_multi_pixmap_titlebar):
	fixed multipixmap title drawing

	* fvwm/frame.h (struct):
	* fvwm/frame.c (frame_get_titlebar_dimensions):
	removed unused code

	* fvwm/events.c (HandlePropertyNotify):
	applied FlocaleGetNameProperty core dump fix by Suzanne Skinner

	* libs/Fft.c (FftDrawString):
	-Wall fix when compiling w/o Xft

2002-09-15  olicha  <olivier.chapuis@free.fr>

	* libs/Colorset.c (CreateBackgroundPixmap):
	Fixed a dpy problem with FvwmBacker
	* libs/Colorset.c (CreateBackgroundPixmap):
	Fixed creation a root transparent pixmap for small root pixmap

2002-09-14  olicha  <olivier.chapuis@free.fr>

	* libs/Fft.c (FftDrawString):
	Fixed clip region with shadow font

	* libs/PictureGraphics.c (PGraphicsCreateTranslucent):
	Added a function to create translucent pixmaps
	* libs/Colorset.c (CreateBackgroundPixmap):
	A small fix
	* libs/FRender.c (FRenderRender):
	Allows to use the root window as src pixmap

2002-09-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in:
	Fixed open double quotes in ButtonState section

2002-09-13  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: Add -cmd module timeout information.

2002-09-13  olicha  <olivier.chapuis@free.fr>

	* libs/Colorset.c (CreateBackgroundPixmap):
	(UpdateBackgroundTransparency):
	(SetRectangleBackground):
	* libs/Colorset.h:
	* fvwm/colorset.c (*):
	* fvwm/colorset.h:
	* fvwm/events.c (HandlePropertyNotify):
	Starting implementation of RootTransparent colorset. Worked on
	tinted Transparent colorset. Various colorset parsing fixes.

	* libs/Fft.c (FftDrawString):
	* libs/Flocale.h:
	Added the possibility to draw with a clipping region.

	* libs/FRender.c (FRenderRender):
	* libs/PictureGraphics.c (PGraphicsRenderPixmaps):
	(PCreateRenderPixmap):
	(PGraphicsCreateTransprency):
	(PGraphicsTintRectangle):
	Improve current rendering functions to be able to tint the
	ParentalRelative pixmap or the background of a window.
	Re-enabled XRender rendering.

	* fvwm/borders.c:
	remove a #if 0 debug "render" code

2002-09-13  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/builtins.c (ReadTitleButton):
	* fvwm/screen.h:
	new button state shortcuts AllNormal, AllToggled,
	AllActive, AllInactive, AllUp, AllDown

	* fvwm/module_interface.c:
	minor reformatting

	* acconfig.h:
	possibly fixed compilation with non gcc

2002-09-12  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (_focus_grab_buttons):
	(__focus_grab_buttons):
	renamed
	(__focus_grab_one_button):
	grab all modifier combinations on client windows by default if
	necessary; this saves a lot of traffic but may grab unnecessary
	modifiers with mouse bindings on the client window

	* fvwm/fvwm.1:
	* libs/defaults.h (DEF_FP_MODIFIERS):
	* fvwm/events.c (__handle_focus_raise_click):
	* fvwm/style.c (style_parse_focus_policy_style):
	* fvwm/focus_policy.h (FPOL_ANY_MODIFIER_MASK):
	default is now to use any modifiers for clicktofocus/raise purposes

	* fvwm/menus.c (__mloop_get_event):
	fixed menu hang
	(menu_tear_off):
	fixed tear off menus

	* libs/FEvent.c (FCheckIfEvent):
	(FCheckMaskEvent):
	(FCheckTypedEvent):
	(FCheckTypedWindowEvent):
	(FCheckWindowEvent):
	fixed FCheck...Event functions thus fixing Menu command behaving like
	Popup

	* fvwm/move_resize.c (InteractiveMove):
	fixed offset between pointer and window when dragging

	* fvwm/virtual.c (HandlePaging):
	* fvwm/icons.c (CMD_Iconify):
	* fvwm/move_resize.c (InteractiveMove):
	* fvwm/menus.c (get_menu_options):
	(get_menu_options):
	* libs/FScreen.c (GetMouseXY):
	use new function fev_get_evpos_or_query()

	* libs/Makefile.am:
	* libs/Pointer.c:
	removed file

	(GetLocationFromEventOrQuery):
	moved to FEvent.c and renamed to fev_get_evpos_or_query()
	* libs/FEvent.c (fev_set_evpos):
	new function

	* fvwm/functions.c (__execute_function):
	(execute_complex_function):
	fixed complex action clicking logic

	* fvwm/add_window.c (CaptureOneWindow):
	fixed RecaptureWindow
	(CaptureAllWindows):
	fixed Restart

	* fvwm/functable.c (func_table):
	fixed running RecaptureWindow without a context window

	* fvwm/conditional.c (circulate_cmd):
	fixed action to run

	* fvwm/events.c (HandleVisibilityNotify):
	fixed VisibilityNotify handling

	* fvwm/functions.c (execute_complex_function):
	fixed memory corruption
	(__execute_function):
	fixed using wrong context
	(__execute_function):
	removed conditional that was always true now
	(DeferExecution):
	fixed core dump

	* fvwm/module_interface.c (ExecuteModuleCommand):
	initialise module number

2002-09-11  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (CaptureOneWindow):
	fixed memory corruption

	* fvwm/icons.c (Iconify):
	(DeIconify):
	fixed bug introduced with transient stacking patch

	* fvwm/functions.c (DeferExecution):
	(__execute_function):
	(execute_complex_function):
	cleaned up and optimized exec_context handling

	* fvwm/schedule.c:
	* fvwm/menucmd.c:
	* fvwm/update.c:
	* fvwm/windowlist.c:
	* fvwm/conditional.c:
	* fvwm/focus.c:
	* fvwm/functions.c:
	* fvwm/placement.c:
	* fvwm/colorset.c:
	* fvwm/stack.c:
	* fvwm/virtual.c:
	* fvwm/module_interface.c:
	* fvwm/icons.c:
	* fvwm/builtins.c:
	* fvwm/add_window.c:
	* fvwm/move_resize.c:
	* fvwm/fvwm.h (F_CMD_ARGS):
	(F_PASS_ARGS):
	completely removed the builtin command arguments fw, w, and context

	* fvwm/functions.c (DeferExecution):
	fixed core dump

	* fvwm/stack.c (BroadcastRestack):
	removed global lastTimestamp

	* fvwm/ewmh_events.c (EWMH_ProcessClientMessage):
	(EWMH_ProcessPropertyNotify):
	(ewmh_WMStateShaded):
	(ewmh_WMStateSticky):
	(ewmh_WMStateHidden):
	(ewmh_WMState):
	(ewmh_MoveResize):
	(ewmh_WMDesktop):
	(ewmh_CloseWindow):
	(ewmh_DesktopGeometry):
	(ewmh_ActiveWindow):
	use new function interface

	* fvwm/menus.c (do_menu):
	* fvwm/menucmd.c (menu_func):
	* fvwm/windowlist.c (CMD_WindowList):
	use new function interface
	replaced "(XEvent *)1" hack with a regular flag

2002-09-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (destroy_window):
	* fvwm/update.c (destroy_scheduled_windows):
	* fvwm/screen.h (ScreenInfo):
	new member is_executing_menu_function

	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/menucmd.c (menu_func):
	* fvwm/gnome.c (CMD_GnomeButton):
	(GNOME_ProcessClientMessage):
	(GNOME_HandlePropRequest):
	* fvwm/modconf.c (CMD_Send_ConfigInfo):
	* fvwm/update.c (apply_window_updates):
	* fvwm/repeat.c (CMD_Repeat):
	* fvwm/conditional.c (circulate_cmd):
	(CMD_Prev):
	(CMD_Next):
	(CMD_None):
	(CMD_Any):
	(CMD_Current):
	(CMD_Cond):
	(CMD_CondCase):
	(select_cmd):
	(CMD_All):
	(CMD_Direction):
	(CMD_WindowId):
	* fvwm/focus.c (warp_to_fvwm_window):
	(CMD_WarpToWindow):
	* fvwm/read.c (run_command_stream):
	(run_command_file):
	(CMD_Read):
	(CMD_PipeRead):
	* fvwm/fvwm.c (Done):
	(SetRCDefaults):
	(StartupStuff):
	(main):
	use new function interface
	(main):
	fixed running startup script under random module number

	* fvwm/functions.c (execute_function_override_window):
	* fvwm/functions.c (execute_function_override_wcontext):
	new convenience functions

	* fvwm/gnome.c:
	* fvwm/modconf.c:
	* fvwm/session.c:
	re-indented

	* fvwm/module_interface.c (CMD_Send_WindowList):
	(CMD_set_mask):
	(CMD_set_sync_mask):
	(CMD_set_nograb_mask):
	fixed core dumps
	don't use "Module" argument anymore
	(ExecuteModuleCommand):
	made static
	use new function interface

	* fvwm/add_window.c (CaptureOneWindow):
	(do_recapture):
	(CaptureAllWindows):
	* fvwm/events.c (HandleMapRequestKeepRaised):
	* fvwm/add_window.c (AddWindow):
	AddWindow takes executiuon context as its argument instead of the
	window; changed caller
	don't use "Event" anymore

	* fvwm/fvwm.c (StartupStuff):
	generate an execution context for startup

	* fvwm/move_resize.c (DoResize):
	(__resize_step):
	(moveLoop):
	(__move_loop):
	renamed and used new function interface in args

	* fvwm/geometry.c (constrain_size):
	added XEvent *e argument to remove use of global "Event"; changed all
	callers

2002-09-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/stack.c (get_next_window_in_stack_ring):
	(get_prev_window_in_stack_ring):
	(get_transientfor_fvwmwindow):
	* fvwm/icons.c (SetMapStateProp):
	* fvwm/events.c (fake_map_unmap_notify):
	* fvwm/misc.c (IsRectangleOnThisPage):
	* fvwm/menus.c (menu_enter_tear_off_menu):
	(menu_close_tear_off_menu):
	* fvwm/icons.c (DrawIconWindow):
	* fvwm/focus.c:
	* fvwm/colormaps.c (InstallWindowColormaps):
	made FvwmWindow * arguments const in many functions

	* fvwm/menus.c (pop_menu_up):
	(pop_menu_down):
	(__mloop_do_menu):
	(__mloop_do_popup):
	(do_menu):
	(menu_enter_tear_off_menu):
	(__mloop_get_event):
	(__mloop_get_event_timeout_loop):
	(__mloop_do_menu):
	(__mloop_get_mi_actions):
	(is_double_click):
	* fvwm/events.c (HandleEnterNotify):
	* fvwm/move_resize.c (AnimatedMoveAnyWindow):
	(__move_window):
	(__move_loop):
	(__resize_step):
	(__resize_window):
	* fvwm/functions.c (DeferExecution):
	(__execute_function):
	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/colormaps.c (colormap_handle_colormap_notify):
	* fvwm/module_interface.c (CMD_ModuleSynchronous):
	(ExecuteModuleCommand):
	* fvwm/builtins.c (CMD_Wait):
	* fvwm/events.c (WaitForButtonsUp):
	(HandleShapeNotify):
	(HandleVisibilityNotify):
	(HandleUnmapNotify):
	(HandleSelectionRequest):
	(HandleReparentNotify):
	(HandlePropertyNotify):
	(HandleMotionNotify):
	(HandleMapRequestKeepRaised):
	(HandleMapRequest):
	(HandleMappingNotify):
	(HandleMapNotify):
	(HandleLeaveNotify):
	(HandleKeyPress):
	(HandleFocusOut):
	(HandleFocusIn):
	(HandleExpose):
	(HandleEnterNotify):
	(HandleDestroyNotify):
	(HandleColormapNotify):
	(HandleClientMessage):
	(HandleButtonRelease):
	(HandleButtonPress):
	(__handle_bpress_on_root):
	(__handle_bpress_action):
	(__handle_click_to_raise):
	(__handle_click_to_focus):
	(__is_bpress_window_handled):
	(__handle_focus_raise_click):
	don't use "Event", "Fw" and old_execute_function() anymore

	* fvwm/events.c (dispatch_event):
	removed preserve_tmpwin argument; changed all callers

	* fvwm/events.c (CoerceEnterNotifyOnCurrentWindow):
	fixed random focus member of faked event

	* fvwm/gnome.c (GNOME_ProcessClientMessage):
	* fvwm/ewmh_events.c (EWMH_ProcessClientMessage):
	(EWMH_ProcessPropertyNotify):
	* fvwm/move_resize.c (DisplaySize):
	(DisplayPosition):
	(position_geometry_window):
	* fvwm/geometry.c (get_window_borders):
	(get_window_borders_no_title):
	made args const

	* fvwm/events.c (dispatch_event):
	create event execution context
	(HandleClientMessage):
	removed useless local "button"
	(GetContext):
	don't fiddle with global Fw anymore; added argument to return context
	window; changed all callers

	* fvwm/events.c (CoerceEnterNotifyOnCurrentWindow):
	* fvwm/move_resize.c (__resize_window):
	use new event handle interface

	* fvwm/events.c:
	* fvwm/eventhandler.h:
	new event handler interface

	* fvwm/functions.c (CMD_Plus):
	* fvwm/builtins.c (AddToDecor):
	(CMD_AddToDecor):
	(CMD_DestroyDecor):
	use F_CMD_ARGS in AddToDecor
	(CMD_StrokeFunc):
	removed useless check for realloc return value
	use new function interface
	fixed another memory leak

	* fvwm/builtins.c (__remove_window_decors):
	replace old_execute_function with execute_function

	* fvwm/add_window.c (setup_window_placement):
	* fvwm/placement.c (PlaceWindow):
	* fvwm/schedule.c (execute_obj_func):
	* fvwm/colorset.c (add_to_junk):
	use new function call interface

	* fvwm/fvwm.h (F_EXEC_ARGS):
	(F_PASS_EXEC_ARGS):
	removed now unused macros

	* fvwm/functions.c (CheckActionType):
	(cf_cleanup):
	(DeferExecution):
	(__execute_function):
	(__run_complex_function_items):
	(execute_complex_function):
	rewrote function call interface

	* fvwm/functions.c (__run_complex_function_items):
	new function split off from execute_complex_function

	* fvwm/externs.h:
	* fvwm/events.c:
	removed "Event" global

2002-09-08  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1.in: Language check.

2002-09-08  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/functions.c (old_execute_function):
	removed

	* fvwm/module_interface.c (do_execute_module):
	don't write module argument anymore; code claimed that writing 0 into
	*Module prevented WaitForButtonsUp from being called, but that was
	either a lie or a relic of the past

	* fvwm/fvwm.h (exec_func_args_type):
	removed type
	(F_CMD_ARGS):
	(F_PASS_ARGS):
	removed *Module argument

	* fvwm/functions.c (__execute_function):
	new interface

	* fvwm/functions.h (enum):
	added more function execution falgs

	* fvwm/fvwm.h:
	add exec_context_t *exc to builtin arguments

	* libs/FEvent.c (fev_copy_last_event):
	new function

	* fvwm/execcontext.h:
	* fvwm/execcontext.c:
	new files introducing the "exec_context_t" structure that shall replace
	the builtin command interface

	* fvwm/stack.c (__RaiseOrLowerWindow):
	(RaiseOrLowerWindow):
	(__restack_window):
	(mark_transient_subtree):
	(__sort_transient_ring):
	properly handle restacking of windows with more than one transient and
	multiple levels of transients at the same time
	(__RaiseOrLowerWindow):
	(RaiseOrLowerWindow):
	renamed function and added wrapper

	* fvwm/fvwm.h (FvwmWindow):
	added new scratch registers

2002-09-06  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	* Makefile.am:
	minor improvements in the new release procedure

2002-09-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/stack.c (RaiseOrLowerWindow):
	(__restack_window):
	(mark_transient_subtree):
	(must_move_transients):
	(is_on_top_of_layer_ignore_rom):
	handle restacking trees of transient windows; still does not work too
	well if a window has multiple transients at the same time

2002-09-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/stack.h:
	* fvwm/stack.c:
	restored versions from before 9th of September
	(RaiseOrLowerWindow):
	fixed StackTransientParent style without RaiseTransient or
	LowerTransient on transient_for window
	StackTransientParent works only on window in the same layer
	(mark_transient_subtree):
	fixed handling of window group hint w/ iconify
	(restack_windows):
	(RaiseOrLowerWindow):
	(new_layer):
	fixed flickering when overlapping transients aree lowered

	* fvwm/move_resize.c (__resize_window):
	* fvwm/colorset.c (add_to_junk):
	cleaned up event handling

	* fvwm/move_resize.c (__resize_window):
	renamed function and changed callers

	* fvwm/fvwm.h (F_PASS_ARGS):
	(F_CMD_ARGS):
	removed eventp command argument

	* fvwm/events.c (DispatchEvent):
	(dispatch_event):
	renamed function, added event argument and changed all callers

	* libs/FEvent.c (fev_fake_event):
	* libs/FEvent.c (fev_get_evtype__remove_me):
	new functions

	* fvwm/menus.c (menuShortcuts):
	(is_double_click):
	(pop_menu_up):
	(pop_menu_up):
	(pop_menu_down):
	(pop_menu_down):
	(__mloop_init):
	(__mloop_get_event_timeout_loop):
	(__mloop_get_event):
	(__mloop_do_popup):
	(__mloop_do_popup):
	(do_menu):
	* fvwm/builtins.c (CMD_FakeClick):
	* fvwm/functions.c (CheckActionType):
	(CheckActionType):
	* fvwm/focus.c (__try_program_focus):
	(__try_program_focus):
	* fvwm/icccm2.c (SetupICCCM2):
	* fvwm/virtual.c (HandlePaging):
	* fvwm/module_interface.c (make_vpacket):
	(make_new_vpacket):
	* fvwm/schedule.c (squeue_get_next_ms):
	(squeue_get_next_ms):
	(CMD_Schedule):
	* fvwm/stack.c (BroadcastRestack):
	* fvwm/move_resize.c (resize_window):
	(moveLoop):
	* libs/FEvent.c (fev_get_evtime):
	removed global lastTimestamp; use fev_get_evtime() from FEvent.c instead

	* fvwm/events.c (HandleEnterNotify):
	(DispatchEvent):
	(My_XNextEvent):
	(discard_events):
	(discard_window_events):
	* fvwm/move_resize.c (AnimatedMoveAnyWindow):
	(moveLoop):
	(resize_window):
	* fvwm/menus.c (__mloop_get_event):
	* fvwm/virtual.c (HandlePaging):
	(MoveViewport):
	* fvwm/functions.c (DeferExecution):
	(CheckActionType):
	* fvwm/misc.c (get_server_time):
	* fvwm/builtins.c (CMD_StrokeFunc):
	* fvwm/menus.c (pop_menu_up):
	(pop_menu_down):
	(__mloop_init):
	* libs/FEvent.c (fev_update_last_timestamp):
	removed StashEventTime function; handle this directly in FEvent.c

	* fvwm/module_interface.c (ExecuteModuleCommand):
	* fvwm/misc.c (Keyboard_shortcuts):
	* fvwm/colormaps.c (colormap_handle_colormap_notify):
	* fvwm/events.c (handle_all_expose):
	(dispatch_event):
	(HandleEvents):
	(HandleKeyPress):
	don't use Event global anymore

	* fvwm/bindings.c (activate_binding):
	fixed key bindings on window corners

	* libs/fvwmlib.h (C_DECOR):
	context including all parts of the decorations

2002-09-04  Mikhael Goikhman  <migo@homemail.com>

	* libs/FEvent.h:
	fixed compilation warning in #endif comment

	* fvwm/borders.c:
	removed debug fprintf

	* acconfig.h:
	* configure.in:
	* fvwm/fvwm.c:
	* fvwm/fvwm.1:
	another solution for reporting the cvs status

2002-09-04  Dominik Vogt  <dominik.vogt@gmx.de>

	* configure.in (LIBOBJS):
	* acinclude.m4 (smr_SWITCH):
	fix for autoconf 2.53

	* fvwm/*.[ch]:
	removed unnecessary includes

	* fvwm/Makefile.am (fvwm_SOURCES):
	* fvwm/events.h:
	* fvwm/eventmasks.h:
	* fvwm/eventhandlers.h:
	new files split from events.h

	* fvwm/icccm2.c (HandleSelectionRequest):
	(HandleSelectionClear):
	* fvwm/colormaps.c (HandleColormapNotify):
	* fvwm/menus.c (menu_tear_off):
	* fvwm/move_resize.c (resize_window):
	* fvwm/events.c:
	* fvwm/events.h:
	new argument avh_args_t to the event handler functions; still unused
	moved all event handlers to events.c
	remove now unnecessary includes in some files

	* fvwm/icccm2.c (HandleSelectionRequest):
	re-indented file

	* **/*.c:
	use replacements for X event functions everywhere

2002-09-03  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/defaults.h:
	* fvwm/screen.h:
	* fvwm/borders.c (border_flags_to_button_state):
	(CMD_ButtonState):
	* fvwm/builtins.c (ReadTitleButton):
	* fvwm.1.in (ButtonStyle, TitleStyle, ButtonState):
	* fvwm/fvwm.c (InitVariables):
	Imlemented new title and button states InactiveUp and InactiveDown,
	new state shortcuts Active, Inactive, ToggledActive, ToggledInactive.
	So now there are 4+4 states and 2+2 aliases instead of 3+3 states.
	Updated all ButtonStyle, TitleStyle and ButtonState commands.

	* fvwm/fvwm.c:
	reformat license info in -version to be 3 lines and one empty line
	instead of 5 non-empty lines, for readability

2002-09-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/FEvent.c:
	* libs/FEvent.h:
	* libs/Makefile.am:
	new files

	* fvwm/stack.c (__raise_or_lower_recursion):
	(RaiseOrLowerWindow):
	split into two functions
	renamed to __raise_or_lower_window
	(mark_transient_subtree):
	new flag MARK_CLEAR
	(position_new_window_in_stack_ring):
	(RaiseWindow):
	(LowerWindow):
	cleaned up stacking code

	* fvwm/menus.c (paint_menu):
	fixed a minor drawing problem with menu item reliefs

2002-09-02  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (InteractiveMove):
	removed eventp from interface
	changed all callers

	* fvwm/menucmd.c (menu_func):
	* fvwm/gnome.c (GNOME_ProxyButtonEvent):
	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/read.c (run_command_file):
	(run_command_stream):
	* fvwm/focus.c (warp_to_fvwm_window):
	* libs/Event.c (GetSubwindowFromEvent):
	* fvwm/events.c (GetContext):
	* libs/Pointer.c (GetLocationFromEventOrQuery):
	* fvwm/builtins.c (CMD_StrokeFunc):
	(CMD_StrokeFunc):
	* fvwm/events.c (StashEventTime):
	* fvwm/move_resize.c (InteractiveMove):
	* fvwm/functions.c (DeferExecution):
	(old_execute_function):
	* fvwm/fvwm.h (F_CMD_ARGS):
	(F_EXEC_ARGS):
	make eventp argument const to ease clean up work

	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/move_resize.c (InteractiveMove):
	* fvwm/menucmd.c (menu_func):
	* fvwm/icons.c (CMD_Iconify):
	always query pointer position in case a script modified the position
	in the input event

	* fvwm/focus.c (SetPointerEventPosition):
	removed function since it modifies the global event variable

	* fvwm/functable.c (func_table):
	added cursor and event type members fo DeferExecution call
	* fvwm/functions.c (DeferExecution):
	made static, call from inside functions.c only
	removed calls everywhere

	* fvwm/builtins.c (CMD_StrokeFunc):
	fixed memory leak

	* fvwm/virtual.c (HandlePaging):
	(MoveViewport):
	don't use global "Event" anymore
	(HandlePaging):
	pass in event structure through arguments
	changed all callers

2002-09-02  olicha  <olivier.chapuis@free.fr>

	* libs/Colorset.c (*):
	* libs/Colorset.h:
	* libs/colorset.c (parse_colorset):
	* libs/PictureGraphics.c (PGrabXImage):
	(PCreateRenderPixmap):sx
	(PGraphicsCreateTransprency):
	* libs/PictureGraphics.h:
	An experimental implementation of ParentalRelative tinted background

	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	* libs/PictureImageLoader.c (PImageCreatePixmapFromArgbData):
	(PImageLoadPng):
	* libs/PictureGraphics.c (PGraphicsCreateStretchPicture):
	* libs/FRenderInit.c (FRenderInit):
	(FRenderGetAlphaDepth):
	* libs/FRenderInit.h:
	Fixed alpha blending for xserver without depth 8 pixmap
	(maybe a tmp fix)

	* fvwm/fvwm.1.in
	typo

2002-09-01  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	Colorset and alpha blending news

2002-08-31  olicha  <olivier.chapuis@free.fr>

	* libs/Ficonv.c (convert_charsets):
	Fixed compilation on systems that do not have EILSEQ

2002-08-30  olicha  <olivier.chapuis@free.fr>

	* libs/PictureGraphics.c (PGraphicsCreateStretchPicture):
	Fixed compilation of certain modules

	* fvwm/borders.c (border_render_into_pixmap):
	* libs/PictureGraphics.c (PGraphicsCreateStretchPicture):
	* libs/PictureGraphics.h:
	* libs/Graphics.c (CreateStretchPixmap):
	(CreateStretchYPixmap):
	(CreateStretchXPixmap):
	Progress with masks in multipixmap title

	* libs/PictureGraphics.c (PCopyArea):
	(PTileRectangle):
	(PCreateRenderPixmap):
	* fvwm/borders.c (border_fill_pixmap_background):
	Some drawing fixes

	* fvwm/icons.c (DrawIconWindow):
	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	Fixed the shape mask of ewmh icons and icons with some alpha

2002-08-30  olicha  <olivier.chapuis@free.fr>

	* libs/PictureGraphics.c (PCreateRenderPixmap):
	(PGrabImageErrorHandler):
	(PGraphicsCopyPixmaps):
	(PGraphicsCopyFvwmPicture):
	(PGraphicsTileRectangle):
	(PGraphicsRenderPixmaps):
	(PGraphicsRenderPicture):
	* libs/PictureGraphics.h:
	* libs/PictureBase.h:
	Replaced PGraphicsTileRectangle with a more powerful function,
	PCreateRenderPixmap, which performs *full* XRender simulation.
	So alpha blending is now supported even without Xrender support.
	New interface function PGraphicsRenderPixmaps and PGraphicsRenderPicture
	for direct rendering with tint and alpha channel.

	* libs/FRender.c (FRenderVisualInit):
	(FRenderCopyArea):
	(FRenderTintRectangle):
	(FRenderRender):
	* libs/FRenderInterface.h:
	Replaced FRenderCopyArea and FRenderTintRectangle with a more general
	and more powerfull function FRenderRender

	* libs/PictureImageLoader.c (PImageCreatePixmapFromArgbData):
	(PImageLoadPng):
	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	Load the alpha even without Xrender support

	* libs/Colorset.h:
	* fvwm/colorset.c (parse_pixmap_tint):
	(parse_colorset):
	(alloc_colorset):
	Implemented IconTint, IconAlpha, bgTint. Tint (~ PixmapTint or ImageTint
	or obsolete TintMask) also tints gradients and the tint is applied
	only to the pixmap not the bg color. The average bg is computed from
	the "original" pixmap and not the tinted one, bgTint should be used
	to get a real average bg in the case the pixmap is tinted

	* fvwm/icons.c (DrawIconWindow):
	(CreateIconWindow):
	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/menus.c (paint_side_pic):
	* fvwm/borders.c (border_get_border_background):
	(border_draw_decor_to_pixmap):
	(border_fill_pixmap_background):
	* fvwm/events.c (HandlePropertyNotify):
	Picture rendering use the new PGraphicsRenderPixmaps and
	PGraphicsRenderPicture libs functions. Respect new colorset options

	* fvwm/colorset.c (parse_colorset):
	(alloc_colorset):
	(CMD_ReadWriteColors):
	* fvwm/fvwm.1.in:
	Removed the read write colorset codes

	* libs/Graphics.c (CalculateGradientDimensions):
	Fixed the size of dithered H and V gradients

	* libs/PictureUtils.c (*):
	* libs/PictureUtils.h:
	Some cleanup

2002-08-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (paint_menu_gradient_background):
	fixed drawing of SidePic menu background when not using SideColor

2002-08-28  Hippo
	* FvwmIconBox/icons.c:
	Fixed core dump

2002-08-26  Mikhael Goikhman  <migo@homemail.com>

	* NEWS: mention new FvwmButtons additions and TitleStyle MultiPixmap

2002-08-26  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	fixed --disable-ewmh

	* libs/Picture.c:
	* libs/Picture.h:
	added const to some prototypes

2002-08-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (MenuInteraction):
	(__menu_loop):
	renamed MenuInteraction to __menu_loop

	* fvwm/menus.c (pop_menu_up):
	(do_menu):
	(MenuInteraction):
	removed pdo_warp_to_title argument of pop_menu_up and changed all
	callers; logic is now in last_saved_position_hints
	(__menu_get_next_event_timeout_loop):
	began to split MenuInteraction into several sub functions
	go away, evil "goto"!

	* fvwm/style.c (style_parse_one_style_option):
	all boolean styles - and *only* boolean styles, can be prefixed with a
	'!' to invert their meaning
	(style_parse_button_style):
	moved Button and NoButton styles to separate function

	* configure.in:
	* NEWS:
	updated for 2.5.4-devel

	* configure.in:
	2.5.3 was released

	* configure.in:
	* NEWS:
	updated for 2.5.3

	* fvwm/menuitem.h (struct):
	* fvwm/menus.c (paint_menu_gradient_background):
	(paint_menu_pixmap_background):
	(paint_menu):
	(clear_expose_menu_area):
	fixed TiledPixmap menu background drawing bug
	sorted function in file and removed forward declarations

2002-08-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/Makefile.am (LDADD):
	put -lfvwm at front of library list

	* fvwm/windowlist.c (CMD_WindowList):
	print window's page instead of current page in windowlist

2002-08-24  Bob Woodside  <dumbledore@woodsway.com>

	* fvwm/events.c (HandleButtonPress, HandleEnterNotify):
	Fix for Experimental RaiseOverUnmanaged Handling.

2002-08-22  Bob Woodside  <dumbledore@woodsway.com>

	* fvwm/focus.h:
	* fvwm/stack.h:
	New defs for Experimental RaiseOverUnmanaged Handling.

	* fvwm/events.c (HandleEnterNotify):
	* fvwm/focus.c:
	(set_focus_to_fwin)
	(focus_query_grab_buttons)
	(_focus_grab_buttons)
	(focus_grab_buttons)
	(focus_grab_buttons_client_entered)
	(_SetFocusWindow)
	(__activate_window_by_command)
	(_ReturnFocusWindow)
	(_DeleteFocus)
	(_ForceDeleteFocus)
	* fvwm/stack.c:
	(raise_over_unmanaged)
	(is_above_unmanaged)
	(_is_on_top_of_layer)
	(is_on_top_of_layer)
	(is_on_top_of_layer_and_above_unmanaged)
	Experimental RaiseOverUnmanaged Handling - an attempt to fix the
	interaction of RaiseOverUnmanaged with various focus policies,
	particularly mouse focus + client click raises; issue mouse
	button grabs when and only when they are actually needed; and
	fix the old "xfm + MouseFocusClickRaises" bug once and for all.
	(Thanks to the GFPR, this is much more straightforward to do!)

2002-08-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in:
	added a paragraph about scripting and complex functions.

	* fvwm/style.c (style_parse_one_style_option):
	fixed flag_mask and change_mask of TitleAt... styles that broke left
	and bottom titles

2002-08-21  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.1.in:
	describe new focus policy styles

2002-08-20  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/style.c (merge_styles):
	fixed applying style updates immediately

	* fvwm/geometry.c (constrain_size):
	fixed font resizing of maximized windows

	* fvwm/window_flags.h:
	* fvwm/fvwm.h (has_new_wm_normal_hints):
	new window flags

	* fvwm/events.c (HandleEnterNotify):
	fixed UngrabNotify returning focus to just unfocused window
	* fvwm/focus.h:
	added debug code

	* fvwm/style.c (merge_styles):
	(free_style_mask):
	(__simplify_style_list):
	fixed default style calculations

	* fvwm/events.c (HandleConfigureRequest):
	disabled debug output

	* fvwm/style.c (merge_styles):
	* fvwm/fvwm.h (window_style):
	new style member default_mask to allow two levels of defaults;
	fixes focus policy defaults
	* fvwm/style.h:
	rewrote many of the macros; changed all callers

	* fvwm/borders.c (RenderIntoPixmap):
	(DrawMultiPixmapTitlebar):
	(border_render_into_pixmap):
	(border_draw_multi_pixmap_titlebar):
	applied Suzanne Skinner's multi pixmap titles fix
	renamed functions and changed all callers

	* libs/FScreen.c (FScreenGetScrRect):
	(FindScreen):
	(FScreenGetScrId):
	new utility functions

	* fvwm/windowlist.c (CMD_WindowList):
	new option MaxLabelWidth for the WIndowList command based on patch by
	Maxim F. Ischenko
	new options NoLayer, ShowPage, ShowPageX, ShowPageY and ShowScreen to
	WindowList command.

	* fvwm/events.c (HandleConfigureRequest):
	removed debug code now that the EXPERIMENTAL_ANTI_RACE_CONDITION_CODE
	seems to work without problems

2002-08-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/style.c (merge_styles):
	fixed style defaults getting stuck to on once set

	* configure.in:
	fixed a number of non portable uses of the "test" command and unified
	the used syntax of all calls to reduce chance of copy-and-paste
	problems

2002-08-17  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	* fvwm/fvwm.1.in:
	minor typos and improvements;
	better string quotings and detection of fribidi for autoconf-2.53

	* fvwm/Makefile.am:
	don't include *.in in EXTRA_DIST, they are auto-included

2002-08-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleConfigureRequest):
	(HandlePropertyNotify):
	(is_resizing_event_pending):
	fixed uninitialised return code of test_resizing_event

2002-08-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/decorations.c (SelectDecor):
	* fvwm/style.h:
	* fvwm/window_flags.h:
	* fvwm/fvwm.h:
	moved common.s.has_no_border window flag to common.has_no_border to
	fix windows getting stuck without a border once the HandleWidth or
	BorderWidth was set to 0 and then increased again

	* fvwm/fvwm.1.in:
	removed reference to BUGS and TODO

	* configure.in:
	moved a lot of constant definitions to configure.in; the fvwm.lsm and
	fvwm.1 files don't have to be updated for a release anymore; the release
	number and date are set by configure

	* fvwm/fvwm.c (setVersionInfo):
	fixed output of "fvwm -version"

2002-08-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/style.c (style_parse_one_style_option):
	Old focus styles override less of the behaviour specified with the
	FP... styles; use defaults instead without setting the mask
	(style_parse_one_style_option):
	removed the styles MouseFocusClickIgnoreMotion and
	MouseFocusClickIgnoreMotionOff, use the corresponfing FP... styles
	instead
	(style_parse_one_style_option):
	ClickToFocusRaises now works only on the client window, not on the
	decorations
	(style_parse_one_style_option):
	fixed FocusFollowsMouse style
	(style_set_old_focus_policy):
	moved old default focus settings to a separate function, simplified code

2002-08-14  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1: Add hot-spot is an offset information,
	fix spelling, "hot-spot", not "hotspot" (too bad its wrong in
	the xpm docs).

2002-08-14  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/style.c (style_parse_focus_policy_style):
	fixed parsing of FPFocusClickButtons and FocusClickModifiers

	* libs/Makefile.am:
	added missing files

	* fvwm/events.c (HandleConfigureRequest):
	fixed ConfigureRequest race condition

2002-08-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* configure.in:
	quote environment variables

2002-08-13  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	Color limit and dithering news

	* fvwm/fvwm.1:
	Added a minimal doc for the -color-limit option

	* fvwm/builtins.c (CMD_ColorLimit):
	ColorLimit is obsolete

	* fvwm/builtins.c (ReadDecorFace):
	* libs/PictureUtils.c (my_dither_depth_15_16_init):
	(PictureAllocColorAllProp):
	Implemented dithering for depth 16 and 15. This is off by default
	in colorset (use the dither colorset option) and on by default
	for window title gradient. Gradient are visibly more smooth.

	* libs/PictureUtils.c (*):
	Some cleanup

2002-08-13  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm.1:
	corrected the pixmap cursor description, added an example

2002-08-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (select_menu_item):
	(paint_menu_gradient_background):
	fixed a redrawing problem with H/Vgradient menu faces
	(MenuInteraction):
	fixed a minor problem w/ entering submenus via keyboard

2002-08-12  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (CMD_ResizeMove):
	(CMD_Resize):
	(CMD_Maximize):
	(CMD_ResizeMaximize):
	(CMD_ResizeMoveMaximize):
	commands can be used on iconified windows again

	* ONEWS:
	* NEWS:
	moved pre-2.2 NEWS to ONEWS

	* libs/strdup.c:
	* libs/safemalloc.c:
	* libs/envvar.c:
	* libs/alloca.c:
	* libs/Target.c:
	* libs/Parse.c:
	* libs/Bindings.c:
	* fvwm/menustyle.c:
	* fvwm/menus.c:
	* fvwm/menuitem.c:
	* fvwm/menucmd.c:
	* fvwm/frame.c:
	* fvwm/events.c:
	* fvwm/borders.c:
	let config.h include strinh.h or strings.h

	* fvwm/style.c (style_parse_one_style_option):
	(style_parse_one_style_option):
	fixed icon box crash

	* fvwm/bindings.c (update_nr_buttons):
	fixed extra buttons on window decorations

	* fvwm/style.c (style_parse_one_style_option):
	fixed parsing of the FP... and !FP... styles

2002-08-12  Bob Woodside  <dumbledore@woodsway.com>

	* fvwm/style.c (style_parse_one_style_option):
	Fixed a typo so that ClickToFocusRaisesOff actually turns
	the option off instead of on.

2002-08-12  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (focus_grab_buttons):
	only grab necessary buttons on the client window

2002-08-11  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (PICTURE_DEBUG_COLORS_ALLOC_FAILURE):
	Removed some debug code

	* fvwm/fvwm.c (main):
	(usage):
	Added -color-limit to fvwm usage

2002-08-11  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/style.c (style_parse_one_style_option):
	(style_parse_focus_policy_style):
	added style options "FP..." to control focus policy
	removed OverrideGrabFocus and AllowGrabFocus styles

	* fvwm/style.c (merge_styles):
	fixed style defaults != 0

	* fvwm/focus.c (__restore_focus_after_unmap):
	fixed a bug w/ reverting the focus from transients to the parent

	* fvwm/ewmh.c (ewmh_HandleDesktop):
	* fvwm/style.c (style_parse_one_style_option):
	fixed defaults for various focus styles

	* NEWS:
	updated for 2.4.9

	* fvwm/frame.c (frame_mrs_resize_move_windows):
	backed out anti-flicker patch that slowed down command processing

	* fvwm/bindings.c (update_nr_buttons):
	(ParseBinding):
	fixed sluggish processing of mouse bindings

	* fvwm/events.c (__handle_bpress_action):
	fixed drawing of pressed decorations w/o bindings

	* fvwm/frame.c (frame_move_resize):
	removed debug code that broke focus handling

	* fvwm/style.c (style_parse_one_style_option):
	fixed passing the focus click to the app by default

	* fvwm/events.c (__handle_click_to_focus):
	* fvwm/focus.c (set_focus_to_fwin):
	(__set_focus_to_fwin):
	removed drawing code that broke as many places as it fixed; plus it
	cause unnecessary redraws

	* fvwm/events.c (HandleConfigureRequest):
	send a synthetical ConfigureNotify if an application is not granted its
	wishes from a ConfigureRequest; this is necessary for FixedPPosition
	and FixedPSize to work properly; also to be ICCCM compliant
	always force border_width 0 in these events
	in the experimental cr merging code, send a number of cn events equal
	to the number of merged events

	* libs/Parse.c:
	* fvwm/style.c:
	reformatted

	* fvwm/style.c (style_parse_focus_policy_style):
	(style_parse_icon_size_style):
	(style_parse_icon_box_style):
	(style_parse_icon_grid_style):
	(style_parse_icon_fill_style):
	(style_parse_one_style_option):
	(parse_and_set_window_style):
	split into separate functions
	(style_parse_one_style_option):
	simplified and cleaned up

	* fvwm/events.h:
	* fvwm/decorations.c:
	* fvwm/cursor.h:
	* fvwm/cursor.c:
	* fvwm/conditional.h:
	* fvwm/conditional.c:
	* fvwm/colorset.h:
	* fvwm/colors.h:
	* fvwm/colors.c:
	* fvwm/colormaps.c:
	* fvwm/bindings.h:
	* fvwm/bindings.c:
	reformatted and cleaned up

2002-08-11  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (*):
	* libs/PictureUtils.h:
	* libs/PictureDitherMatrice.h (new file):
	* libs/PictureImageLoader.c (*):
	* libs/PictureImageLoader.h:
	* libs/PictureGraphics.c  (PGraphicsCreateDitherPixmap):
	(PCreateDitherPixmap):
	(PCreateTintedPixmap):
	* libs/PictureGraphics.h:
	* libs/PictureBase.c (PictureInitCMap):
	* libs/PictureBase.h:
	* libs/Picture.c (*):
	* libs/Picture.h:
	* libs/Fxpm.h:
	* libs/Colorset.c (DumpColorset):
	(LoadColorset):
	* libs/Colorset.h:
	* libs/Graphics.c (all gradient functions):
	* libs/fvwmlib.h:
	* fvwm/screen.h:
	* fvwm/move_resize.c (CMD_XorPixmap):
	* fvwm/colors.c (FreeColors):
	* fvwm/builtins.c (CMD_DefaultColors):
	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	* fvwm/builtins.c (FreeDecorFace):
	(ReadDecorFace):
	* fvwm/menus.c (pop_menu_down):
	(paint_menu_gradient_background):
	(scanForPixmap):
	* fvwm/menus.h:
	* fvwm/menustyle.c (menustyle_free_face):
	(menustyle_parse_face):
	(menustyle_free):
	(menustyle_update):
	(menustyle_parse_style):
	(CMD_CopyMenuStyle):
	* fvwm/menustyle.h:
	* fvwm/icons.c (GetIconFromFile):
	* fvwm/builtins.c (ReadMultiPixmapDecor):
	(ReadDecorFace):
	* fvwm/borders.c (border_draw_decor_to_pixmap):
	* fvwm/add_window.c (setup_mini_icon):
	* fvwm/fvwm.c (main):
	* fvwm/colorset.c (free_colorset_background):
	(parse_pixmap):
	(parse_shape):
	(parse_colorset):
	New color limit method and implement dithering in depth <= 8.
	Added a "fvwm picture attributes" structure for loading image.
	Some colors leaks fix. Add some (weak) color leaks. New option
	-color-limit for fvwm. 257 fix. Some prepartion for tint and
	alpha in colorset.

2002-08-11  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Flocale.c (FlocaleRotateDrawString):
	fixed a crash

2002-08-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/style.c (parse_and_set_window_style):
	fixed the default for passing the click-to-raise click for mousey
	focus

	* fvwm/events.c (__handle_click_to_focus):
	removed redundant code
	(WaitForButtonsUp):
	fixed sluggish motion event handling when waiting for buttons to be
	released

	* fvwm/focus.c (__set_focus_to_fwin):
	(set_focus_to_fwin):
	fixed redrawing the border w/ mousey focus when the window was entered,
	then the border was clicked before the FocusIn event arrived

	* fvwm/events.c (__handle_bpress_on_managed):
	* fvwm/style.c (parse_and_set_window_style):
	fixed some small focus problems

	* fvwm/fvwm.c:
	reformatted and cleaned up

	* fvwm/fvwm.1:
	formatting fixes

	* fvwm/focus.c (focus_query_click_to_raise):
	(focus_query_click_to_focus):
	* fvwm/style.c (parse_and_set_window_style):
	* fvwm/events.c (__test_for_motion):
	(__check_click_to_focus_or_raise):
	(__handle_focus_raise_click):
	(__is_bpress_window_handled):
	(__handle_click_to_focus):
	(__handle_click_to_raise):
	(__handle_bpress_stroke):
	(__handle_bpress_action):
	(__handle_bpress_on_root):
	(__handle_bpress_on_unmanaged):
	(__handle_bpress_on_managed):
	(HandleButtonPress):
	GFPR: completely rewrote ButtonPress handler, thus finishing the core
	of the new focus code; only the parsing for the new styles is missing

	* fvwm/virtual.c (is_pan_frame):
	new function

2002-08-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (AddWindow):
	fixed compile error

	* fvwm/events.c (__handle_focus_raise_click):
	(HandleButtonPress):
	clean up

	* fvwm/events.c (__handle_focus_raise_click):
	* fvwm/fvwm.h (struct):
	* fvwm/style.c (check_window_style_change):
	(parse_and_set_window_style):
	* fvwm/session.c (MatchWinToSM):
	* fvwm/window_flags.h:
	eliminated parts of the old focus code

	* fvwm/focus.c (__set_focus_to_fwin):
	(set_focus_to_fwin):
	* fvwm/fvwm.c (InitVariables):
	* fvwm/add_window.c (destroy_window):
	* fvwm/events.c (__handle_focus_raise_click):
	* fvwm/screen.h (ScreenInfo):
	eliminated Scr.Ungrabbed global

	* fvwm/update.c (apply_window_updates):
	(flush_window_updates):
	* fvwm/icons.c (DeIconify):
	(Iconify):
	* fvwm/move_resize.c (CMD_Maximize):
	(__move_window):
	(handle_stick):
	* fvwm/frame.c (frame_free_move_resize_args):
	(__frame_setup_window):
	* fvwm/virtual.c (do_move_window_to_desk):
	(CMD_GotoDeskAndPage):
	(goto_desk):
	(MoveViewport):
	* fvwm/stack.c (LowerWindow):
	* fvwm/events.c (HandleMapNotify):
	(HandleVisibilityNotify):
	(DispatchEvent):
	(HandleFocusIn):
	(__handle_focus_raise_click):
	(HandleEnterNotify):
	(HandleMapRequestKeepRaised):
	* fvwm/add_window.c (setup_key_and_button_grabs):
	(setup_focus_policy):
	(destroy_window):
	* fvwm/focus.c (__try_other_screen_focus):
	(__set_focus_to_fwin):
	(set_focus_to_fwin):
	(focus_grab_buttons_on_pointer_window):
	(focus_grab_buttons_on_layer):
	(focus_grab_buttons_new):
	cleaned up focus grab handling.

	* fvwm/focus.c (focus_grab_buttons_on_pointer_window):
	clean up

2002-08-08  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (setup_window_structure):
	(AddWindow):
	discarded unused return code

	* fvwm/focus.c (focus_grab_buttons):
	split into two fucntions and fixed a bug with ungrabbing buttons

	* fvwm/focus_policy.c (fpol_query_allow_set_focus):
	* fvwm/style.c (parse_and_set_window_style):
	* fvwm/icons.c (DeIconify):
	(DeIconify):
	* fvwm/events.c (HandleButtonPress):
	(HandleEnterNotify):
	(HandleLeaveNotify):
	(HandleMapNotify):
	(HandleMapRequestKeepRaised):
	* fvwm/add_window.c (CaptureAllWindows):
	* fvwm/virtual.c (UnmapDesk):
	(MapDesk):
	(do_move_window_to_desk):
	* fvwm/update.c (flush_window_updates):
	* fvwm/focus.c (set_focus_model):
	(DeleteFocus):
	(__restore_focus_after_unmap):
	much more GFPR work; these patches may break lots of things

	* fvwm/focus.c (set_focus_to_fwin):
	(__activate_window_by_command):
	(SetFocusWindow):
	(ReturnFocusWindow):
	(DeleteFocus):
	(ForceDeleteFocus):
	renamed MoveFocus to set_focus_to_fwin

2002-08-07  Mikhael Goikhman  <migo@homemail.com>

	* libs/Fft.c (FftDrawString):
	removed redudant and buggy code that called DrawStringFunc before
	this pointer gets initialized

	* fvwm/focus.c (focus_query_click_to_raise):
	fixed possibly-uninitialized variable warning

	* fvwm/Makefile.am:
	specify stroke includes before Xft includes, may improve some cases

2002-08-07  Dominik Vogt  <dominik.vogt@gmx.de>

	* configure.in:
	fixed sys/time.h detection

	* fvwm/events.c (HandleMappingNotify):
	* libs/Bindings.c (AddBinding):
	added MappingNotify event handler

	* fvwm/events.c (HandleMapRequest):
	removed debug code

	* fvwm/events.c (InitEventHandlerJumpTable):
	another attempt at handling "unknown" modifiers in key bindings

2002-08-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/stack.c (is_on_top_of_layer_ignore_rom):
	* fvwm/add_window.c (destroy_window):
	* fvwm/focus.c (focus_grab_buttons):
	fixed core dump

2002-08-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (focus_force_refresh_focus):
	* fvwm/events.c (HandleEnterNotify):
	(HandlePropertyNotify):
	(HandleButtonPress):
	* fvwm/icons.c (DeIconify):
	* fvwm/virtual.c (MapDesk):
	* fvwm/focus_policy.c (fpol_query_allow_user_focus):
	* fvwm/update.c (apply_window_updates):
	* fvwm/module_interface.c:
	* fvwm/conditional.c (MatchesConditionMask):
	more GFPR work

	* fvwm/icons.c (Iconify):
	removed "#if 0"ed code

	* fvwm/module_interface.c:
	disabled the old ConfigureWindow module interface

	* vms/vms.c:
	* libs/fvwmsignal.h:
	* libs/Picture.c:
	* fvwm/ewmh_intern.h:
	* fvwm/events.c:
	* fvwm/module_interface.c:
	* fvwm/misc.c:
	use ftime.h

	* libs/ftime.h:
	new file to encapsulate time.h and sys/time.h inclusion

	* fvwm/stack.c:
	re-indented
	(mark_transient_subtree):
	(__mark_group_member):
	cleaned up and split into two functions

	* fvwm/focus.c (CMD_Focus):
	(CMD_FlipFocus):
	* fvwm/icons.c (DeIconify):
	clean up
	(FocusOn)
	(__activate_window_by_command):
	renamed function

	* fvwm/focus_policy.c (fpol_query_allow_set_focus):
	* fvwm/focus_policy.h: (fpol_set_focus_by_t):
	* fvwm/style.c (parse_and_set_window_style):
	(parse_and_set_window_style):
	began implementing new focus control styles

	* fvwm/focus.c (DoSetFocus):
	(__restore_focus_after_unmap):
	(MoveFocus):
	(refresh_focus):
	more GFPR work
	(DoSetFocus):
	(__set_focus_to_fwin):
	function renamed

	* fvwm/conditional.c (MatchesConditionMask):
	* fvwm/focus.c (focus_query_open_grab_focus):
	(focus_query_close_restore_focus):
	(focus_does_accept_input_focus):
	(MoveFocus):
	* fvwm/events.c (HandleUnmapNotify):
	(HandleEnterNotify):
	(HandleMapNotify):
	(HandleMapRequestKeepRaised):
	renamed some functions

	* libs/defaults.h:
	* fvwm/focus_policy.c:
	* fvwm/focus_policy.h:
	prepared some future focus policy flags

	* configure.in:
	enable error message when png or xpm test compilation fails

	* fvwm/style.h:
	* fvwm/window_flags.h:
	* fvwm/ewmh.c (ewmh_HandleDesktop):
	* fvwm/style.c (parse_and_set_window_style):
	(check_window_style_change):
	* fvwm/events.c (HandleButtonPress):
	(HandleVisibilityNotify):
	began GFPR migration of *raises* focus policy flags

	* fvwm/focus.c (focus_is_focusd):
	new function

	* libs/Bindings.c (AddBinding):
	fixed handling of "unknown" modifiers in key bindings

	* fvwm/focus.c (focus_grab_buttons):
	(focus_query_grab_buttons):
	moved focus policy code into separate function

2002-08-02  Mikhael Goikhman  <migo@homemail.com>

	* Makefile.am:
	DESTDIR fix

2002-08-01  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/style.c (parse_and_set_window_style):
	* fvwm/focus.c (focus_query_grab_focus):
	* fvwm/events.c (HandleMapNotify):
	(HandlePropertyNotify):
	* fvwm/focus_policy.c (fpol_init_default_fp):
	* libs/defaults.h:
	new styles OverrideGrabFocus and AllowGrabFocus
	cleaned up focus grabbing code and moved to focus.c

2002-07-30  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (CMD_WarpToWindow):
	fixed negative arguments for unmanaged windows

	* fvwm/conditional.c (CMD_Direction):
	use PeekToken instead of GetNextToken
	cleaned up
	new direction "center"

2002-07-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (addkbsubinstoarray):
	disabled experimental pointer warping code

	* fvwm/menus.c:
	removed menu crash debug code

2002-07-26  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c:
	added tons of crash debug code

	* fvwm/add_window.c:
	made a lot of internal functions static

	* fvwm/add_window.c (setup_button_windows):
	(destroy_title_window):
	(destroy_button_windows):
	(destroy_resize_handle_windows):
	(destroy_auxiliary_windows):
	(destroy_icon):
	(destroy_window):
	* fvwm/icons.c (CreateIconWindow):
	safety patches w/ XDeleteContext

	* fvwm/menus.c (DestroyMenu):
	fixed a crash w/ accessing already deleted menus

2002-07-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (get_menu_options):
	fixed menu context rectangle "icon" if the icon was not just a pixmap

2002-07-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleMapNotify):
	(HandleMapRequestKeepRaised):
	(HandleUnmapNotify):
	* fvwm/ewmh_events.c (ewmh_WMStateModal):
	* fvwm/ewmh.c (ewmh_HandleDesktop):
	* fvwm/style.c (parse_and_set_window_style):
	removed old do_grab_focus_when_created and *_when_transient_* flags

2002-07-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/conditional.c (MatchesConditionMask):
	* fvwm/focus.c (DoSetFocus):
	* fvwm/session.c (MatchWinToSM):
	* fvwm/module_interface.c (SETOLDFLAGS):
	removed old is_lenient flag

	* fvwm/bindings.c:
	* fvwm/style.c (__simplify_style_list):
	(simplify_style_list):
	reformatted

	* fvwm/window_flags.h:
	* fvwm/style.h:
	access macros for focus policy flags structures
	reformatted

	* fvwm/focus_policy.c:
	* fvwm/focus_policy.h:
	new files, begin great focus policy rewrite aka GFPR

2002-07-22  Bob Woodside  <dumbledore@woodsway.com>

	* fvwm/placement.c (PlaceWindow):
	Fixed interaction between CascadePlacement and StartsOnPage

2002-07-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/fvwmsignal.c (fvwmSelect):
	call alloca(0) in fvwmSelect to make sure the memory is not leaked in
	modules

2002-07-21  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (CaptureOneWindow):
	fixed a core dump w/ windows being destroyed during a recapture
	(AddWindow):
	removed duplicate check if new windows still exist

	* fvwm/placement.c (CMD_PlaceAgain):
	* fvwm/move_resize.c (move_window_doit):
	(__move_icon):
	* fvwm/virtual.c (MapDesk):
	(MoveViewport):
	(do_move_window_to_desk):
	* fvwm/icons.c (AutoPlaceIcon):
	(ChangeIconPixmap):
	(Iconify):
	some cleanup in movement code
	new option "Icon" to PlaceAgain command
	adapted documentation accordingly

	* fvwm/move_resize.c (move_window_doit):
	(__move_window):
	renamed function

2002-07-20  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Flocale.c (FlocaleRotateDrawString):
	create gcs only once

	* fvwm/fvwm.1:
	removed some references to Recapture
	UseDecor, UseStyle, AddToDecor, ChangeDecor, DestroyDecor, UpdateDecor,
	ButtonStyle, BorderStyle and TitleStyle are planned to be removed in 3.0

	* libs/gravity.c (gravity_parse_multi_dir_argument):
	fixed "all" multidir selecting "center" too

	* libs/Fft.c (FftDrawString):
	* libs/Flocale.c (FlocaleRotateDrawString):
	(FlocaleFontStructDrawString):
	(FlocaleDrawString):
	fixed some text placement bugs w/ shadow text
	(FlocaleGetShadowTextPosition):
	implemented "center" shadows

2002-07-20  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FlocaleRotateDrawString):
	Removed some static declarations

2002-07-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/gravity.c (gravity_multi_dir_to_dir):
	* libs/gravity.h (enum):
	new function, cleaned up
	(enum):
	* fvwm/fvwm.h (FvwmWindow):
	* libs/Fft.c:
	* fvwm/geometry.c:
	* fvwm/borders.c:
	moved text_rotation_type to gravity.h and renamed to rotation_type

	* libs/Flocale.h:
	fixed several bugs in the access macros

	* libs/Flocale.c:
	removed unused static FlocaleSeted
	(FlocaleFontStructDrawString):
	simplified function

	* fvwm/virtual.c (CMD_EdgeCommand):
	* fvwm/windowshade.c (CMD_WindowShade):
	* fvwm/conditional.c (CMD_Direction):
	adapted to changes in ParseDirectionArgument

	* libs/gravity.h:
	* libs/gravity.c (ParseDirectionArgument):
	new direction "Center"

	* fvwm/virtual.c (CMD_EdgeCommand):
	reformatted

2002-07-18  olicha  <olivier.chapuis@free.fr>

	* libs/PictureUtils.c (PictureRGBtoPixel):
	(decompose_mask):
	Fixed(??) color allocation for some visuals

2002-07-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Flocale.c (FlocaleFontStructDrawString):
	a little code cleanup

	* fvwm/events.c (HandleEnterNotify):
	removed debug code
	anothe click+drag fix

	* libs/Pointer.c (GetLocationFromEventOrQuery):
	* fvwm/focus.c (SetPointerEventPosition):
	* fvwm/functions.c (CheckActionType):
	* fvwm/builtins.c (CMD_StrokeFunc):
	* fvwm/move_resize.c (moveLoop):
	(resize_window):
	fixed some bugs w/ pointer on wrong screen

2002-07-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleLeaveNotify):
	fixed problem w/ click+drag and mousey focus

	* fvwm/menus.c (size_menu_horizontally):
	fixed menu style SubmenusLeft w/ icons in menu items

2002-07-14  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/menus.h:
	* fvwm/menus.c (paint_menu_gradient_background):
	(get_menu_paint_item_parameters):
	removed circular dependency of menus.c and menuitem.c by using callback
	functions

2002-07-17  olicha  <olivier.chapuis@free.fr>

	* fvwm/menuitem.c:
	A -Wall fix

	* fvwm/fvwm.c (InitVariables):
	(main):
	* fvwm/colorset.c (parse_colorset):
	(alloc_colorset):
	(CMD_ReadWriteColors):
	* fvwm/builtins.c (CMD_ColorLimit):
	* libs/PictureUtils.h:
	* libs/PictureUtils.c (PictureReduceColor):
	(PictureReduceRGBColor):
	(PictureRGBtoPixel):
	(PictureAllocColor):
	(PictureFreeColors):
	(PictureGetNextColor):
	(colors_alloc_fail):
	(my_alloc_color):
	(AllocColors*):
	(AllocColorTable):
	(PictureAllocColorTable):
	* libs/PictureImageLoader.c (PImageXpmAllocColor):
	(PImageXpmFreeColor):
	(PImageLoadXpm):
	* libs/PictureBase.c (PictureInitCMap):
	* libs/Graphics.c (AllocLinearGradient):
	* libs/ColorUtils.c (GetShadow):
	(GetHilite):
	(GetForeShadow):
	(GetTintedPixel):
	(GetSimpleColor):
	(GetColor):
	(fvwmlib_clone_color):
	* libs/PictureGraphics.c (PGraphicsTintRectangle):
	Implemented a new color limit method

2002-07-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (moveLoop):
	fixed problem moving the pointer off screen while moving a window
	(AnimatedMoveAnyWindow):
	fixed pointer warping w/ multiple screens and animated window motion

2002-07-12  olicha  <olivier.chapuis@free.fr>

	* fvwm/menus.c (get_menu_paint_item_parameters):
	(paint_menu_gradient_background):
	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/menuitem.h:
	* fvwm/menus.h:
	Fixed B/DGradient with Xft fonts

	* libs/Colorset.h:
	* libs/ColorUtils.c (GetTintedColor):
	(GetTintedPixel):
	* fvwm/colorset.c (parse_simple_tint):
	(parse_colorset):
	(alloc_colorset):
	Implemented fgTint colorset option

	* libs/PictureImageLoader.c:
	* libs/PictureUtils.c:
	* libs/PictureUtils.h:
	* libs/Makefile.am:
	Moved color limitation and some rgb to pixel functions from
	PictureImageLoader to new files PictureUtils.c, PictureUtils.h

	* fvwm/colorset.c (parse_colorset):
	* libs/PictureGraphics.c (PCreateTintedPixmap):
	(PGraphicsTintRectangle):
	Implemented tinting for X server without Xrender support and
	did color limitation when tinting


2002-07-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (WaitForButtonsUp):
	fixed handling of button release events

2002-07-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (MenuInteraction):
	fixed core dump w/ dynamic popdown action destroying a menu
	(paint_menu_gradient_background):
	fixed hang and/or incorrect drawing of b and d gradients in menus

	* fvwm/events.c (HandleEnterNotify):
	(HandleLeaveNotify):
	improved LEAVE_WINDOW/ENTER_WINDOW handling

2002-07-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Colorset.c (SetWindowBackground):
	(SetWindowBackgroundWithOffset):
	(ScrollPixmap):
	implemented new functions to allow pixmap backgrounds with an offset

2002-07-07  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleMapRequestKeepRaised):
	send Map/UnmapNotify before iconyfying, not after

2002-07-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleMapRequestKeepRaised):
	fake a MapNotify and then an UnmapNotify when a window is created iconic

	* fvwm/add_window.c (AddWindow):
	workaround for buggy TK menu positioning

	* fvwm/module_interface.c (FlushMessageQueue):
	(PositiveWrite):
	(get_pipe_name):
	tried to fix module communication deadlock w/ sync mask and a full write
	pipe

	* libs/Strings.c:
	re-indented file

	* libs/defaults.h:
2002-07-06  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FlocaleGetFontSet):
	Removed some unwanted code

2002-07-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleLeaveNotify):
	(HandleEnterNotify):
	reduced the number of MX_LEAVE/ENTER_WINDOW messages

	* fvwm/events.c (CMD_XSync):
	very experimental patch to cycle through subwindows accepting keyboard
	input; call Xsync command repeatedly to test; crashes fvwm if more than
	1000 subwindows are used;

	* fvwm/focus.c (CMD_WarpToWindow):
	fixed a bug in warpttowindow command with subwindows of unmanaged
	windows

2002-07-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/events.h:
	handle changes in the size_inc and base_size hints during opaque
	resizing.

	* fvwm/events.c (HandleButtonPress):
	ClickToFocus + ClickToFocusPassesClickOff now blocks event handling
	until the button is released again; this restores the old behaviour
	from 2.3.23 and before with click+drag and rxvt/aterm

2002-06-30  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/update.c (apply_window_updates):
	fixed applying neverfocus to currently focused window; decorations
	partially drawn hilighted

2002-07-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menucmd.c (menu_func):
	another module/menu/context window fix
	do not use global Fw anymore

2002-07-05  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FlocaleStringToString2b):
	Fixed crash with big5-0 FontStruct

2002-07-04  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menucmd.c (menu_func):
	fixed context window of menus invoked by a module
	(menu_func):
	fixed context menus on windows

	* libs/vpacket.h (ConfigWinPacket):
	* fvwm/module_interface.c (CONFIGARGSNEW):
	* fvwm/fvwm.h (FvwmWindow):
	fixed bugs in type conversions for transmitting certain information to
	modules

	* fvwm/functions.c (CheckActionType):
	fixed window selection problem w/ menus invoked from modules

2002-07-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/gnome.c (GNOME_HandlePropRequest):
	-Wall fixes

	* fvwm/module_interface.c (ExecuteCommandQueue):
	fixed compile bug w/ --enable-debug-msgs

2002-06-30  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleButtonPress):
	(HandleKeyPress):
	* fvwm/menus.c (MenuInteraction):
	(do_menu):
	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/menucmd.c (menu_func):
	* fvwm/module_interface.c (ExecuteModuleCommand):
	* fvwm/add_window.c (adjust_fvwm_internal_windows):
	go away, evil globals! [removed the useless global variable
	"ButtonWindow"]

	* fvwm/events.c (HandleUnmapNotify):
	(HandleMapNotify):
	* fvwm/icons.c (Iconify):
	* fvwm/window_flags.h (IS_ICONIFY_PENDING):
	* fvwm/fvwm.h (struct):
	renamed is_deiconify_pending to is_iconify_pending
	some re-indenting

2002-06-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (MenuInteraction):
	(pop_menu_down):
	(menu_enter_tear_off_menu):
	(do_menu):
	* fvwm/events.c (HandleButtonPress):
	(HandleButtonRelease):
	(HandleKeyPress):
	(GetContext):
	* fvwm/menucmd.c (menu_func):
	(menu_func):
	* fvwm/module_interface.c (ExecuteModuleCommand):
	go away, evil globals! [removed the useless global variable "Context"]
	removed is_menu_from_frame_or_window_or_titlebar flag

	* fvwm/module_interface.c:
	* fvwm/windowlist.c:
	re-indented files

2002-06-28  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/menuitem.c (menuitem_paint):
	fixed fg color of the inactive disabled menu item

	* NEWS:
	old typo
	* fvwm/fvwm.1:
	removed a mention of RedHat (I don't think it is correct),
	reworded a mention of fvwm95

2002-06-26  Mikhael Goikhman  <migo@homemail.com>

	* **/*.c:
	tabify only the leading spaces, untabify the middle of line

2002-06-25  David Fries  <dfries@mail.win.org>

	* fvwm/fvwm.1:
	* fvwm/windowlist.c:
	Added code to sort based on the class name of a window for
	the WindowList function.

2002-06-25  olicha  <olivier.chapuis@free.fr>

	* acinclude.m4:
	A minor fix

2002-06-25  Mikhael Goikhman  <migo@homemail.com>

	* AUTHORS:
	add Anders Andersson (spelling fixes in all man pages) and Steve Talley

2002-06-24  Steve Talley  <stephen.talley@sun.com>

	* fvwm/add_window.c:
	* fvwm/add_window.h:
	* fvwm/fvwm.1:
	* fvwm/fvwm.h:
	* fvwm/icons.c:
	* fvwm/icons.h:
	* fvwm/style.c:
	* fvwm/style.h:
	* libs/defaults.h:
	New Style option IconSize

2002-06-24  Mikhael Goikhman  <migo@homemail.com>

	* NEWS, configure.in:
	changed version to 2.5.3

2002-06-24  Mikhael Goikhman  <migo@homemail.com>

	* INSTALL.fvwm:
	removed C++ section

	* fvwm/fvwm.1:
	* libs/FlocaleCharset.c:
	small fixes

2002-06-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (WaitForButtonsUp):
	use the wait cursot only after the 20th pass through the loop

2002-06-21  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1 (Examples): Language check.
	PipeRead as synchronous Exec.
	Better example for PipeRead.

2002-06-21  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.1:
	* NEWS:
	Documented StringEncoding= in font name

	* INSTALL.fvwm
	Removed --disable-compound-text doc

2002-06-20  olicha  <olivier.chapuis@free.fr>

	* libs/FBidi.h (FBidiConvert):
	Fixed compile if !HAVE_BIDI

2002-06-19  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.c (InitVariables):
	(StartupStuff):
	Allocate colorset 0 in InitVariable in the place of StartupStuff.
	This fix a "null expression" at init in menustyle.c (menustyle_update)

2002-06-19  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	reworded supported feature listing, fixed the default xft detection
	* INSTALL.fvwm:
	added the "Supported Features" section

2002-06-19  olicha  <olivier.chapuis@free.fr>

	* fvwm/colorset.h:
	Removed not useful #define/#undef FVWM_COLORSET_PRIVATE

	* INSTALL.fvwm:
	Removed --enable-mulibyte and --disable-compound-text config option
	documentation. s/enable-xft/disable-xft/ and document --disable-xrender

	* configure.in:
	Xft is on by default no

	* libs/FlocaleCharset.c (*):
	* libs/FlocaleCharset.h:
	* libs/Ficonv.c (*):
	* libs/Ficonv.h:
	* libs/Flocale.c (*):
	* libs/Flocale.h:
	* libs/Fft.c (*):
	* libs/FftInterface.h:
	* libs/FBidi.c:
	* libs/FBidi.h:
	* fvwm/ewmh_names.c ():
	Some cleanup. Implemented StringEncoding= in font names. Fixed
	string encoding for xft fonts. Try to be more cleaver about defaults
	charsets. Improvement in the locale charset table.

	* fvwm/fvwm.1:
	Some documentation cleanup regarding Xft

2002-06-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/functions.c (find_func_type):
	fixed bug i introduced w/ last commit

	* fvwm/fvwm.c (Done):
	(StartupStuff):
	* fvwm/functions.c (functions_is_complex_function):
	* fvwm/builtins.c (CMD_DestroyFunc):
	(CMD_AddToFunc):
	(CMD_Plus):
	moved functions to functions.c
	general cleanup

	* fvwm/functable.c:
	* fvwm/functable.h:
	* fvwm/functions.h:
	* fvwm/commands.h:
	* fvwm/functions.c:
	moved some types and functions to other/new files

	* fvwm/functions.c:
	* fvwm/expand.c (expand_vars_extended):
	(expand_vars):
	functions moved to new file

	* fvwm/functions.c:
	reindented file

2002-06-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (CoerceEnterNotifyOnCurrentWindow):
	fixed colorurmap focus problem

	* **/*.[ch]:
	tabified all files and removed all trailing spaces

	* fvwm/move_resize.c (move_window_doit):
	* fvwm/virtual.c (CMD_MoveToDesk):
	MoveToPage and MoveToDesk no longer unstick windows

2002-06-17  Mikhael Goikhman  <migo@homemail.com>

	* INSTALL.fvwm:
	small improvements

	* configure.in:
	reworded some names of supported features

2002-06-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/update.c (apply_window_updates):
	* fvwm/session.c (MatchWinToSM):
	* fvwm/add_window.c (setup_window_structure):
	* fvwm/windowshade.c (CMD_WindowShade):
	* fvwm/window_flags.h:
	fixed a problem w/ shaded windows changind the title direction

	* fvwm/geometry.c (get_shaded_geometry):
	fixed shading window to 0 width or height

	* fvwm/add_window.c (AddWindow):
	fixed a memory leak and an initial window placement bug

2002-06-15  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	minor improvements in output, added bin/fvwm-perllib

2002-06-12  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/menustyle.c (CMD_CopyMenuStyle):
	fixed copying PopupOffset values in CopyMenuStyle

	* NEWS:
	Copied 2.4.8 NEWS

2002-06-10  Mikhael Goikhman  <migo@homemail.com>

	* libs/Strings.c:
	* libs/Strings.h:
	added CopyStringWithQuotes, not perfect, but works for now

2002-06-08  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/functions.h:
	* fvwm/commands.h:
	* fvwm/functions.c (func_config):
	* libs/FScreen.c (FScreenConfigureSLSScreens):
	(FScreenConfigureModule):
	* fvwm/virtual.c (CMD_XineramaSlsScreens):
	new command XineramaSLSScreens

	* libs/FScreen.c:
	cleaned up Xinerama ifdefs

2002-06-07  Dan Espen  <dane@mk.telcordia.com>

	* NEWS:
	* fvwm/fvwm.1 (FONT SHADOW EFFECTS): Reword.

2002-06-07  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.h:
	* libs/Flocale.c (FlocaleGetShadowTextPosition):
	Some shadow text position fixes

2002-06-06  olicha  <olivier.chapuis@free.fr>

	* fvwm/update.c (apply_window_updates):
	Fixed the position of shaded windows after certain style update

	* acinclude.m4:
	Fixed some options names

2002-06-06  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/module_interface.c (CMD_SendToModule):
	fixed SendToModule when the first parameter contains quotes

2002-06-06  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.c (main):
	* fvwm/ewmh.c (EWMH_Init):
	Init the EWMH before reading the config. Always setup the working
	area.

2002-06-05  olicha  <olivier.chapuis@free.fr>

	* fvwm/update.c (apply_window_updates):
	Fixed the position of a shaded window during a style update
	(do_redecorate)

	* libs/Flocale.c (FlocaleRotateDrawString):
	(FlocaleGetShadowTextPosition):
	Fixed side title text position if the font has no shadow

	* acconfig.h:
	* libs/Ficonv.c (FiconvInit):
	* libs/FlocaleCharset.c (FlocaleInit_X_Charset):
	* libs/Flocale.c (FlocaleInit):
	(FlocaleRotateDrawString):
	(FlocaleGetFontSet):
	(FlocaleGetFontOrFontSet):
	(FlocaleLoadFont):
	(FlocaleDrawString):
	(FlocaleTextWidth):
	(FlocaleFreeNameProperty):
	(FlocaleGetNameProperty):
	(FlocaleTextListToTextProperty):
	Finish to remove the multibyte patch. This gives a more clean code
	and can only prevent bugs

2002-06-05  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/placement.c (PlaceWindow):
	fixed CascadePlacement with huge windows (xterm -g 240x100),
	that were aligned to bottom-right instead of top-left;
	small adjustments (removed border_width from calculations,
	don't place normal windows at 0, commented out some strange code)

2002-06-04  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	document CascadePlacement and FvwmIconMan improvements

	* fvwm/fvwm.1:
	typo

2002-06-03  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/add_window.c (adjust_fvwm_internal_windows):
	* fvwm/fvwm.c (InitVariables):
	* fvwm/placement.c (PlaceWindow):
	* fvwm/screen.h (struct ScreenInfo):
	improved *CascadePlacement, if the last placed window does not exist
	any more, reuse the last used position instead of adding a new cascade

2002-06-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleEnterNotify):
	* fvwm/fvwm.c (InitVariables):
	* fvwm/events.h:
	Fixed colormap handling over decorative parts of a window

2002-06-03  olicha  <olivier.chapuis@free.fr>

	* fvwm/module_interface.c (make_named_packet):
	Fixed an write out of memory bug. This complete Mikhail Kruk patch
	related to named module packet

2002-06-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (focus_grab_buttons):
	* fvwm/events.c (HandleButtonPress):
	fixed a problem w/ ClickToFocus + ClickToFocusRaisesOff

2002-06-03  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/bindings.c (ParseBinding):
	replaced an error "Illegal mouse button" with a descriptive warning
	when a button number is greater than NUMBER_OF_MOUSE_BUTTONS

2002-05-31  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (GetContext):
	fixed key bindings on decorations

	* fvwm/events.h:
	removed XEVMASK_DECORW

2002-05-31  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	* fvwm/fvwm.1:
	Documented shadow effect in a new section FONT EFFECTS

2002-05-31  olicha  <olivier.chapuis@free.fr>

	* libs/Fft.c (FftDrawString):
	* libs/Colorset.c (DumpColorset):
	(LoadColorset):
	* libs/Colorset.h:
	* fvwm/colorset.c (parse_colorset):
	New colorset option fg_alpha which defines an alpha for rendering
	text with Xft

2002-05-29  olicha  <olivier.chapuis@free.fr>

	* libs/Fft.c (FftSetupEncoding):
	* libs/Fft.h:
	* libs/FRender.h:
	Added Xft2 support

	* acinclude.m4:
	* configure.in:
	Added detection for fontconfig and Xft2. Added FT2 CFLAGS and LIBS
	to Xft FLAGS and LIBS

	* fvwm/Makefile.am:
	* libs/Makefile.am:
	Put $(Xft_CFLAGS) before $(X_CFLAGS) to be able to use an independent
	Xft2 library. Removed FT2 CFLAGS and LIBS

2002-05-27  olicha  <olivier.chapuis@free.fr>

	* acinclude.m4:
	* acconfig.h:
	* configure.in:
	Some Xft2 and fontconfig preparation

	* libs/Flocale.h:
	* libs/Flocale.c (FlocaleParseShadow):
	(FlocaleLoadFont):
	(FlocaleGetShadowTextPosition):
	Added offset to shadow text

	* libs/Flocale.h:
	Fixed the position of ne shadow text and remove some unused #define

2002-05-27  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/colorset.c (parse_colorset):
	fixed integer overflow in average colour calculation

2002-05-27  olicha  <olivier.chapuis@free.fr>

	* libs/gravity.c (GetNextMultiDirection):
	(ParseMultiDirectionArgument):
	* libs/gravity.h:
	Added a multi direction type which is a "<<" version of direction
	type. Added a parse and a next functions

	* libs/Flocale.h:
	* libs/Flocale.c (FlocaleParseShadow):
	(FlocaleGetNextShadowDirection):
	(FlocaleGetShadowTextPosition):
	Used gravity multi direction type and functions. Removed
	FlocaleGetNextShadowDirection

2002-05-27  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (restore_focus_after_unmap):
	fixed a problem w/ colormap transition when transient window died

	* fvwm/add_window.c (AddWindow):
	clean up

	* fvwm/session.c (getUniqueStateFilename):
	applied security patch by Jan Echternach

	* fvwm/fvwm.c (InitVariables):
	Properly initialise Scr.flags.is_pointer_on_this_screen

	* libs/fvwmlib.h (FvwmFont):
	* fvwm/fvwm.c (setVersionInfo):
	* configure.in:
	* config.h.in:
	* acconfig.h (MULTIBYTE):
	removed MULTIBYTE option (unconditionally on)

2002-05-26  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/gravity.c (ParseDirectionArgument):
	allow "t", "u", ... shortcuts as direction arguments

	* fvwm/style.c (check_window_style_change):
	(parse_and_set_window_style):
	* fvwm/frame.c (frame_setup_border):
	(frame_get_shading_laziness):
	(frame_get_sidebar_geometry):
	* fvwm/decorations.c (SelectDecor):
	* fvwm/add_window.c (setup_style_and_decor):
	(setup_resize_handle_cursors):
	(setup_resize_handle_windows):
	(change_resize_handle_windows):
	(destroy_auxiliary_windows):
	* fvwm/borders.c (border_get_border_gcs):
	(border_draw_border_parts):
	* fvwm/style.h (SCSET_HAS_BORDER):
	* fvwm/fvwm.h (FvwmWindow):
	* fvwm/window_flags.h (SET_HAS_BORDER):
	new styles NoBorder/Border

2002-05-26  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.h:
	* libs/Flocale.c (FlocaleParseShadow):
	(FlocaleGetNextShadowDirection):
	(FlocaleGetShadowTextPosition):
	(FlocaleLoadFont):
	Implemented multidirectional shadow text rendering

	* libs/Flocale.h:
	* libs/Flocale.c
	(FlocaleFontStructDrawString):
	(FlocaleRotateDrawString):
	(FlocaleLoadFont):
	(FlocaleDrawString):
	(FlocaleTextWidth):
	* libs/FlocaleCharset.c (FlocaleCharsetSetFlocaleCharset):
	* libs/Fft.c (FftDrawString):
	Cleanup the FlocaleFont structure by addings some flags

2002-05-26  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleFocusIn):
	* fvwm/add_window.c (adjust_fvwm_internal_windows):
	* fvwm/screen.h (ScreenInfo):
	* fvwm/focus.c (FocusOn):
	ignore EnterNotify events while a window is waiting to receive focus
	from the Focus or FlipFocus commands; should prevent plenty of race
	contidions caused by executing complex functions by a key press, button
	press or from a menu; fixes Alt-Tab problem

	* fvwm/events.c (HandleMapNotify):
	immediately draw window decorations when window is mapped; the new frame
	drawing code takes care of suppressing unnecessary redraws
	(HandleLeaveNotify):
	fixed a bug w/ LeaveNotify event with NotifyGrab

2002-05-22  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.h:
	* libs/Fft.c (FftDrawString):
	* libs/Flocale.c (FlocaleFontStructDrawString):
	(FlocaleRotateDrawString):
	(FlocaleLoadFont):
	(FlocaleGetShadowTextPosition):
	(FlocaleDrawString):
	(FlocaleDrawUnderline):
	(FlocaleTextWidth):
	Implemented negative shadow text

2002-05-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menucmd.c (CMD_AddToMenu):
	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/menus.h:
	* fvwm/menus.c
	changed signature of AddToMenu

	* fvwm/menus.c (clone_menu_root_static):
	fixed problem w/ menu style usage count and tear off menus
	fixed core dump w/ not copying the missing sub menu function in tear
	off menus
	(clone_menu_item_list):
	(AddToMenu):
	(add_another_menu_item):
	(size_menu_vertically):
	fixed additional "More..." items in sub menus of torn off menus

2002-05-22  Mikhael Goikhman  <migo@homemail.com>

	* libs/colorset.h:
	fixed #endif warning
	* fvwm/ConfigFvwmDefaults:
	added CirculateSkip to tear off menus
	* fvwm.1:
	fixed ShadeAgain quoting

2002-05-21  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleButtonPress):
	allow to pass the focus click to applications and have a function bound
	to it at the same time

	* fvwm/fvwm.c:
	* fvwm/colorset.h:
	fixed compilation problem

2002-05-20  olicha  <olivier.chapuis@free.fr>

	* libs/PictureImageLoader.c (PImageRGBtoPixel):
	Fixed blue colour in png image and ewmh icons

	* libs/Flocale.c (FlocaleLoadFont):
	Removed some debug code

	* fvwm/colorset.c (parse_colorset):
	* libs/fvwmlib.h:
	* libs/ColorUtils.c (GetForeShadowColor):
	Added Mikhael algo to compute the default fgsh

2002-05-18  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/functions.c (expand_extended_var):
	expand $[fgsh.csN], use constants instead of numbers

2002-05-17  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FlocaleDrawString):
	(FlocaleDrawUnderline):
	* libs/Flocale.h:
	Removed some unused and debug code

2002-05-17  olicha  <olivier.chapuis@free.fr>

	* fvwm/menuitem.c (draw_underline):
	* libs/Flocale.h:
	* libs/Flocale.c (FlocaleDrawUnderline):
	Move draw_underline into Flocale.c and fix underline position with
	shadow rendering

2002-05-17  olicha  <olivier.chapuis@free.fr>

	* fvwm/style.c (update_window_color_style):
	(update_window_color_hi_style):
	* fvwm/move_resize.c (DisplayPosition):
	(DisplaySize):
	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/borders.c (get_common_decorations):
	(border_get_titlebar_draw_descr):
	* fvwm/fvwm.h:
	* fvwm/icons.c (DrawIconWindow):
	Pass the colorset to text drawing via the FlocaleWinString structure

	* libs/fvwmlib.h:
	* libs/ColorUtils.c (GetForeShadowColor):
	(GetForeShadow):
	* fvwm/colorset.c (parse_colorset):
	* libs/Colorset.h:
	* libs/Colorset.c (DumpColorset):
	(LoadColorset):
	Added fgsh colorset and two new functions GetForeShadowColor and
	GetForeShadow which should be modified

	* libs/Makefile.am:
	* libs/Fft.h:
	* libs/FftInterface.h (new file):
	* libs/Fft.c (FftDrawString):
	* libs/Flocale.h:
	* libs/Flocale.c (FlocaleFontStructDrawString):
	(FlocaleRotateDrawString):
	(FlocaleDrawString):
	(FlocaleTextWidth):
	(FlocaleLoadFont):
	Implemented text shadow rendering

2002-05-11  olicha  <olivier.chapuis@free.fr>

	* fvwm/builtins.h:
	* fvwm/builtins.c (refresh_window):
	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h:
	* fvwm/style.c (check_window_style_change):
	ParentalRelativity style is now dynamic

2002-05-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menuitem.c (menuitem_paint):
	fixed menu item hilight area

2002-05-09  olicha  <olivier.chapuis@free.fr>

	* libs/Makefile.am:
	* libs/XError.c (request_name):
	* libs/PictureImageLoader.c (PImageLoadPng):
	(PImageCreatePixmapFromArgbData):
	* libs/PictureGraphics.c (PGraphicsTintRectangle):
	(PGraphicsTileRectangle):
	(PGraphicsCopyFvwmPicture):
	* libs/FRenderInit.c (new file):
	* libs/FRenderInit.h (new file):
	* libs/FRenderInterface.h:
	* libs/FRender.c (*):
	* fvwm/colorset.c (parse_tint):
	(parse_colorset):
	* fvwm/fvwm.c (main):
	* fvwm/events.c (HandlePropertyNotify):
	Change the design of the previous commit. Now a module should call
	FRenderInit when it wants to use a function which depends on XRender.

2002-05-09  olicha  <olivier.chapuis@free.fr>

	* fvwm/colorset.c:
	A -Wall fix

	* libs/Flocale.h:
	* libs/Fft.h:
	Fixed Compilation
	Include Fft.h include FRender.h as Xft.h include Xrender.h

	* libs/FRenderInterface.h:
	* libs/FRender.h:
	* libs/FRender.c (FRenderInit):
	(FRenderGetErrorCodeBase):
	(FRenderGetMajorOpCode):
	(FRenderGetExtensionSupported):
	(FRenderGetErrorText):
	Improve XRender initialization, check if the XRender extension is
	enabled and get the error code base and the major op code.
	Add error functions for the X error handler.

	* libs/XError.c (PrintXErrorAndCoredump):
	(request_name):
	Really enable USE_GET_ERROR_TEXT and take in account XRender error code
	and major op code

	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/colorset.c (parse_tint):
	(parse_colorset):
	* libs/PictureImageLoader.c (PImageLoadPng):
	(PImageCreatePixmapFromArgbData):
	* libs/PictureGraphics.c (PGraphicsCopyPixmaps):
	(PGraphicsCopyFvwmPicture):
	(PGraphicsTileRectangle):
	* libs/FRender.c (FRenderCopyArea):
	(FRenderTintRectangle):
	Check if the XRender extension is enabled on the display before
	performing XRender operations

2002-05-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menuitem.c (menuitem_paint):
	fixed item hilighting problems

2002-05-07  olicha  <olivier.chapuis@free.fr>

	* fvwm/colorset.c (parse_colorset):
	More coloset fixes

2002-05-07  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandlePropertyNotify):
	workaround for xterm resize problem

	* fvwm/colorset.c (parse_colorset):
	(free_colorset_background):
	(parse_pixmap):
	(parse_tint):
	fixed various bugs and core dumps w/ the cs->picture structure;
	note: it's a pointer, so compare with NULL, not with None

	* fvwm/frame.c (frame_setup_window):
	(frame_setup_window_app_request):
	(frame_force_setup_window):
	(frame_setup_window_internal):
	(frame_create_move_resize_args):
	(frame_free_move_resize_args):
	* fvwm/add_window.c (setup_window_attr):
	* fvwm/events.c (HandleConfigureRequest):
	(HandlePropertyNotify):
	fixed [?] bit_gravity/resize problem

	* fvwm/events.c (HandleEnterNotify):
	reformatted EdgeCommand code

2002-05-06  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	Resize an ewmh icon to the wanted size if it is to big

	* fvwm/ewmh.c (EWMH_WindowDestroyed):
	Set also the stacking list when a window is destroyed

2002-05-03  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1: Finish language check.
	Fix typo in Mouse section, context should be on new line.

2002-05-02  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm.1 (file): Restore icons and images text with some
	improvement.
	Started on lang check, not done yet.

2002-05-02  Mikhail Kruk  <meshko@cs.brandeis.edu>

	* fvwm/module_interface.c (make_named_packet):
	Applied Mikhail Kruk patch

2002-05-02  olicha  <olivier.chapuis@free.fr>

	* libs/FlocaleCharset.h:
	* libs/Ficonv.c (FiconvSetupConversion):
	* libs/FlocaleCharset.c (FlocaleCharsetSetFlocaleCharset):
	* libs/Flocale.h:
	* libs/Flocale.c (FlocaleGetFftFont):
	(FlocaleGetFontSet):
	(FlocaleGetFont):
	(FlocaleLoadFont):
	(FlocaleUnloadFont):
	* fvwm/fvwm.1:
	Implemented charset/iconv hints in font name

2002-04-29  Stian Sletner  <stian@sletner.com>

	* fvwm/windowlist.c (CMD_WindowList):
	Added new Windowlist option IconifiedAtEnd

2002-04-30  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/module_interface.c:
	* libs/Module.c:
	* libs/Module.h:
	moved two constant strings to Module.h, so they may be used by perllib

2002-04-29  olicha  <olivier.chapuis@free.fr>

	* libs/FlocaleCharset.c (FlocaleCharsetSetFlocaleCharset):
	Fixed a core dump if the charset is not found

	* libs/Flocale.c (FlocaleStringToString2b):
	Removed some debug code

2002-04-29  olicha  <olivier.chapuis@free.fr>

	* libs/Fft.c (FftGetFontWidths):
	(FftGetFontWidths):
	* libs/Fft.h
	* libs/Flocale.h:
	* libs/Flocale.c (FlocaleGetFont):
	(FlocaleGetFontSet):
	(FlocaleGetFftFont):
	Removed min_char_offset member of the FlocaleFont as it is not use
	since we rotate string for side title

	* libs/Ficonv.c (FiconvSetupConversion):
	* libs/FlocaleCharset.c (FlocaleGetBidiCharset):
	(FlocaleCharsetSetFlocaleCharset):
	* libs/Flocale.h:
	* libs/Flocale.c (FlocaleTextWidth):
	(FlocaleDrawString):
	(FlocaleUtf8ToUnicodeStr2b):
	(FlocaleLoadFont):
	(FlocaleStringToString2b):
	(FlocaleRotateDrawString):
	(FlocaleFontStructDrawString):
	Added support for drawing string with 10646-1 fonts without an utf8
	locale. Also, drawing strings with a multibyte font now work not so
	bad even if the locale have nothing to do with the font.

	* libs/Fft.c (FftUtf8ToFftString16):
	(FftDrawString):
	(FftTextWidth):
	Added utf8 rendering with iso10646-1 fonts on system without
	Xft Utf8 functions

	* fvwm/colorset.c (reset_cs_pixmap):
	(parse_pixmap):
	(parse_shape):
	(parse_tint):
	(parse_colorset):
	Colorset now accept bitmaps. Split a bit parse_colorset for readability

2002-04-28  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/menus.c:
	fixed core dump on default Alt-Tab (Alt released when mouse is outside)

2002-04-27  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/move_resize.c:
	don't start Move with snap disabled if Alt is initially pressed

2002-04-26  Mikhael Goikhman  <migo@homemail.com>

	* NEWS, configure.in:
	changed version to 2.5.2

2002-04-25  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm.1:
	improved main headers, added new COLORSETS section;
	documented State condition

	* NEWS:
	documented Tint in colorsets and utility renaming

	* libs/Flocale.c:
	corrected several error reporting problems

2002-04-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.h:
	fixed leaving tear off menus

2002-04-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/borders.c (border_draw_part_relief):
	(border_set_button_pixmap):
	(border_draw_title_stick_lines):
	(border_draw_title_mono):
	(border_draw_title_relief):
	* libs/fvwmlib.h (RelieveRectangle2):
	(RelieveRectangle):
	replaced functions by macros

	* libs/Graphics.c (do_relieve_rectangle):
	applied performance patch by Dave Trollope

2002-04-24  Mikhael Goikhman  <migo@homemail.com>

	* libs/FBidi.c:
	* libs/FBidi.h:
	* libs/Flocale.c:
	* libs/Flocale.h:
	* libs/FlocaleCharset.c:
	FBidi is now independent from Flocale* again;
	iso8859-6.8x fonts recognized now as bidi-enabled

2002-04-23  Mikhael Goikhman  <migo@homemail.com>

	* libs/Flocale.c:
	fixed --disable-multibyte

2002-04-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/borders.c (border_draw_title_deep):
	(border_set_title_pixmap):
	(border_set_button_pixmap):
	fixed SolidButton title and button style

2002-04-23  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm.1:
	* NEWS:
	* AUTHORS:
	added new entry about CurrentAtEnd

	* colorset.c:
	minor reformatting and spell checking

2002-04-23  Jochen Klenner  <jochen.klenner@gmx.net>

	* fvwm/windowlist.c (CMD_WindowList):
	Added new Windowlist option CurrentAtEnd

2002-04-22  olicha  <olivier.chapuis@free.fr>

	* fvwm/colorset.c (parse_colorset):
	* libs/Colorset.h:
	Fixed an enormous core dump which comes from a cvs merging problem

	* fvwm/Makefile.am:
	* acconfig.h:
	* configure.in:
	Added Xrender detection and link fvwm if needed

	* libs/PictureGraphics.c:
	* libs/PictureGraphics.h:
	* libs/FRender.c:
	* libs/FRender.h:
	* libs/FRenderInterface.h:
	* libs/PictureGrpahics.c (*):
	* libs/PictureGrpahics.h:
	New libs files to acheive alpha-blend rendering and better XBM
	support. PictureGraphics contains elaborated version and also
	simplified version of XFillRectangle, XCopyPlan and XCopyArea
	Xlib functions.

	* fvwm/fvwm.h:
	* fvwm/icons.c (clear_icon):
	(GetIconPicture):
	(DrawIconWindow):
	(GetIconFromFile):
	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/borders.c (border_fill_pixmap_background):
	(border_get_border_background):
	(border_draw_decor_to_pixmap):
	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/add_window.c (destroy_icon):
	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	* fvwm/geometry.c (move_icon_to_position):
	* fvwm/colorset.c (free_colorset_background):
	(parse_colorset):
	* libs/Colorset.h:
	Implemented alpha-blend rendering with the new libs function

	* fvwm/colorset.c (free_colorset_background):
	(parse_colorset):
	* libs/Colorset.h:
	Implemented tinting of a Pixmap background colorset

	* fvwm/colorset.c (parse_colorset):
	Use the Scr.NoFocusWin as main window in the place of the
	Scr.SizeWindow, this fix a lot of X errors in my machine.

	* fvwm/ewmh_icons.c (ewmh_SetWmIconFromPixmap):
	Donated our alpha channel

	* libs/vpacket.h:
	* fvwm/module_interface.h:
	* fvwm/module_interface.c (SendFvwmPicture):
	(BroadcastMiniIcon):
	(SendMiniIcon):
	(BroadcastFvwmPicture):
	(CMD_Send_WindowList):
	* fvwm/add_window.c (change_mini_icon):
	(broadcast_mini_icon):
	* fvwm/ewmh_icons.c:
	Replace BroadcastMiniIcon and SendMiniIcon by BroadcastFvwmPicture and
	SendFvwmPicture which send the alpha. Add a MiniIconPacket structure

	* libs/Makefile.am:
	* libs/PictureBase.c (*):
	* libs/PictureBase.h:
	* libs/Picture.c (*):
	* libs/Picture.h:
	* libs/PictureImageLoader.c (*):
	* libs/PictureImageLoader.h:
	* fvwm/*:
	Rename some libs file InitPicture -> PictureBase, FImageLoader ->
	PictureImageLoader.
	Rename some libs function: InitPictureCMap -> PictureInitCMap,
	UseDefaultVisual -> PictureUseDefaultVisual, UseFvwmVisual ->
	PictureUseFvwmVisual, PictureSaveFvwmVisual -> SaveFvwmVisual,
	SetImagePath -> PictureSetImagePath, findImageFile ->
	PictureFindImageFile, PictureList -> FvwmPictureList,
	LoadFvwmPicture removed now  PImageLoadFvwmPictureFromFile replace it,
	GetPicture -> PGetFvwmPicture, CachePicture -> PCacheFvwmPicture,
	DestroyPicture -> PDestroyFvwmPicture, LoadPictureFromPixmap ->
	PLoadFvwmPictureFromPixmap, CachePictureFromPixmap ->
	PCacheFvwmPictureFromPixmap, fvwm_clone_picture -> PCloneFvwmPicture.
	Also renamed more recent functions in PictureImageLoader.

	* fvwm/borders.c (border_draw_one_border_part):
	(border_draw_decor_to_pixmap):
	Fixed drawing of a TiledPixmap borded and fixed position of buttons
	pixmap

	* fvwm/menus.c (pop_menu_up):
	(animated_move_back):
	(ParentalMenuRePaint):
	* fvwm/move_resize.h (resize_geometry_window):
	* fvwm/move_resize.c (move_window_doit):
	(AnimatedMoveAnyWindow):
	(AnimatedMoveOfWindow):
	(AnimatedMoveFvwmWindow):
	Fixed transparent animated menu

2002-04-21  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm.1:
	fixed two places

2002-04-19  Hippo

	* fvwm/colorset.c:
	* libs/Colorset.c:
	fixed running out of colors on 8bpp with ReadWriteColors;
	simulate colorsets on monochrome displays using three 1-bit pixmaps

2002-04-19  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	fixed $PERL detection again

2002-04-18  Hippo

	* configure.in:
	added -Wno-implicit-int to -Wall in case of gcc

	* fvwm/colorset.c:
	* fvwm/fvwm.c:
	fixed ReadWriteColors on a PseudoColor display

2002-04-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (move_window_doit):
	set the is_icon_moved too flag if the icon was moved non-interactively

2002-04-16  Hippo

	* fvwm/*.[ch]:
	* NEWS:
	Moved FvwmTheme functionality into fvwm.
	Added new commands Colorset, ReadWriteColors, CleanupColorsets.

2002-04-17  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	fixed $PERL detection

	* fvwm/fvwm.1:
	* fvwm/ConfigFvwmDefaults:
	several fixes and spelling

2002-04-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Bindings.c (CheckBinding):
	(MatchBinding):
	(GrabWindowKey):
	(GrabWindowButton):
	(MatchBindingExactly):
	patch by yeti@physics.muni.cz to help with a weird problem w/ czech
	keyboards

2002-04-12  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	configure now uses $PERL if set

	* **:
	all programs installed into ${bindir} have now fvwm- prefix;
	documentation updated

2002-04-11  Mikhael Goikhman  <migo@homemail.com>

	* **:
	renamed fvwm2 executable to fvwm, fvwm2 man page to fvwm;
	documentation updated

2002-04-11  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	added 2.4.7 entries

2002-04-10  Dan Espen  <dane@mk.telcordia.com>

	* AUTHORS: New author.

	* NEWS: Edge Command.

2002-04-09  Uwe Pross  <uwe.pross@gmx.net>

	* fvwm/fvwm2.1:
	Added EdgeCommand paragraph.

	* fvwm/events.c (HandleEnterNotify):
	Added execution of Scr.PanFrame*.command if set

	* fvwm/fvwm.c (InitVariables):
	Added init strings for pan frame commands.

	* fvwm/virtual.c:
	* fvwm/virtual.h:
	(checkPanFrames):
	Avoid hiding of pan frames if pan frame command	is set.
	(CMD_EdgeCommand):
	Implementation of the buildin command EdgeCommand. First
	implementation of this function.

	* fvwm/screen.h (struct):
	added char * command in structure Panframe to store the pan frame
	command.

	* fvwm/functions.c:
	added declaration of CMD_ENTRY("edgecommand")

	* fvwm/functions.h:
	added definition of Flag F_EDGE_COMMAND

	* fvwm/commands.h:
	added definition of CMD_EdgeCommand(F_CMD_ARGS)

2002-04-10  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm2.1:
	added "BI-DIRECTIONAL TEXTS" section

	* libs/System.c:
	added #include <sys/select.h> to fix endless loop on QNX

2002-04-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm2.1:
	changed description of focus models

2002-04-09  olicha  <olivier.chapuis@free.fr>

	* configure.in:
	Check for libpng libpng 1.0.4a or better

2002-04-08  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/add_window.c (setup_title_geometry):
	* fvwm/fvwm.h:
	* fvwm/fvwm2.1:
	* fvwm/geometry.c (get_title_font_size_and_offset):
	* fvwm/geometry.h:
	* fvwm/style.c (parse_and_set_window_style, check_window_style_change):
	* fvwm/style.h:
	* fvwm/window_flags.h:
	* libs/Fft.c (FftGetRotatedFont, FftGetFont, FftDrawString):
	* libs/Fft.h:
	* libs/Flocale.c (FlocaleRotateDrawString, FlocaleDrawString):
	* libs/Flocale.h:
	new Style options TopTitleRotated / TopTitleNotRotated,
	BottomTitleRotated / BottomTitleNotRotated

2002-04-08  olicha  <olivier.chapuis@free.fr>

	* libs/Makefile.am:
	Fixed make dist again

2002-04-07  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1 (ICONS AND IMAGES): Language fix, then rewrite.

2002-04-07  Mikhael Goikhman  <migo@homemail.com>

	* INSTALL.fvwm:
	minor wording fixes

	* NEWS:
	mention a new FvwmIconMan syntax

	* sample.fvwmrc/new-features:
	* sample.fvwmrc/system.fvwm2rc:
	* sample.fvwmrc/system.fvwm2rc-sample-95:
	use a new module syntax

2002-04-06  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm2.1:
	* INSTALL.fvwm:
	Forget to save some file

	* libs/FImageLoader.c (c100_init_base_table):
	Allows init even if !XPM

	* libs/Makefile.am:
	Remove a F

	* configure.in:
	Fixed png detection

	* libs/FImageLoader.c (FImageCreatePixmapFromArgbData):
	Fixed a GC memory leaks.

	* fvwm/fvwm.c (setVersionInfo):
	* fvwm/fvwm2.1:
	Updated -version for png, bidi and xft

	* fvwm/fvwm2.1:
	Modified the ICONS section. Rename it ICONS AND IMAGES and
	document PNG file format. Replace "xpm or bitmap file" by
	"image file" in a few place.

	* INSTALL.fvwm:
	* NEWS:
	PNG news and documented libpng in the "Optional libraries used by FVWM"
	section

2002-04-05  olicha  <olivier.chapuis@free.fr>

	* libs/FImageLoader.c (c100_init_base_table):
	(FImageReduceRGBColor):
	(FImageCreatePixmapFromArgbData):
	Speed up color limitation for png image and ewmh icons
	Respect color limit even with DirectColor and TrueColor

	* configure.in:
	* acconfig.h (HAVE_PNG):
	Added test for libpng. Enable FvwmBanner, FvwmScript and xpmroot
	even without XPM support

	* libs/Makefile.am
	* libs/InitPicture.c (new file):
	* libs/InitPicture.h (new file):
	* libs/Picture.c:
	* libs/Picture.h:
	* libs/FImageLoader.c (new file):
	* libs/FImageLoader.h (new file):
	* libs/Fxpm.h (new file):
	* libs/Fpng.h (new file):
	Images are loaded in FImageLoader. PNG image can be loaded, the loader
	come from Imlib2 and the argb loader from fvwm/ewmh_icons.c.
	ColorLimit stuff is applied to PNG image.
	Split Picture.c, Picture.h into InitPicture.c, InitPicture.h,
	Picture.c and Picture.h.
	InitPicture contains the Picture structure, initialize the visual,
	depth and color map and contains image path stuff as Picture contains
	Picture manipulations.

	* libs/ColorUtils.c:
	* libs/Picture.h:
	Moved the Picture color utils func to ColorUtils

	* fvwm/Makefile.am:
	links against libpng

	* fvwm/icons.c (GetIconPicture):
	(GetXPMFile):
	(GetBitmapFile):
	(GetIconFromFile):
	Replace GetXPMFile and GetBitmapFile by GetIconFromFile which use
	the libs image loader

	* fvwm/cursor.c (CMD_CursorStyle):
	Use FImageLoadCursorPixmapFromFile (no PNG support here)

	* fvwm/ewmh_icons.c (create_pixmap_from_ewmh_icon):
	(EWMH_SetIconFromWMIcon):
	Use the argb loader of the libs. ColorLimit are now applied to ewmh
	icons

	* fvwm/modconf.c:
	Send the ColorLimit to module in any case

	* libs/fvwmlib.h:
	* libs/Graphics.c:
	* libs/Flocale.c
	* libs/Fft.c:
	* libs/Colorset.c:
	* fvwm/add_window.c:
	* fvwm/builtins.c:
	* fvwm/fvwm.h:
	* fvwm/menus.c:
	* fvwm/menustyle.c:
	* fvwm/move_resize.c:
	include cleanup

2002-04-02  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (test_map_request):
	(test_resizing_event):
	fixed endless loop in HandleConfigureRequest

2002-03-31  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (setup_style_and_decor):
	fixed borderless transients

	* fvwm/events.c (test_resizing_event):
	(HandleConfigureRequest):
	* fvwm/frame.c (frame_create_move_resize_args):
	* fvwm/add_window.c (AddWindow):
	* fvwm/fvwm.h:
	* fvwm/window_flags.h:
	tried to improve ConfigureRequest handling

	* fvwm/events.c (HandlePropertyNotify):
	recalculate window size when the base_width or base_height hint
	changes; fixes some problems with xemacs

	* fvwm/virtual.c (map_window):
	redraw decorations

	* fvwm/borders.c (border_draw_decorations):
	don't redraw windows on a different desk
	keep track of Scr.Hilite

2002-03-31  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/virtual.c (unmap_window):
	* fvwm/move_resize.c (resize_window):
	* fvwm/icons.c (Iconify):
	* fvwm/add_window.c (CaptureOneWindow):
	* fvwm/borders.c (border_undraw_decorations):
	mark window decorations as not drawn whenever the frame is unmapped

2002-03-30  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1: Fixup IconBox geometry examples.

2002-03-29  Mikhael Goikhman  <migo@homemail.com>

	* libs/FBidi.c:
	use safemalloc and alloca instead of malloc

2002-03-29  olicha  <olivier.chapuis@free.fr>

	* libs/FlocaleCharset.c (FlocaleCharsetSetFlocaleCharset):
	Set the X locale charset on system without XOpenOM

2002-03-27  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	fixed multibyte support reporting

2002-03-27  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/fvwmlib.h:
	* fvwm/fvwm.h:
	* config.h.in:
	moved gcc extension __attribute__ handling to config.h

	* fvwm/fvwm.c (main):
	* fvwm/stack.c (add_window_to_stack_ring_after):
	* fvwm/icons.c (GetIconWindow):
	(GetIconBitmap):
	* fvwm/add_window.c:
	fixed core dumps and other bugs in debug messages

2002-03-27  olicha  <olivier.chapuis@free.fr>

	* libs/FlocaleCharset.c (FlocaleInit_X_Charset):
	(FlocaleCharsetSetFlocaleCharset):
	* acconfig.h:
	* configure.in (problem_multibyte):
	Fixed compilation for system without XOpenOM in Xlib.h

	* libs/FlocaleCharset.c (FlocaleInit_X_Charset):
	* libs/Ficonv.c (FiconvInit):
	Be more safe

	* fvwm/fvwm.c:
	include only libs/Flocale.h

2002-03-26  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	fixed detection of fribidi-0.9.0, it is incompatible (not good for us)

	* libs/FBidi.c:
	* libs/FBidi.h:
	* libs/Flocale.c:
	* libs/FlocaleCharset.c:
	minor modifications, like removed #include;
	fixed core dump with bidi and utf-8

2002-03-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/frame.c (frame_update_hidden_window_pos):
	fixed shade/maximize/unshade

	* fvwm/builtins.c (FreeDecorFace):
	fixed memory leak

	* fvwm/borders.c (get_common_decorations):
	(border_get_border_style):
	* fvwm/style.c (parse_and_set_window_style):
	* fvwm/style.h:
	* fvwm/window_flags.h:
	* fvwm/fvwm.h (struct):
	* fvwm/frame.c (frame_mrs_setup_draw_decorations):
	(frame_create_move_resize_args):
	(frame_move_resize_step):
	(frame_next_move_resize_args):
	new styles WindowShadeLazy [default], WindowShadeBusy and
	WindowShadeAlwaysLazy

	* fvwm/frame.c (frame_set_decor_gravities):
	fixed window bit gravities
	split into smaller functions
	(frame_move_resize_step):
	fixed a bug w/ the parent gravity
	(frame_hide_changing_window_parts):
	fixed flickering in one of the corners during shade animation
	(frame_mrs_hide_changing_parts):
	renamed function
	(frame_mrs_prepare_vars):
	(frame_mrs_hide_unhide_parent):
	(frame_mrs_setup_draw_decorations):
	(frame_mrs_resize_move_windows):
	new functions

2002-03-25  olicha  <olivier.chapuis@free.fr>

	* libs/Fft.c (FftSetupEncoding):
	Fixed compilation

	* libs/Flocale.c (FlocaleDrawString):
	* libs/FBidi.c (FBidiConvert):
	* libs/FBidi.h:
	Pass the font to FBidiConvert

	* acconfig.h (HAVE_LIBCHARSET):
	* acinclude.m4 (CHECK_LIBCHARSET):
	* configure.in:
	If libiconv is used check for libcharset

	* libs/Makefile.am:
	* libs/FlocaleCharset.h:
	* libs/FlocaleCharset.c:
	* libs/Flocale.h:
	* libs/Flocale.c (*):
	* libs/Fft.c (FftSetupEncoding):
	* libs/Fft.h:
	New structure FlocaleCharset to handle font, iconv and fribidi charsets.
	FlocaleFont has such a member which is set when charset info are needed.
	FlocaleCharset.c contains a big table which associates to an X charset
	various possible locale charsets and the fribidi charset.
	If libiconv is used, libcharset is used to compute the locale charset.
	Various Flocale clean up.

	* fvwm/fvwm.c (main):
	Removed the call to FlocaleInitCharset, it is now done automatically
	when needed

	* libs/Makefile.am:
	* libs/Ficon.h:
	* libs/Ficonv.c:
	* fvwm/ewmh.c (ewmh_atom_property_notify[]):
	* fvwm/ewmh.h:
	* fvwm/ewmh_names.c (EWMH_SetVisibleName):
	(EWMH_WMIconName):
	(EWMH_WMName):
	(EWMH_SetDesktopNames):
	Moved iconv conversions into the library. Try to found the good iconv
	charset with the help of the font and of the FlocaleCharset table.

2002-03-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Module.c (SendFvwmPipe):
	* libs/Graphics.c (do_relieve_rectangle):
	* fvwm/menustyle.c (menustyle_parse_old_style):
	* fvwm/add_window.c (setup_window_structure):
	memory management patches by Dave Trollope

	* fvwm/frame.c (frame_get_sidebar_geometry):
	hide the handles when using the NoHandles style

	* fvwm/borders.c (border_redraw_decorations):
	change in title rotation is applied immediately, don't use the value "2"
	to force redrawing

	* fvwm/style.c (parse_and_set_window_style):
	removed "TitleLeft" and "TitleRight" styles; only the "TitleAt..."
	styles can be used
	documented the new title directions
	(parse_and_set_window_style):
	removed the ...TitleRotated[Counter]ClockWise use ...CW and ...CCW
	instead
	documented these styles

	* fvwm/add_window.c (CaptureOneWindow):
	(CaptureAllWindows):
	(AddWindow):
	cleaned up

	* fvwm/icons.c (DeIconify):
	fiexd fucoused window not hilighting after deiconification

2002-03-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/update.c (apply_window_updates):
	windows are not unshaded when the decoration layout changes

	* fvwm/frame.c (frame_create_move_resize_args):
	fixed excessive redrawing
	(frame_get_hidden_pos):
	fixed parent geometry when window is hidden

	* fvwm/add_window.c (setup_frame_stacking):
	fixed stacking of right buttons

	* fvwm/frame.c (frame_set_decor_gravities):
	fixed title and button bit gravities

	* fvwm/add_window.c (setup_frame_stacking):
	(change_auxiliary_windows):
	fixed "button" style

	* fvwm/geometry.c (get_title_button_geometry):
	* fvwm/menus.c (pop_menu_up):
	fixed menu placement relative to window titles

	* libs/Flocale.c (FlocaleDrawString):
	fixed compiler warning w/o fribidi

	* fvwm/virtual.c (MoveViewport):
	(MapDesk):
	(do_move_window_to_desk):
	* fvwm/update.c (apply_window_updates):
	* fvwm/icons.c (Iconify):
	(CMD_Iconify):
	* fvwm/module_interface.c (SETOLDFLAGS):
	* fvwm/ewmh_events.c (ewmh_WMStateHidden):
	* fvwm/style.c (parse_and_set_window_style):
	* fvwm/window_flags.h:
	* fvwm/session.c (MatchWinToSM):
	* fvwm/placement.c (PlaceWindow):
	* fvwm/add_window.c (CaptureAllWindows):
	(setup_window_placement):
	(CaptureOneWindow):
	(AddWindow):
	(destroy_window):
	* fvwm/menus.c (menu_tear_off):
	* fvwm/events.c (HandleMapRequestKeepRaised):
	(HandleMapNotify):
	* fvwm/fvwm.h:
	removed some of those pesky globals: PPosOverride, isIconicState and
	isIconifiedByParent; pass round a structure instead
	removed the do_start_iconic window flag
	removed do_delete_icon_moved flag

2002-03-24  Mikhael Goikhman  <migo@homemail.com>

	* acconfig.h:
	* configure.in:
	renamed HAVE_FRIBIDI to HAVE_BIDI

	* libs/FBidi.c:
	* libs/FBidi.h:
	added more comments

	* fvwm/Makefile.am:
	* libs/Flocale.c:
	* libs/Makefile.am:
	added a dummy call to FBidi to test linking against bidi libs

2002-03-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/windowshade.c (CMD_WindowShade):
	changed syntax of windowshade with direction
	(CMD_WindowShade):
	update button state after unshading

	* fvwm/add_window.c (AddWindow):
	fixed mini icon update

	* fvwm/events.c (HandleEnterNotify):
	fixed icon picture redrawing
	icon titles are no longer raised and expanded if the icon has only a
	title

	* fvwm/move_resize.c (resize_window):
	fixed core dump

	* libs/gravity.c (gravity_move_resize_parent_child):
	* fvwm/frame.c (frame_get_titlebar_dimensions):
	(frame_prepare_animation_shape):
	(frame_move_resize_step):
	(frame_get_titlebar_dimensions_only):
	(frame_get_hidden_pos):
	(frame_update_hidden_window_pos):
	(frame_free_move_resize_args):
	(frame_create_move_resize_args):
	fixed shading of shaped windows

	* fvwm/borders.c:
	clean up

	* fvwm/fvwm.c (main):
	* fvwm/misc.c (GrabEm):
	fixed a problem with the cursor shape during window shading

	* fvwm/update.c (apply_window_updates):
	fixed drawing of hilighted window after a decoration change

	* fvwm/update.c (apply_window_updates):
	* fvwm/ewmh_icons.c (EWMH_SetIconFromWMIcon):
	* fvwm/borders.c (RedrawDecorations):
	renamed RedrawDecorations()

	* fvwm/move_resize.c (move_window_doit):
	* libs/fvwmrect.c:
	* fvwm/misc.c (move_into_rectangle):
	(intersect_xrectangles):
	functions renamed and moved to fvwmrect.c

	* fvwm/borders.c (border_get_changed_border_parts):
	(frame_get_changed_border_parts):
	reduced border redrawing
	moved fucntion to borders.c

	* fvwm/events.c (HandleButtonPress):
	(DispatchEvent):
	suppress button events on frame windows

	* fvwm/frame.c (frame_setup_border):
	fixed a problem with the border setup

	* fvwm/borders.c (border_draw_decorations):
	* fvwm/events.c (HandleEnterNotify):
	fixed icon title drawing

	* fvwm/misc.c (GrabEm):
	fixed a pointer grab hang with xmag?

	* fvwm/move_resize.c (resize_window):
	use frame_move_resize function to improve performance

	* fvwm/add_window.c (AddWindow):
	fixed recaturing shaded windows

	* fvwm/borders.c:
	suppress unnecessary title redraws

	* fvwm/frame.c:
	window shading works again; there are still some problems with
	recapture, restart, border drawing and shaped windows

2002-03-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/geometry.c (get_shaded_geometry_with_dir):
	new function

	* fvwm/frame.c (frame_get_title_bar_dimensions):
	fixed minor button layout bug
	(frame_update_hidden_window_pos):

	* fvwm/ewmh_names.c (EWMH_WMName):
	* fvwm/gnome.c (GNOME_HandlePropRequest):
	* fvwm/focus.c (DoSetFocus):
	* fvwm/stack.c (new_layer):
	* fvwm/icons.c (DeIconify):
	(Iconify):
	* fvwm/events.c (HandleFocusIn):
	(HandlePropertyNotify):
	(HandleExpose):
	(HandleMapNotify):
	(HandleButtonPress):
	(HandleLeaveNotify):
	* fvwm/builtins.c (CMD_ChangeDecor):
	(CMD_UpdateDecor):
	* fvwm/move_resize.c (resize_move_window):
	(resize_window):
	(resize_window):
	(maximize_fvwm_window):
	(handle_stick):
	* fvwm/borders.c (DrawDecorations):
	(RedrawDecorations):
	removed function DrawDecorations()
	(border_draw_decorations):
	renamed draw_decorations_with_geom() to border_draw_decorations()

	* fvwm/events.c (HandleExpose):
	fixed drawing icon titles

	* fvwm/add_window.c (adjust_fvwm_internal_windows):
	* fvwm/events.c (HandleFocusIn):
	(HandleFocusOut):
	* fvwm/screen.h (ScreenInfo):
	return the focus to the window that had the focus before an or window
	stole it and then died.

	* fvwm/menus.c (scanForColor):
	removed duplicate call of strlen
	use alloca instead of safemalloc

	* fvwm/menustyle.c (menustyle_parse_style):
	don't call memset right before memcpy

	* fvwm/module_interface.c (AddToMessageQueue):
	(DeleteMessageQueueBuff):
	removed one safemalloc and inline'd the function
	merged AddToMessageQueue into PositiveWrite

	* fvwm/borders.c (border_draw_decor_to_pixmap):
	fixed pixmap and mini icon buttons
	(border_fill_pixmap_background):
	fixed an X error
	(border_get_tb_parts_to_draw):
	buttons and title background using the border style is updated when the
	buttons moves

	* fvwm/events.c (WaitForButtonsUp):
	don't grab the whole server but merely the pointer to allow applications
	redrawing themselves

	* fvwm/borders.c:
	finished writing title drawing code

	* fvwm/move_resize.c (resize_window):
	(resize_move_window):
	(unmaximize_fvwm_window):
	removed now unnecessary calls to DrawDecorations()

	* fvwm/frame.c (frame_hide_changing_window_parts):
	fixed hiding bottom/right titles

	* fvwm/add_window.c (AddWindow):
	fixed recapturing shaded windows

	* fvwm/misc.c (GrabEm):
	fixed the cursor over the title window while resizing

2002-03-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Graphics.c (CreateTiledPixmap):
	improved efficience: let the X server tile a pixmap via the GC settings

	* fvwm/fvwm.c (CreateGCs):
	* fvwm/screen.h (ScreenInfo):
	added new global GC Scr.TileGC

	* fvwm/borders.c (border_fill_pixmap_background):
	* fvwm/ewmh_icons.c (create_pixmap_from_ewmh_icon):
	use already created gcs

	* fvwm/ewmh_icons.c (create_pixmap_from_ewmh_icon):
	* fvwm/menus.c (paint_menu_gradient_background):
	fixed using a randow members in gcs

2002-03-22  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	added compilation test for fribidi

2002-03-22  Dan Espen  <dane@mk.telcordia.com>

	* NEWS: Document FvwmForm timeout.

2002-03-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/session.c (MatchWinToSM):
	* fvwm/add_window.c (AddWindow):
	preserve user states over a restart

	* fvwm/add_window.c (setup_window_structure):
	preserve user states over a recapture

	* fvwm/functions.c (execute_function):
	"Silent" suppresses the "No such command ..." message

	* fvwm/frame.c (frame_move_resize):
	* fvwm/misc.c (GrabEm):
	fixed the cursor shape during resizing
	fixed button looks in small windows

2002-03-22  Mikhael Goikhman  <migo@homemail.com>

	* libs/FBidi.c:
	* libs/FBidi.h:
	new files

2002-03-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.c (LoadDefaultLeftButton):
	(LoadDefaultRightButton):
	* fvwm/borders.c (border_draw_vector_to_pixmap):
	* fvwm/screen.h (DecorFace):
	* fvwm/builtins.c (ReadDecorFace):
	fixed transparent vector line support

	* libs/Graphics.c (CreateGradientPixmap):
	fixed potential core dump with illegal gradients

2002-03-21  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.h (FvwmWindow):
	removed button_background_pixmap member

	* fvwm/update.c (apply_window_updates):
	fixed changing the decoration size

	* fvwm/windowshade.c (CMD_WindowShade):
	* fvwm/frame.c (frame_setup_border):
	* fvwm/functions.c (execute_complex_function):
	removed debug code

	* fvwm/move_resize.c (resize_window):
	fixed aboting of a opaque resize w/ maximized windows
	(ParseOneResizeArgument):
	resize arguments don't take the border into account
	(GetResizeArguments):
	implemented new option "Frame" to the Resize and ResizeMove commands

2002-03-20  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm2.1:
	* fvwm/builtins.c (ReadDecorFace):
	* fvwm/borders.c (DrawLinePattern):
	implemented transparent drawing color in vector buttons: C == 4

	* libs/defaults.h (MAX_TITLE_BUTTON_VECTOR_LINES):
	* fvwm/builtins.c (ReadDecorFace):
	increased allowed number of lines in a vector button to 10000 and moved
	the definition to defaults.h

	* fvwm/virtual.c (MoveViewport):
	don't send useless M_NEW_PAGE packets

	* fvwm/frame.c:
	* fvwm/borders.c:
	started work on new button/title drawing code

	* fvwm/events.c (HandleExpose):
	don't handle expose on the title bar

	* fvwm/borders.c:
	* fvwm/frame.c (frame_get_sidebar_geometry):
	* fvwm/fvwm.h (FvwmWindow):
	replaced border_state with decor_state

	* libs/defaults.h (NR_RIGHT_BUTTONS):
	added a comment

	* fvwm/events.h:
	* fvwm/events.c (HandleExpose):

	* fvwm/frame.c (frame_setup_border):
	hide sidebars if they are too small, i.e. 0 pixels

2002-03-20  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FlocaleFreeNameProperty):
	Fixed random core dump

2002-03-19  olicha  <olivier.chapuis@free.fr>

	* fvwm/ConfigFvwmDefaults:
	RightTitleRotatedCW is a default

2002-03-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/frame.c (frame_get_sidebar_geometry):
	window corners are always at least the border width thick

	* fvwm/geometry.c (update_absolute_geometry):
	fixed south/east shading

	* fvwm/frame.c (frame_move_resize_step):
	did the best I could to prevent rxvt from flashing in the background
	colour

	* fvwm/add_window.c (get_default_window_attributes):
	(get_default_window_attributes):
	(setup_resize_handle_windows):
	* fvwm/borders.c (border_get_border_gcs):
	applied -visual fix by Hippo

	* fvwm/cursor.c (CMD_CursorStyle):
	fixed endless loop

	* fvwm/frame.c (frame_get_title_bar_dimensions):
	fixed order of right buttons
	(frame_move_resize_step):
	reduced flashing when maximizing

	* fvwm/geometry.c (update_absolute_geometry):
	adapted for horizontal shading

2002-03-19  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/borders.c:
	* fvwm/builtins.c:
	* fvwm/fvwm.h:
	* fvwm/geometry.c:
	* libs/Fft.c:
	* libs/Flocale.c:
	* libs/Flocale.h:
	several renamings of text_direction to text_rotation

2002-03-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/windowshade.c (CMD_WindowShade):
	* fvwm/frame.c (frame_create_move_resize_args):
	(frame_move_resize_step):
	hack to enable non-animated window shading for the time being

	* fvwm/style.c (parse_and_set_window_style):
	(parse_and_set_window_style):
	allow to abbreviate [Counter]ClockWise with [C]CW

	* fvwm/frame.c (frame_move_resize_step):
	fixed

	* fvwm/geometry.c (gravity_constrain_size):
	removed useless code

	* fvwm/update.c (apply_window_updates):
	* fvwm/add_window.c (AddWindow):
	* fvwm/move_resize.c (unmaximize_fvwm_window):
	(resize_window):
	do not write into frame_g. only frame.c should do this

	* libs/defaults.h (MIN_WINDOW_TITLEBUTTON_LENGTH):
	(MIN_WINDOW_TITLE_LENGTH):
	new default values
	* fvwm/frame.c (frame_setup_title_bar):
	(get_resize_decor_gravities_one_axis):
	(frame_setup_window_internal):
	(frame_move_resize_step):
	(frame_create_move_resize_args):
	rewrote frame_setup_title_bar function

	* fvwm/add_window.c (setup_frame_stacking):
	fixed title bar stacking order

	* fvwm/frame.c (frame_setup_title_bar):
	removed yesterday's 'fix'

	* fvwm/add_window.c (hide_screen):
	(setup_title_window):
	(setup_resize_handle_windows):
	(setup_button_windows):
	fixed visual and depth of decoration windows

2002-03-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/frame.c (frame_setup_title_bar):
	fixed title layout bug

	* fvwm/move_resize.c (MaximizeHeight):
	fixed bug in "grow" option of the Maximize command

	* fvwm/geometry.h:
	fixed broken prototype for get_title_font_size_and_offset

	* fvwm/geometry.c (get_title_font_size_and_offset):
	simplified code a bit

2002-03-18  olicha  <olivier.chapuis@free.fr>

	* fvwm/geometry.h:
	* fvwm/geometry.c (get_title_font_size_and_offset):
	* fvwm/add_window.c (setup_title_geometry):
	* fvwm/style.h:
	* fvwm/style.c (parse_and_set_window_style):
	(check_window_style_change):
	* fvwm/update.c (apply_window_updates):
	* fvwm/window_flags.h:
	* fvwm/fvwm.h:
	Reworte side title direction styles and use LeftTitleRotatedClockWise /
	LeftTitleRotatedCounterClockWise, RightTitleRotatedClockWise /
	RightTitleRotatedCounterClockWise

2002-03-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* acconfig.h:
	* vms/config.h (FMiniIconsSupported):
	removed last traces of MINI_ICONS ifdef

	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/update.c (apply_window_updates):
	* fvwm/style.h:
	* fvwm/style.c (merge_styles):
	(parse_and_set_window_style):
	(check_window_style_change):
	* fvwm/screen.h:
	* fvwm/module_interface.c (SendMiniIcon):
	(BroadcastMiniIcon):
	(CMD_Send_WindowList):
	* fvwm/fvwm.h (FvwmWindow):
	* fvwm/ewmh_icons.c (ewmh_WMIcon):
	(EWMH_DoUpdateWmIcon):
	(ewmh_SetWmIconFromPixmap):
	(EWMH_DeleteWmIcon):
	(EWMH_SetIconFromWMIcon):
	* fvwm/builtins.c (ReadDecorFace):
	* fvwm/borders.c (DrawButton):
	(CMD_BorderStyle):
	(CMD_BorderStyle):
	* fvwm/add_window.c (setup_window_structure):
	(setup_mini_icon):
	(destroy_mini_icon):
	(change_mini_icon):
	(AddWindow):
	* acconfig.h (FMiniIconsSupported):
	replaced all MINI_ICONS ifdefs with FMiniIconsSupported to enable
	compiler checks

	* fvwm/screen.h:
	removed an FANCY_TITLEBARS ifdef

	* fvwm/borders.c (border_draw_one_part):
	(border_draw_border_parts):
	(border_draw_all_parts):
	(draw_clipped_decorations_with_geom):
	performance enhancement

2002-03-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/frame.c (frame_move_resize_step):
	force setting up the border when function is called with FRAME_MR_SETUP
	(frame_setup_window_internal):
	removed duplicate frame setup

	* fvwm/borders.c (border_get_parts_and_pos_to_draw):
	fixed logic bug
	(draw_clipped_decorations_with_geom):
	do not flush the X queue after drawing; let the caller do it

	* fvwm/frame.c (frame_get_sidebar_geometry):
	fixed layout of windows with a small height
	(frame_hide_changing_window_parts):
	fixed flickering

	* fvwm/borders.c:
	* fvwm/frame.c:
	made good progress with frame layout rewrite. I think it is already
	considerably faster.
	some general clean up

	* fvwm/add_window.c (setup_decor_window):
	function removed

	* fvwm/windowshade.c (CMD_WindowShade):
	* fvwm/stack.c (verify_stack_ring_consistency):
	(RaiseOrLowerWindow):
	* fvwm/move_resize.c (resize_move_window):
	(move_window_doit):
	(draw_move_resize_grid):
	* fvwm/icons.c (DrawIconWindow):
	* fvwm/icccm2.c (CloseICCCM2):
	(convertProperty):
	(HandleSelectionRequest):
	* fvwm/fvwm.c (main):
	(SaveDesktopState):
	* fvwm/focus.c (DoSetFocus):
	* fvwm/ewmh.c (EWMH_ManageKdeSysTray):
	* fvwm/events.c (HandlePropertyNotify):
	(HandleButtonPress):
	(HandleConfigureRequest):
	* fvwm/add_window.c (RestoreWithdrawnLocation):
	(Reborder):
	* fvwm/builtins.c (CMD_Delete):
	(CMD_Destroy):
	(CMD_Close):
	(CMD_FakeClick):
	* fvwm/menus.c (paint_menu):
	(DestroyMenu):
	* fvwm/misc.c (UngrabEm):
	(GrabEm):
	* fvwm/schedule.c (execute_obj_func):
	* fvwm/add_window.c (hide_screen):
	(destroy_window):
	use XFlush instead of XSync when the latter is not necessary

	* libs/fvwmrect.c (fvwmrect_rectangles_equal):
	new function

	* fvwm/add_window.c (adjust_fvwm_internal_windows):
	inform frame module if the window with the hide windows dies

	* fvwm/placement.c (PlaceWindow):
	(CMD_PlaceAgain):
	* fvwm/add_window.c (setup_window_attr):
	(setup_frame_attributes):
	(AddWindow):
	(RestoreWithdrawnLocation):
	(setup_window_placement):
	* fvwm/geometry.c (gravity_translate_to_northwest_geometry):
	(get_title_geometry):
	* fvwm/fvwm.c (InitVariables):
	* fvwm/frame.c (frame_setup_frame):
	* fvwm/colormaps.c (HandleColormapNotify):
	(InstallWindowColormaps):
	* fvwm/events.c (HandleConfigureRequest):
	(HandleUnmapNotify):
	* fvwm/fvwm.h (FvwmWindow):
	removed attr member of FvwmWindow and replaced by a structure defined
	ourselves that is much smaller

	* fvwm/add_window.c (hide_screen):
	don't use save_unders and backing_store for the window used in recapture

	* fvwm/frame.c (frame_init):
	* fvwm/fvwm.c (main):
	new function to initialise frame module

	* libs/fvwmrect.c (fvwmrect_subtract_rectangles):
	new function

2002-03-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/frame.c:
	clean up

	* fvwm/borders.h (enum):
	* fvwm/borders.c (draw_clipped_decorations_with_geom):
	(border_get_parts_and_pos_to_draw):
	* fvwm/fvwm.h (struct):
	some clean up
	fixed calculations of which border parts to draw

	* fvwm/fvwm2.1:
	corrected some typos
	* fvwm/frame.c:
	* fvwm/borders.c:
	handle marks work again

2002-03-16  Dan Espen  <dane@mk.telcordia.com>

	* AUTHORS: New author added.

2002-03-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/frame.c:
	* fvwm/borders.c:
	* fvwm/add_window.c (setup_frame_stacking):
	* fvwm/cursor.c (CMD_CursorStyle):
	* fvwm/events.c (HandleExpose):
	(HandleMapNotify):
	(HandleEnterNotify):
	(HandleLeaveNotify):
	(GetContext):
	* fvwm/geometry.c (get_title_button_geometry):
	* fvwm/virtual.c (map_window):
	* fvwm/add_window.c (setup_parent_window):
	(setup_resize_handle_cursors):
	(setup_resize_handle_windows):
	(resize_resize_handle_windows):
	(change_resize_handle_windows):
	some progress with new frame layout

	* fvwm/add_window.c (setup_visible_name):
	fixed off-by-one bug in setup_visible_name
	maximum window number can be set in defaults.h

2002-03-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/windowlist.h:
	* fvwm/virtual.h:
	* fvwm/update.h:
	* fvwm/style.h:
	* fvwm/read.h:
	* fvwm/placement.h:
	* fvwm/menus.h:
	* fvwm/move_resize.h:
	* fvwm/icons.h:
	* fvwm/geometry.h:
	* fvwm/frame.h:
	* fvwm/focus.h:
	* fvwm/events.h:
	* fvwm/borders.h:
	* fvwm/add_window.h:
	* fvwm/ewmh_names.c:
	* fvwm/ewmh_icons.c:
	* fvwm/ewmh_events.c:
	* fvwm/ewmh.c:
	* fvwm/frame.c:
	* fvwm/menucmd.c:
	* fvwm/schedule.c:
	* fvwm/geometry.c:
	* fvwm/gnome.c:
	* fvwm/windowlist.c:
	* fvwm/cursor.c:
	* fvwm/update.c:
	* fvwm/bindings.c:
	* fvwm/colormaps.c:
	* fvwm/decorations.c:
	* fvwm/conditional.c:
	* fvwm/misc.c:
	* fvwm/read.c:
	* fvwm/placement.c:
	* fvwm/fvwm.c:
	* fvwm/virtual.c:
	* fvwm/session.c:
	* fvwm/functions.c:
	* fvwm/stack.c:
	* fvwm/icons.c:
	* fvwm/module_interface.c:
	* fvwm/style.c:
	* fvwm/add_window.c:
	* fvwm/events.c:
	* fvwm/builtins.c:
	* fvwm/move_resize.c:
	* fvwm/borders.c:
	* fvwm/menus.c:
	* fvwm/fvwm.h (FvwmWindow):
	moved all windows into a separate sub structure and wrote access macros
	renamed FvwmWindow argument to builtin commands to "fw"
	renamed tmp_win to fw everywhere

	* fvwm/borders.c (RedrawBorder):
	* fvwm/decorations.c (SelectDecor):
	* fvwm/add_window.c (setup_style_and_decor):
	(setup_resize_handle_cursors):
	* fvwm/window_flags.h:
	* fvwm/fvwm.h (struct):
	added new member has_handles and new macro HAS_HANDLES

	* fvwm/decorations.c (SelectDecor):
	fixed the NoHandles style

	* fvwm/decorations.c (SelectDecor):
	* fvwm/style.c (check_window_style_change):
	(parse_and_set_window_style):
	* fvwm/style.h:
	* fvwm/fvwm.h (struct):
	renamed has_no_handles to has_no_border

2002-03-15  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.h:
	* libs/Fft.c (is_utf8_encoding):
	Compilation fixes

	* libs/Flocale.h:
	s/COMPUND_TEXT/COMPOUND_TEXT

	* fvwm/fvwm2.1:
	Removed matrix xft specification doc as now it is use internally by
	fvwm

	* libs/Flocale.c (FlocaleRotateDrawString):
	(FlocaleUnloadFont):
	(FlocaleDrawString):
	(FlocaleTextWidth):
	* libs/Fft.h:
	* libs/Fft.c (FftGetRotatedFont):
	(FftGetFont):
	(FftDrawString):
	(FftTextWidth):
	* fvwm/borders.c (DrawMultiPixmapTitlebar):
	(RedrawTitle):
	* fvwm/geometry.c (get_title_font_size_and_offset):
	* fvwm/style.c (parse_and_set_window_style):
	(check_window_style_change):
	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h:
	* fvwm/style.h:
	* fvwm/fvwm.h:
	* fvwm/window_flags.h:
	Implemented vertical text rendering, new style SideTitleTextDefault,
	SideTitleTextTopToBottom, SideTitleTextBottomToTop

2002-03-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.h:
	removed inclusion of fvwmdebug.h

	* libs/gravity.c (ParseDirectionArgument):
	fixed direction parsing

	* fvwm/menus.c (get_menu_options):
	fixed a compiler warning

2002-03-12  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/bindings.c (ParseBinding):
	fixed compiler warning

	* fvwm/ewmh_events.c (EWMH_GetIconGeometry):
	* fvwm/ewmh.h:
	fixed compilation w/ --disable-ewmh

	* fvwm/windowlist.c (CMD_WindowList):
	fixed parsing of conditions versus position of window list broken with
	a recent "fix"

2002-03-11  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Fft.h:
	* libs/Fft.c (FftTextWidth):
	(is_utf8_encoding):
	(FftGetFontWidths):
	(FftDrawString):
	removed the HAVE_XFT_UTF8 ifdefs and fixed not setting FftUtf8Support
	if HAVE_XFT was not set.

	* fvwm/events.h (XEVMASK_DECORW):
	select EnterNotify and LeaveNotify on frame instead of decor_w

	* fvwm/add_window.c (setup_title_window):
	(setup_button_windows):
	(setup_resize_handle_windows):
	frame window is the new parent of the title, button and handle windows
	(setup_frame_stacking):
	new stacking order of decoration windows

	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/events.c (HandleExpose):
	xft fixes

	* fvwm/move_resize.c (unmaximize_fvwm_window):
	don't force to redraw the frame

	* libs/gravity.c (gravity_get_offsets):
	(gravity_move):
	(gravity_resize):
	functions moved to gravity.c

2002-03-10  olicha  <olivier.chapuis@free.fr>

	* acconfig.h (HAVE_XFT_UTF8):
	* configure.in:
	* libs/Fft.c (is_utf8_encoding):
	(FftGetFontWidths):
	(FftDrawString):
	(FftTextWidth):
	Detected if Xft can handle utf8 string

	* libs/Fft.h:
	* fvwm/menuitem.c (menuitem_paint):
	* fvwm/events.c (HandleExpose):
	Fixed Xft related compilation failure and warning

2002-03-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/virtual.c:
	* fvwm/update.c:
	* fvwm/move_resize.c:
	* fvwm/icons.c:
	* fvwm/focus.c:
	* fvwm/events.c:
	* fvwm/builtins.c:
	* fvwm/add_window.c:
	* fvwm/frame.c (frame_setup_window):
	(frame_force_setup_window):
	(frame_setup_shape):
	SetupFrame renamed to frame_setup_window
	ForceSetupFrame renamed to frame_force_setup_window
	SetShape renamed to frame_setup_shape

	* fvwm/windowshade.c:
	moved most code to frame.c

	* fvwm/frame.c (SetShape):
	(SetupTitleBar):
	(set_decor_gravity):
	(ForceSetupFrame):
	(SetupFrame):
	functions moved to new file

	(SetupTitleBar):
	(frame_setup_title_bar):
	renamed function

	* libs/Parse.h:
	direction code moved to gravity.c and gravity.h

	* fvwm/windowshade.c (CMD_WindowShade):
	* fvwm/geometry.c (get_shaded_geometry):

	* libs/FScreen.c (FScreenInit):
	(FScreenUpdateEmulationMapState):
	changed Xinerame emulation layout

	* fvwm/fvwm2.1:
	Corrected the description of the XineramaPrimaryScreen command that was
	essentially lying.

2002-03-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (menu_tear_off):
	(unlink_item_from_menu):
	(menu_strip_tear_off_title):
	use the text from a title item as the tear off menu title if the menu
	begins with a title; skip separators and tear off bars at the front of
	the menu

	* **/*.[ch]:
	implemented titleatleft and titleatright styles; titles are not drawn
	vertically yet

	* fvwm/style.c (check_window_style_change):
	* fvwm/update.c (apply_window_updates):
	* fvwm/ewmh_names.c (EWMH_WMIconName):
	(EWMH_WMName):
	(charset_to_utf8):
	* fvwm/ewmh.c (ksmserver_workarround):
	* fvwm/update.c (apply_window_updates):
	* fvwm/conditional.c (MatchesConditionMask):
	* fvwm/fvwm.c (main):
	* fvwm/session.c (SaveWindowStates):
	(matchWin):
	(MatchWinToSM):
	* fvwm/functions.c (expand):
	* fvwm/stack.c (dump_stack_ring):
	(verify_stack_ring_consistency):
	* fvwm/module_interface.c (BroadcastWindowIconNames):
	(CMD_Send_WindowList):
	* fvwm/add_window.c (free_window_names):
	(free_window_names):
	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/builtins.c (CMD_Wait):
	* fvwm/style.c (CMD_DestroyStyle):
	(lookup_style):
	Adapted to changes of Flocale.h

	* acconfig.h:
	removed COMPUND_TEXT ifdef

	* configure.in:
	mutibyte defaults to on

	* acconfig.h:
	* libs/Flocale.c:
	* libs/Flocale.h:
	* fvwm/fvwm.h (FvwmWindow):
	cleaned up Flocale stuff for better information hiding

	* libs/Flocale.c (get_FlocaleFontSet):
	(get_FlocaleFont):
	added a new font strucht member min_char_offset for vertical text

	* libs/Flocale.c (get_FlocaleFontSet):
	fixed a bug in descent calculation

	* fvwm/fvwm.h (FvwmWindow):
	removed title_g

	* fvwm/borders.c (RedrawButtons):
	(SetupTitleBar):
	(RedrawBorder):
	(SetupFrame):
	(RedrawTitle):
	(DrawMultiPixmapTitlebar):
	don't use title_g or boundary_width

	* libs/Flocale.c (FlocaleTextWidth):
	* libs/Flocale.c (FlocaleDrawString):
	added interface for vertical strings
	* libs/Flocale.h (FlocaleWinString):
	added flags structure w/ is_vertical_string flag

	* fvwm/borders.c (RedrawTitle):
	(DrawMultiPixmapTitlebar):
	* fvwm/screen.h (ScreenInfo):
	* fvwm/icons.c (DrawIconWindow):
	* fvwm/move_resize.c (DisplayPosition):
	(DisplaySize):
	* fvwm/screen.h (ScreenInfo):
	removed ScratchStr and TitleStr; *please* don't use global variables
	without need

	* fvwm/move_resize.c (ParseOneResizeArgument):
	(GetResizeArguments):
	(GetResizeMoveArguments):
	(resize_window):
	(resize_move_window):
	* fvwm/module_interface.c (CONFIGARGS):
	(OLDCONFIGARGS):
	(CONFIGARGSNEW):
	* fvwm/placement.c (PlaceWindow):
	* fvwm/add_window.c (setup_title_window):
	(setup_button_windows):
	(setup_parent_window):
	(resize_resize_handle_windows):
	(change_resize_handle_windows):
	(AddWindow):
	* fvwm/geometry.c (get_window_borders):
	(gravity_get_naked_geometry):
	(gravity_add_decoration):
	(constrain_size):
	don't use title_g.width and title_g.height anymore

	* libs/defaults.h (EXTRA_TITLE_FONT_WIDTH):
	new macro

	* fvwm/borders.c (SetupTitleBar):
	* fvwm/add_window.c (setup_title_window):
	don't use title_g.x and title_g.y anymore
	(setup_title_geometry):
	new function

	* fvwm/fvwm.h (FvwmWindow):
	replaced title_g by title_length and title_thickness
	renamed title_text_y to title_text_offset

	* fvwm/add_window.c (setup_style_and_decor):
	(setup_parent_window):
	* fvwm/decorations.c (SelectDecor):
	* fvwm/placement.c (PlaceWindow):
	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/events.c (SendConfigureNotify):
	(HandlePropertyNotify):
	(HandleMapNotify):
	* fvwm/move_resize.c (DisplaySize):
	(ParseOneResizeArgument):
	(GetResizeArguments):
	(GetResizeMoveArguments):
	(resize_window):
	(resize_move_window):
	* fvwm/geometry.c (gravity_get_naked_geometry):
	(gravity_add_decoration):
	(constrain_size):
	don't use boundary_width anymore

	* fvwm/borders.c (SetupTitleBar):
	made static

	* fvwm/fvwmdebug.c:
	removed outdated file that was never used

	* fvwm/move_resize.c (move_window_doit):
	fixed GNOME and EWMH hints when unsticking a window

	* fvwm/virtual.c (CMD_MoveToDesk):
	unstick windows when MoveToDesk is used

	* fvwm/builtins.c:
	* fvwm/windowshade.c (CMD_WindowShade):
	(CMD_WindowShadeAnimate):
	functions moved to windowshade.c

	* fvwm/window_flags.h:
	* fvwm/menus.c (pop_menu_up):
	* fvwm/builtins.c (CMD_WindowShade):
	* fvwm/move_resize.c (resize_window):
	* fvwm/icons.c (AutoPlaceIcon):
	* fvwm/borders.c (SetupFrame):
	don't use HAS_BOTTOM_TITLE any more
	(ButtonPosition):
	function removed

	* fvwm/geometry.c (get_title_font_width_and_offset):
	* fvwm/geometry.c (set_window_border_size):
	* fvwm/geometry.c (is_window_border_minimal):
	* fvwm/geometry.c (get_window_borders_no_title):
	* fvwm/geometry.c (get_shaded_client_window_pos):
	* fvwm/geometry.c (get_icon_corner):
	* fvwm/geometry.c (get_title_gravity):
	* fvwm/geometry.c (get_title_geometry):
	* fvwm/borders.c (get_button_number):
	new functions

	* fvwm/borders.c (SetupFrame):
	(SetShape):
	* fvwm/events.c (HandleShapeNotify):
	* fvwm/borders.c (SetupTitleBar):
	* fvwm/update.c (apply_window_updates):
	* fvwm/add_window.c (setup_window_font):
	removed title_top_height

	* libs/defaults.h (WINDOW_FREAKED_OUT_SIZE):
	renamed

	* fvwm/events.c (SendConfigureNotify):
	* fvwm/events.c (HandleConfigureRequest):
	preparations for W/E titles
	don't use title_top_height any more

	* fvwm/ewmh_events.c (ewmh_WMStateShaded):
	use title_dir flags

	* fvwm/geometry.c (get_window_borders):
	* fvwm/style.c (parse_and_set_window_style):
	(check_window_style_change):
	* fvwm/style.h (SCSET_TITLE_DIR):
	* fvwm/window_flags.h (GET_TITLE_DIR):
	* fvwm/fvwm.h (struct):
	replaced has_bottom_title flag with title_dir that can be DIR_N, DIR_S,
	DIR_W or DIR_E

	* libs/Parse.c (ParseDirectionArgument):
	* libs/Parse.h:
	use new type direction_type

2002-03-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/ewmh.c (EWMH_SetFrameStrut):
	use function from geometry.c to get the border size

	* fvwm/geometry.c (get_shaded_geometry):
	added code for shading in all directions

2002-03-07  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/bindings.c (ParseBinding): Handle key_string lengths up to 30.

2002-03-07  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FInitLocale):
	* fvwm/fvwm.c (main):
	Set the locale using "" as locale argument

2002-03-07  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm2.1:
	fixed some typos and indentation of several new variable entries

2002-03-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/functions.h (enum):
	* fvwm/functions.c (func_config):
	* fvwm/commands.h:
	* fvwm/conditional.c (CMD_ThisWindow):
	renamed command "This" to "ThisWindow"

	* fvwm/conditional.c (Circulate):
	"Current" no longer selects a random window when no window is focused

	* fvwm/icccm2.c (SetupICCCM2):
	removed debug fprintf

	* fvwm/functions.c (expand_extended_var):
	implemented new extended variables pointer.x, pointer.x, pointer.wx,
	pointer.wy, pointer.cx and pointer.cy.

	* libs/Parse.c (ParseDirectionArgument):
	allow N, S, W, E, NW, SW, SE, NE for direction arguments

	* fvwm/builtins.c (CMD_WindowShade):
	fixes for animated shading w/ titleatbottom+north and titleattop+south

2002-03-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (moveLoop):
	(resize_window):
	* fvwm/virtual.c (HandlePaging):
	moving/resizing windows opaque is much faster

2002-03-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (resize_resize_handle_windows):
	(change_resize_handle_windows):
	(setup_window_font):
	fixed changing the handlewidth style

	* fvwm/update.c (apply_window_updates):
	* fvwm/geometry.c (update_absolute_geometry):
	* fvwm/builtins.c (CMD_WindowShade):
	* fvwm/ewmh_events.c (ewmh_WMStateShaded):
	* fvwm/conditional.c (CreateConditionMask):
	* fvwm/geometry.c (get_shaded_geometry):
	* fvwm/session.c (MatchWinToSM):
	* fvwm/add_window.c (setup_window_structure):
	(AddWindow):
	* fvwm/window_flags.h (SHADED_DIR):
	* fvwm/fvwm.h (struct):
	implemented new WindowShade options "North" and "South" to allow shading
	a window in either direction, regardless of if the title is at the top
	or bottom.

	* libs/Module.c (module_expand_action):
	new convenience function for modules

2002-03-03  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1: Fixes to the font section.

2002-03-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/conditional.c (CMD_WindowId):
	set the correct context window for unmanaged windows

	* fvwm/icons.c (DrawIconWindow):
	raise the icon title even if it's too small to be expanded

	* fvwm/conditional.c (CMD_Cond):
	Fixed it the right way this time
	(CMD_Any):
	same fix for the 'Any' command
	(circulate_cmd):
	(CMD_Prev):
	(CMD_Next):
	(CMD_None):
	(CMD_Any):
	(CMD_Current):
	unified circulating functions into a single one
	(CMD_Pick):
	Pick allows to pick functions that have CirculateSkip set
	fixed a memory leak
	(select_cmd):
	(CMD_This):
	(CMD_Pick):
	(CMD_PointerWindow):
	unified selecting functions into a single one
	(CMD_PointerKey):
	(CMD_All):
	Allow user to override the default CirculateHit of these functions

	* fvwm/conditional.c (CMD_Cond):
	Fixed a problem w/ the window selection

	* fvwm/menus.h:
	* fvwm/menus.c:
	* fvwm/menudim.h:
	* fvwm/menudim.c:
	* fvwm/menustyle.h:
	* fvwm/menustyle.c:
	* fvwm/menucmd.c:
	* fvwm/menuitem.c:
	* fvwm/menuitem.h:
	moved some of the menu code into separate files
	more work on tear off menus; windowlist can now be torn off without a
	memory leak

	* fvwm/template.c:
	* fvwm/template.h:
	added templates for new source files

	* libs/Picture.c (fvwmlib_clone_color):
	new function

	* fvwm/menus.c (make_menu):
	(update_menu):
	removed unused parameter from make_menu()

	* fvwm/fvwm2.1 (Example):
	corrected statement about CaptureHonorsStartsOnPage being the default

2002-03-03  Mikhael Goikhman  <migo@homemail.com>

	* INSTALL.fvwm:
	* Makefile.am:
	* configure.in:
	added and documented --disable-bidi and --disable-perllib

2002-03-01  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/geometry.c (get_window_borders):
	fixed calculation of $[cw.y] and $[cw.height]

	* fvwm/move_resize.c (resize_move_window):
	windows are mo longer hilighted after ResizeMove or ResizeMoveMaximize

2002-03-01  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (resize_move_window):

2002-02-28  Dominik Vogt  <dominik.vogt@gmx.de>

	* configure.in:
	re-added --enable-xinerama-emulation option that was removed recently

2002-02-28  Mikhael Goikhman  <migo@homemail.com>

	* INSTALL.fvwm:
	* NEWS:
	* fvwm/fvwm2.1:
	several corrections and rewording

2002-02-28  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm2.1:
	New section FONT NAMES AND FONT LOADING

	* INSTALL.fvwm:
	* NEWS:
	Document --enable-xft

	* libs/Fft.c (get_FlocaleXftFont):
	Used the xft font height in the place of ascent+descent

	* fvwm/icons.c (DrawIconWindow):
	Fixed the fg colors of the icon title

2002-02-27  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/conditional.c (CMD_CondCase):
	fixed CondCase command
	(CMD_Cond):
	fixed numeric return codes

	* fvwm/add_window.c (CMD_Recapture):
	fixed focus loss w/ SloppyFocus and MouseFocus after RecaptureWindow

	* acinclude.m4 (smr_CHECK_LIB):
	disabled a destructing gnome_prefix logic again

	* fvwm/events.c (GetContext):
	* libs/Bindings.c (win_contexts):
	* libs/fvwmlib.h:
	new contexts for individual parts of the window border

2002-02-26  Mikhael Goikhman  <migo@homemail.com>

	* acinclude.m4:
	disabled a destructing gnome_prefix logic

	* configure.in:
	replaced fribidi detection mechanism, now fribidi-config is used

2002-02-26  olicha  <olivier.chapuis@free.fr>

	* acconfig.h (HAVE_XFT):
	* acinclude.m4:
	* configure.in:
	* libs/Fft.c (new file):
	* libs/Flocale.c (FlocaleLoadFont):
	(FlocaleUnloadFont):
	(FlocaleDrawString):
	(FlocaleTextWidth):
	(get_FlocaleFontSet):
	(get_FlocaleFont):
	(get_FlocaleFontOrFontSet):
	* libs/Flocale.h:
	* fvwm/Makefile.am:
	Added anti-alised font rendering using Xft. This is off by default.
	A font can now be given as a ";" separated list of either ","
	separated list of XFLD font name or Xft font name with "xft:" as
	prefix, e.g.:
          xft:Verdana:Regular:size=12:rgba=rgb;-adobe-*-medium-r-*--12-*,fixed
	See Flocale.h for details

	* fvwm/events.c (HandleExpose):
	* fvwm/menus.c (paint_item):
	Always clear the text area before drawing text with an Xft font

2002-02-26  Dominik Vogt  <dominik.vogt@gmx.de>

	* acinclude.m4 (smr_CHECK_LIB):
	fixed a bug with variable expansion and autoconf cache values

2002-02-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (seek_submenu_instance):
	(FindPopup):
	* fvwm/fvwm.c (InitVariables):
	some general menu clean up

	* fvwm/move_resize.c (AnimatedMoveAnyWindow):
	* fvwm/move_resize.h (resize_geometry_window):
	* fvwm/menus.c (animated_move_back):
	(pop_menu_up):
	(ParentalMenuRePaint):
	Removed the global variables for parental relativity.  Please *do not*
	use globals in menus.c or anywhere else.  I'm trying to remove most
	globals in the long run.

	* libs/Graphics.c (do_relieve_rectangle):
	removed debug code

	* fvwm/menus.c (MenuInteraction):
	fixed tearing off menus by selecting a tear off item with the keyboard

	* fvwm/menus.c (MenuInteraction):
	fixed menus not popping down sometimes

	* fvwm/functions.c (CMD_TearMenuOff):
	* fvwm/menus.c (AddToMenu):
	(MenuInteraction):
	(warp_pointer_to_item):
	(get_selectable_item_index):
	(get_selectable_item_from_index):
	(get_selectable_item_from_section):
	(menuShortcuts):
	(paint_item):
	(draw_tear_off_bar):
	* fvwm/menus.h (MI_IS_TEAR_OFF_BAR):
	New command "TearMenuOff" in menus.  In a normal item, this tears off
	the menu when selected.  If the item has no title, it is drawn as a
	dashed line too.  Pressing button 2 over a title tears out the menu too.
	some clean up

	* fvwm/menus.c (make_menu_window):
	fixed problem w/ mapping menus, performance enhancement

	* fvwm/builtins.c (CMD_Destroy):
	(CMD_Close):
	fixed core dump

	* fvwm/functions.c (execute_function):
	(expand_extended_var):
	(expand):
	new variable cond.rc that returns the last return code of a conditinal
	command

2002-02-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/conditional.c (CMD_Cond):
	(CMD_CondCase):
	(CMD_Break):
	* fvwm/commands.h:
	* fvwm/functions.h:
	* fvwm/functions.c:
	new conditional commands Cond, CondCase and Break

	* fvwm/ewmh_events.c (ewmh_WMStateSticky):
	(ewmh_WMStateShaded):
	(ewmh_WMState):
	(ewmh_MoveResize):
	(ewmh_WMStateHidden):
	(ewmh_WMDesktop):
	(ewmh_CloseWindow):
	(ewmh_ActiveWindow):
	(ewmh_DesktopGeometry):
	* fvwm/gnome.c (GNOME_HandlePropRequest):
	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/update.c (apply_window_updates):
	* fvwm/conditional.c (CMD_Pick):
	(CMD_Prev):
	(CMD_Next):
	(CMD_None):
	(CMD_Any):
	(CMD_Current):
	(CMD_PointerWindow):
	(CMD_This):
	(CMD_All):
	(CMD_Direction):
	(CMD_WindowId):
	* fvwm/read.c (run_command_stream):
	* fvwm/fvwm.c (Done):
	(SetRCDefaults):
	(StartupStuff):
	(main):
	* fvwm/module_interface.c (ExecuteModuleCommand):
	* fvwm/move_resize.c (handle_stick):
	* fvwm/add_window.c (AddWindow):
	* fvwm/events.c (HandleKeyPress):
	(HandleButtonPress):
	(HandleClientMessage):
	(HandleButtonRelease):
	(HandlePropertyNotify):
	* fvwm/builtins.c (CMD_DestroyDecor):
	(AddToDecor):
	(CMD_StrokeFunc):
	* fvwm/functions.h (func_type):
	* fvwm/functions.c (old_execute_function):
	(execute_function):
	(execute_complex_function):

	* fvwm/fvwm.h (fvwm_cond_func_rc):
	inplemented return codes OK, NO_MATCH and ERROR for conditional commands

	* fvwm/ConfigFvwmDefaults:
	set some default styles for tear off menu windows

	* fvwm/menus.c (menuShortcuts):
	ignore actions that would normally close a menu if it's a tear off menu
	<Backspace> creates a tear off menu
	<Escape> closes a tear off menu

	* fvwm/builtins.c (CMD_Delete):
	(CMD_Destroy):
	(CMD_Close):
	* fvwm/menus.c (DestroyMenu):
	(make_menu_window):
	(MenuInteraction):
	* fvwm/menus.h (MenuRootDynamic):
	Each menu window is created with a unique display to prevent fvwm from
	being killed when a tear off menu is destroyed.  Of course this is
	inefficient, but still better than writing a menu module.

2002-02-23  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	autogenerate perllib/FVWM/Module/Makefile

2002-02-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (moveLoop):
	fixed a problem with keyboard movement vs. EdgeResistance

2002-02-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c:
	fixed problem with root bindings and xfishtank

	* fvwm/windowlist.c (CMD_WindowList):
	applied patch by to Darren Marshall to fix placement of window list on
	wrong xinerama screen

	* libs/Parse.c (GetSuffixedIntegerArguments):
	integer arguments that must not have a suffix but have one are ignored

	* fvwm/icons.c (DeIconify):
	(Iconify):
	applied patch by Markus Schwarzenberg to fix a rare problem with the
	is_map_pending flag, iconified icons and restart

2002-02-22  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/commands.h:
	* fvwm/conditional.c (CMD_This):
	* fvwm/functions.c:
	* fvwm/functions.h:
	* fvwm/fvwm2.1:
	* NEWS:
	added new conditional command This

2002-02-21  Mikhael Goikhman  <migo@homemail.com>

	* acconfig.h:
	* configure.in:
	added fribidi library detection

2002-02-12  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.h (FlocaleFont):
	* libs/Flocale.c (get_FlocaleFont):
	(get_FlocaleFontSet):
	Compute the ascent and descent of the FlocaleFont structure directly
	from the XFontSetExtents data in the case of a fontset
	Added max_char_width to the FlocaleFont structure

	* libs/Makefile.am (libfvwm_a_SOURCES):
	* libs/GetFont.c:
	Removed libs/GetFont.c

	* fvwm/menus.c (FreeMenuStyle):
	(UpdateMenuStyle):
	(NewMenuStyle):
	(CMD_CopyMenuStyle):
	* fvwm/menus.h (MenuLook):
	Fixed default font handling font by using a new MenuLook flags
	USING_DEFAULT_FONT

	* fvwm/menus.c (UpdateMenuStyle):
	Fixed default font update

	* fvwm/fvwm.c (SetRCDefaults):
	(InitVariables):
	Load the real default font FALLBACK_FONT or MB_FALLBACK_FONT at
	fvwm initialization

2002-02-11  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	added FvwmPerl/* file generation

2002-02-11  olicha  <olivier.chapuis@free.fr>

	* INSTALL.fvwm:
	* NEWS:
	Multibyte news. Document --disable-compound-text and --disable-ewmh.

	* libs/Flocale.h:
	Added more documentation and change the MB_FALLBACK_FONT to
	"-*-fixed-medium-r-semicondensed-*-13-*,-*-fixed-medium-r-normal-*-14-*,
	-*-medium-r-normal-*-16-*" (with XFree) this should gives something
	more consistent with the none multibyte case.

2002-02-10  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.c (EWMH_RestoreInitialStates):
	(EWMH_ExitStuff):
	* fvwm/events.c (HandleUnmapNotify):
	(HandleReparentNotify):
	* fvwm/ewmh_events.c (ewmh_WMStateShaded):
	(ewmh_WMStateSticky):
	(ewmh_WMStateHidden):
	Restore various ewmh initial states when a window is  unmapped or
	reparented

2002-02-10  Mikhael Goikhman  <migo@homemail.com>

	* Makefile.am:
	* configure.in:
	added support for new perllib directory

2002-02-09  olicha  <olivier.chapuis@free.fr>

	* libs/fvwmlib.h:
	* libs/Flocale.c:
	* libs/Flocale.h:
	* acconfig.h:
	* configure.in:
	Rename I18N_MB to MULTIBYTE
	Added --disable-compound-text (COMPOUND_TEXT), so this is on by default

	* libs/Flocale.c (*):
	* libs/Flocale.h:
	New Font and Text API. A cache is used for fonts information. Font
	loading is more powerfull as both font or fontset can be loaded.
	See Flocale.h for details, more comments will be added soon.
	Fortunately, it seems that there are no more memory problems with
	--enable-multibyte!
	If COMPOUND_TEXT, then non XA_STRING text properties are converted
	with XmbTextPropertyToTextList

	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/misc.c (NewFontAndColor):
	* fvwm/icons.h:
	* fvwm/misc.h:
	* fvwm/menus.c (FreeMenuStyle):
	(NewMenuStyle):
	(CMD_CopyMenuStyle):
	(draw_underline):
	(calculate_item_sizes):
	(size_menu_horizontally):
	(paint_item):
	* fvwm/builtins.c (CMD_DefaultFont):
	(ApplyDefaultFontAndColors):
	* fvwm/add_window.c (destroy_icon_font):
	(setup_icon_font):
	(destroy_window_font):
	(setup_window_font):
	(free_window_names):
	(setup_window_name):
	(setup_icon):
	* fvwm/fvwm.h (FvwmWindow):
	* fvwm/move_resize.c (DisplayPosition):
	(resize_geometry_window):
	(DisplaySize):
	* fvwm/fvwm.c (InitVariables):
	* fvwm/icons.c (DrawIconWindow):
	(setup_icon_title_size):
	* fvwm/borders.c (RedrawTitle):
	(DrawMultiPixmapTitlebar):
	* fvwm/screen.h (ScreenInfo):
	Use the new Text and Font API

2002-02-07  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/module_interface.c (PositiveWrite):
	fixed core dump when a module died in the select of PositiveWrite()

	* fvwm/module_interface.c (initModules):
	(ClosePipes):
	(do_execute_module):
	(KillModule):
	(KillModuleByName):
	(CMD_SendToModule):
	(PositiveWrite):
	* fvwm/modconf.c (ModuleConfig):
	removed WITHOUT_KILLMODULE_ALIAS_SUPPORT ifdef; always off now

	* fvwm/icons.c (GetXPMFile):
	suppress unnecessary error message for xmb icons

	* fvwm/misc.c (fvwm_msg):
	* fvwm/misc.h (enum):
	added new fvwm_msg type "OLD" for deprecated commands

2002-02-07  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	generate fvwmbug, not fvwmbug.sh; prepare LOCAL_BUGADDR for it

	* INSTALL.fvwm:
	New section "Bug Reports".

2002-02-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/update.c (apply_window_updates):
	fixed propagation of window border and title colours to the modules

2002-02-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (do_menu):
	fixed leaving tear off menus when something is selected with the mouse

2002-02-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleEnterNotify):
	* fvwm/menus.c:
	more work on tear off menus

2002-02-02  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.h (XEVMASK_TEAR_OFF_MENU):
	* fvwm/menus.c (menu_enter_tear_off_menu):
	(find_entry):
	(menuShortcuts):
	(MenuInteraction):
	(pop_menu_up):
	properly calculate pointer position in tear off menus
	(MenuInteraction):
	fixed active wait w/ poopup/popdown delays

	* fvwm/windowlist.c (CMD_WindowList):
	don't initialise some variables twice

2002-01-31  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c (CaptureOneWindow):
	properly recapture tear off menus

	(IS_MESSAGE_IN_MASK):
	(is_message_selected):
	(PositiveWrite):
	(PositiveWrite):
	* fvwm/schedule.c (deschedule):
	(squeue_execute):
	* fvwm/events.c (My_XNextEvent):
	* libs/queue.h:
	* fvwm/module_interface.c (ClosePipes):
	(CMD_ModuleSynchronous):
	(KillModule):
	performance enhancements; made macros out of simple functions

	* fvwm/builtins.c (CMD_WindowShade):
	don't redraw the decorations if window was not shaded or unshaded

	* fvwm/schedule.c (deschedule_obj_func):
	(execute_obj_func):
	fixed core dump when a scheduled command deschedules itself

2002-01-31  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	FvwmButtons news

2002-01-31  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	* fvwm/move.c (moveLoop):
	while moving if Mod1 (Alt/Meta) is pressed ignore snap attraction

	* fvwm/session.c (get_version_string):
	switch from static to date-based version string

	* configure.in:
	remove --enable-kanji compatibility option

	* fvwm/schedule.h:
	* libs/queue.h:
	fix warnings, gcc compains on having something after #endif

2002-01-31  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/builtins.c (CMD_Delete):
	(CMD_Close):
	(CMD_Destroy):
	don't crash fvwm when trying to close a tear off menu

	* fvwm/decorations.c (is_function_allowed):
	* fvwm/menus.c (menu_expose):
	(do_menu):
	* fvwm/events.c (HandleReparentNotify):
	(HandleUnmapNotify):
	* fvwm/add_window.c (AddWindow):
	(AddWindow):
	* fvwm/fvwm.h (struct):
	* fvwm/add_window.c (CaptureAllWindows):
	(CaptureOneWindow):
	* fvwm/events.h (flush_property_notify):
	* fvwm/events.c (HandleMapRequestKeepRaised):
	started work on tear off menus

	* fvwm/fvwm.c (main):
	* fvwm/events.c (CMD_Sync):
	(CMD_Synchronize):
	* fvwm/commands.h (CMD_Synchronize):
	* fvwm/functions.h (enum):
	* fvwm/functions.c (func_config):
	new commands XSync and XSynchronize for debugging

	* fvwm/conditional.c (CreateConditionMask):
	(MatchesConditionMask):
	* fvwm/builtins.c (CMD_State):
	* fvwm/fvwm.h (struct):
	* fvwm/functions.h:
	* fvwm/commands.h:
	* fvwm/functions.c (func_config):
	new command "State"
	new condition "State"

	* libs/queue.c:
	fixed core dump

2002-01-30  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/module_interface.c (AddToMessageQueue):
	(initModules):
	(DeleteMessageQueueBuff):
	(FlushMessageQueue):
	* fvwm/events.c (My_XNextEvent):
	* fvwm/module_interface.c (AddToCommandQueue):
	(ExecuteCommandQueue):
	use code from queue.c

	* fvwm/schedule.c:
	* fvwm/queue.c:
	* fvwm/queue.h:
	* fvwm/events.c (My_XNextEvent):
	"Schedule 0" commands are executed before event handling
	moved some of the chedule code into a new queue library

2002-01-30  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c (FInitLocale): Fixed a miss print in an error msg

2002-01-30  olicha  <olivier.chapuis@free.fr>

	* libs/Flocale.c:
	* libs/Flocale.h:
	* libs/Makefile.am:
	* fvwm/fvwm.c (main):
	New libs files Flocale.c and Flocale.h with a function to set the
	locale as the Xlib prog man says to do it. Use it in fvwm.c. There is
	also a function to get the charset (from ewmh_name.c) and which
	setlocale if this has not been done with the above function. This
	function is also call at fvwm2 init

	* fvwm/ewmh_names.c (charset_to_utf8):
	(utf8_to_charset):
	Use the Fcharset variable and remove get_charset

	* fvwm/ewmh_names.c (EWMH_SetVisibleName):
	A minor fix

	* libs/GetFont.c (GetFontSetOrFixed):
	Free the missing charset list as suggested by Alexander Kotelnikov.
	Report problems with missing charset only 5 times. Remove the
	STRICTLY_FIXED code

2002-01-30  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	a patch to config.status to generate scripts executable, may be handy;
	added generation of utils/fvwm24_convert

2002-01-30  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/schedule.c:
	* fvwm/functions.c (expand_extended_var):
	implemented $[schedule.last] and $[schedule.next] variables
	implemented new command "Deschedule"

	* fvwm/misc.c (get_server_time):
	fixed MouseFocus

2002-01-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/misc.c (get_server_time):
	* fvwm/events.c (My_XNextEvent):
	* fvwm/icccm2.c (SetupICCCM2):
	* fvwm/functions.h:
	* fvwm/commands.h:
	* fvwm/functions.c (func_config):
	* fvwm/schedule.c:
	implemented new command "Schedule"

	* fvwm/builtins.c (CMD_Exec):
	applied job control patch by Alexander Kotelnikov using the portable
	version of setpgrp()

	* libs/setpgrp.c (fvwm_setpgrp):
	* libs/setpgrp.h (fvwm_setpgrp):
	* libs/Makefile.am:
	* configure.in:
	added checks for setpgrp and setpgid

2002-01-29  olicha  <olivier.chapuis@free.fr>

	* acinclude.m4:
	Better test for iconv second argumeny

	* configure.in:
	Use gnu libiconv in priority against the system iconv

2002-01-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/stack.c (RaiseOrLowerWindow):
	(restack_windows):
	(collect_transients_recursive):
	* fvwm/icons.c (get_visible_icon_window_count):
	fixed stack ring corruption with icons that have either no picture or
	no title

2002-01-28  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_names.c (charset_to_utf8):
	(utf8_to_charset):
	(EWMH_SetVisibleName):
	(get_charset):
	Better message errors in get_charset, use UTF-8 in the place of UTF8,
	set the ewmh visible (icon) name only if the fvwm visible name is
	different from the ICCCM (icon) window name, limit the number of
	conversions error messages to 10

2002-01-28  olicha  <olivier.chapuis@free.fr>

	* fvwm/functions.c (func_config):
	* fvwm/commands.h:
	* fvwm/builtins.c (CMD_PropertyChange):
	New undocumented command PropertyChange to send MX_PROPERTY_CHANGE
	messages

	* fvwm/module_interface.h:
	* fvwm/module_interface.c (BroadcastPropertyChange):
	* libs/Module.h (MX_PROPERTY_CHANGE):
	New module message MX_PROPERTY_CHANGE for all propose messages.

	* fvwm/events.c (HandlePropertyNotify):
	* libs/defaults.h:
	Send a MX_PROPERTY_CHANGE message with MX_PROPERTY_CHANGE_BACKGROUND
	as argument when fvwm2 detects that the root background change
 	Removed the ROOT_BG_CHANGE_STRING stuff

2002-01-27  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS, configure.in:
	changed version to 2.5.1

	* fvwm/misc.c (get_pointer_fvwm_window):
	* fvwm/commands.h:
	* fvwm/functions.c (func_config):
	* fvwm/conditional.c (CreateConditionMask):
	(MatchesConditionMask):
	(CMD_PointerWindow):
	(CreateConditionMask):
	(CMD_Any):
	* fvwm/fvwm.h (WindowConditionMask):
	new conditions focused, !focused, haspointer, !haspointer
	new command PointerWindow that works like Current but on the window that
	currently contains the pointer
	new command Any which works like None but inverts the condition
	fixed parsing of conditions with more than one comma

	* fvwm/module_interface.h:
	* fvwm/module_interface.c (do_execute_module):
	(initModules):
	* libs/Module.h (MAX_XMSG_MASK):
	fixed default message mask for modules

	* fvwm/update.c (flush_window_updates):
	* fvwm/virtual.c (UnmapDesk):
	(MapDesk):
	(do_move_window_to_desk):
	* fvwm/icons.c (DeIconify):
	(DeIconify):
	* fvwm/events.c (HandlePropertyNotify):
	(HandleMapRequestKeepRaised):
	(HandleMapNotify):
	(HandleButtonPress):
	(HandleEnterNotify):
	(HandleLeaveNotify):
	* fvwm/focus.c (DoSetFocus):
	(MoveFocus):
	(SetFocusWindow):
	(ReturnFocusWindow):
	(DeleteFocus):
	(ForceDeleteFocus):
	(FocusOn):
	(restore_focus_after_unmap):
	Fixed a race condition with M_FOCUS_CHANGE events and window updates by
	suppressing the M_FOCUS_CHANGE message if the focus does not change in
	the flush_window_updates() function.

2002-01-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/placement.c (PlaceWindow):
	minor performance enhancement

2002-01-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/defaults.h:
	* fvwm/menus.c (MenuInteraction):
	(pointer_in_active_item_area):
	(pointer_in_passive_item_area):
	new menu style PopupActiveArea

2002-01-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (CMD_ResizeMaximize):
	(CMD_ResizeMoveMaximize):
	fixed ResizeMaximize and ResizeMoveMaximize on pages other than 0 0

2002-01-21  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm2.1:
	s/Penalities/Penalties/g

2002-01-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleLeaveNotify):
	(HandleEnterNotify):
	* fvwm/modconf.c (ModuleConfig):
	* fvwm/update.c (apply_window_updates):
	* fvwm/module_interface.c (BroadcastWindowIconNames):
	(CMD_Send_WindowList):
	(initModules):
	(do_execute_module):
	(PositiveWrite):
	(CMD_set_nograb_mask):
	(CMD_set_sync_mask):
	(CMD_set_mask):
	(set_mseggage_mask):
	(is_message_in_mask):
	(is_message_selected):
	* libs/Module.h:
	rewrote message interface to allow more than 32 messages with minimal
	changes in the existing interfaces.
	new module messages MX_ENTER_WINDOW and MX_LEAVE_WINDOW

	* fvwm/style.h:
	* fvwm/style.c (parse_and_set_window_style):
	* fvwm/fvwm.h (struct):
	* fvwm/events.c (HandleButtonPress):
	implemented new styles MouseFocusClickIgnoreMotion and
	MouseFocusClickIgnoreMotionOff

	* fvwm/focus.c (focus_grab_buttons):
	fixed button mask for > 5 buttons

2002-01-19  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_icons.c (ewmh_SetWmIconFromPixmap):
	Save and restore the icon_pixmap_w and add comments

2002-01-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleEnterNotify):
	fixed EnterNotify events for icons

2002-01-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/*.c:
	* fvwm/stack.c (overlap_box):
	(overlap):
	* fvwm/icons.c (clear_icon):
	* fvwm/add_window.c (destroy_icon):
	* fvwm/fvwm.h (FvwmWindow):
	* fvwm/geometry.c (get_window_borders):
	(get_client_geometry):
	* libs/fvwmrect.h (struct):
	* fvwm/functions.c (expand_extended_var):
	implemented new extended variables cw.x, cw.y, cw.width, cw.height that
	return the geometry of the client window
	implemented new extended variables it.x, it.y, it.width, it.height that
	return the geometry of the icon title
	implemented new extended variables ip.x, ip.y, ip.width, ip.height that
	return the geometry of the icon picture
	implemented new extended variables i.x, i.y, i.width, i.height that
	return the geometry of the whole icon
	fixed $[w.height] when the window is shaded
	cleaned up icon geometry code

2002-01-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/commands.h:
	* fvwm/functions.c:
	* fvwm/functions.h:
	* fvwm/move_resize.c (unmaximize_fvwm_window):
	(maximize_fvwm_window):
	(CMD_Maximize):
	(CMD_ResizeMaximize):
	(CMD_Resize):
	(resize_window):
	(CMD_ResizeMove):
	(resize_move_window):
	(CMD_ResizeMoveMaximize):
	New command ResizeMaximize.  Works like Resize, but modifies the
	maximized size of the window, not the normal size.
	New command ResizeMoveMaximize that works similarly.
	(resize_move_window):
	fixed ResizeMove command

	* fvwm/functions.c (expand):
	fixed core dump when using something like $[$v] in a command

2002-01-17  olicha  <olivier.chapuis@free.fr>

	* libs/defaults.h (ROOT_BG_CHANGE_STRING):
	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/fvwm.c (InternUsefulAtoms):
	* fvwm/extern.h:
	Send the ROOT_BG_CHANGE_STRING to modules when fvwm2 detects
	that the root background has changed. This uses the _XSETROOT_ID
	and XROOTPMAP_ID properties

	* fvwm/ewmh.c (atom_get):
	Be paranoid

2002-01-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/update.c (flush_window_updates):
	fixed unnecessary window style updates

	* fvwm/style.c (parse_and_set_window_style):
	* fvwm/add_window.c (RestoreWithdrawnLocation):
	(AddWindow):
	(setup_frame_attributes):
	* fvwm/fvwm.h (FvwmWindow):
	Fvwm does no longer disable backing store on all of its windows. This
	cause too many problems with some applications, e.g. rdist.  Introduced
	the new style BackingStoreWindowDefault that tells fvwm not to modify
	the backing store attribute on the client window - which now is the
	default.

2002-01-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/commands.h:
	* fvwm/functions.c (func_config):
	* libs/Module.c (SetMessageMask2):
	(SetNoGrabMask2):
	* libs/Module.h:

	* configure.in:
	fixed building with libstroke-0.5.1 on Solaris8

	* fvwm/stack.c (new_layer):
	* fvwm/borders.c (DrawButton):
	(RedrawButtons):
	(RedrawTitle):
	* fvwm/builtins.c (SetLayerButtonFlag):
	(do_button_style):
	* fvwm/screen.h (struct):
	Applied the layer button patch by Richard Curnow with a few
	modifications

	* fvwm/icons.c (GetIconBitmap):
	(GetIconWindow):
	Ignore client icons that have the wrong depth

	* fvwm/events.c (HandleEnterNotify):
	Tried to fix focusing problem w/ unclutter.

2002-01-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/functions.c (CheckActionType):
	remove debug code

	* fvwm/menus.c (paint_item):
	* fvwm/misc.c (is_function_allowed):
	* fvwm/move_resize.c (is_move_allowed):
	(is_resize_allowed):
	(is_maximize_allowed):
	* fvwm/decorations.c (check_if_function_allowed):
	combined all these functions into a new one
	use this function everywhere
	use the Fixed... styles to decide if a menu item is greyed or not

2002-01-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleExpose):
	eat up expose events even if the server claims that the expose count is
	zero; fixes a problem with many redraws of windows that are uncovered
	by shading a window above them

2002-01-10  olicha  <olivier.chapuis@free.fr>

	* fvwm/focus.c (DoSetFocus):
	* fvwm/move_resize.c (CMD_Maximize):
	(CMD_Maximize):
	(handle_stick):
	(CMD_ResizeMove):
	(CMD_Resize):
	* fvwm/icons.c (DeIconify):
	(DeIconify):
	(Iconify):
	* fvwm/gnome.c (GNOME_HandlePropRequest):
	* fvwm/ewmh_names.c (EWMH_WMName):
	* fvwm/events.c (HandleFocusIn):
	(HandlePropertyNotify):
	(HandleMapNotify):
	(HandleButtonPress):
	(HandleLeaveNotify):
	(HandleExpose):
	* fvwm/builtins.c (CMD_UpdateDecor):
	(CMD_WindowShade):
	* fvwm/borders.c (draw_clipped_decorations):
	(DrawDecorations):
	(RedrawDecorations):
	* fvwm/borders.h:
	Added a new argument to DrawDecoration similar to draw_window_parts,
	which indicate which part of the decor should be cleared. At present
	time only CLEAR_FRAME is taken in account and this is used in
	ShadeWindow to draw the decoration without flickering. This argument
	may be used in the future to reduce opaque resizing flickering

	* fvwm/builtins.c (CMD_WindowShade):
	Draw the decoration during unshading a window

	* fvwm/menus.c (ParentalMenuRePaint):
	Fixed transparent animated menu again

	* NEWS:
	Some update

2002-01-09  olicha  <olivier.chapuis@free.fr>

	* fvwm/style.c (CMD_Style):
	free all the elements of the ptmpstyle before freeing it

	* fvwm/menus.c (ParentalMenuRePaint):
	Fixed transparent animated menu with HilightBackOff

2002-01-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/style.c (merge_styles):
	fixed core dump w/ multiple use of the UseStyle style and HilightBack
	in the copied style

2002-01-07  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/modconf.c (send_ignore_modifiers):
	(send_move_threshold):
	(send_click_time):
	(send_colorsets):
	(send_color_limit):
	(send_image_path):
	(send_desktop_geometry):
	(CMD_Send_ConfigInfo):
	moved code into new functions

	* libs/defaults.h (DEFAULT_MODS_UNUSED):
	moved to defaults.h

	* fvwm/bindings.c (CMD_IgnoreModifiers):
	* fvwm/module_interface.c (broadcast_xinerama_state):
	* fvwm/modconf.c (send_ignore_modifiers):
	broadcast IgnoreModifiers to modules

	* fvwm/bindings.c (CMD_IgnoreModifiers):
	fixed IgnoreModifiers command without arguments
	* fvwm/fvwm2.1:
	corrected documentation of IgnoreModifiers command

2002-01-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/add_window.c:
	* fvwm/cursor.c:
	* fvwm/virtual.c:
	* fvwm/builtins.c:
	* fvwm/bindings.c:
	* fvwm/move_resize.c:
	* fvwm/events.c:
	* fvwm/stack.c:
	* fvwm/module_interface.c:
	* fvwm/focus.c:
	* fvwm/placement.c:
	* fvwm/menus.c:
	* fvwm/icons.c:
	* fvwm/fvwm.h (FvwmWindow):
	remnamed icon_w member to icon_title_w

2002-01-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/icons.c (RedoIconName):
	fixed sizing of icon title for icons without a pixmap
	(RedoIconName):
	(CreateIconWindow):
	(Iconify):
	(CreateIconWindow):
	rewrote icon title layout and moved the constants to defaults.h

	* fvwm/menus.c (menuShortcuts):
	(handle_emacs_bindings):
	implemented emacs style bindings in menus [ctrl-a/b/e/f/g/left/right]

2002-01-04  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1: Language checks done.
	.IR command not in column 1 fixed.

2002-01-04  olicha  <olivier.chapuis@free.fr>

	* fvwm/move_resize.c (AnimatedMoveAnyWindow):
	(AnimatedMoveOfWindow):
	(AnimatedMoveFvwmWindow):
	(move_window_doit):
	* fvwm/menus.c (ParentalMenuRePaint):
	(animated_move_back):
	(pop_menu_up):
	Fixed transparent animated menu

2002-01-03  olicha  <olivier.chapuis@free.fr>

	* fvwm/move_resize.c (is_resize_allowed):
	(is_move_allowed):
	Do not check if moveing/resizeing is MWM allowed for a no user request
	This fix for example FvwmWinList with MwmFunctions & NoOverride

	* fvwm/move_resize.c (AnimatedMoveAnyWindow):
	* fvwm/move_resize.c (is_move_allowed):
	Allowed moving if tmp_win is null and check if move is allowed and
	not resize in AnimatedMoveAnyWindow. This fix animated menu

	* fvwm/ewmh.c (ewmh_AllowsMaximize):
	(ewmh_AllowsMove):
	(ewmh_AllowsResize):
	Check as a user request

	* fvwm/fvwm2.1:
        * fvwm/move_resize.c (CMD_Maximize):
	(MaximizeWidth):
	(MaximizeHeight):
	New global flags "layer" and "ewmiwa". layer causes the grow* methods
	to ignore the windows with a layer less or equal to the layer of
	the maximized window. ewmhiwa causes to ignore the ewmh working area.
	Reorder a bit the Maximize documentation

	* fvwm/fvwm2.1:
	* fvwm/functions.c (expand_extended_var):
	New variables $[desk.name<n>] to get the desktop names

2002-01-01  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/read.c (CMD_Read): Correct message on missing file when using
	Read with full path.

2002-01-01  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/defaults.h:
	* fvwm/misc.c (GrabEm):
	reduced number of grab attempts from 500 to 50 @ 10 ms = 0.5 seconds */

	* fvwm/events.c (HandleUnmapNotify):
	(HandleMapRequestKeepRaised):
	(check_map_request):
	fixed unmanaged window when window was mapped/unmapped/mapped too fast

	* fvwm/add_window.c (FetchWmProtocols):
	(setup_wm_hints):
	* fvwm/fvwm.h (FvwmWindow):
	* fvwm/events.c (HandleEnterNotify):
	(HandlePropertyNotify):
	* fvwm/focus.c (refresh_focus):
	(set_focus_model):
	fixed focus problems with netscape and ddd

2001-12-31  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Target.c (fvwmlib_keyboard_shortcuts):
	* libs/Pointer.c (GetLocationFromEventOrQuery):
	* fvwm/virtual.c (HandlePaging):
	* fvwm/move_resize.c (GetOnePositionArgument):
	(InteractiveMove):
	(AnimatedMoveAnyWindow):
	(moveLoop):
	(CMD_Resize):
	* fvwm/module_interface.c (ExecuteModuleCommand):
	* fvwm/menus.c (do_menu):
	(menuShortcuts):
	(MenuInteraction):
	(get_menu_options):
	* fvwm/functions.c (execute_complex_function):
	* fvwm/events.c (HandleClientMessage):
	(WaitForButtonsUp):
	* fvwm/conditional.c (CMD_Direction):
	* fvwm/builtins.c (CMD_CursorMove):
	(CMD_FakeClick):
	(CMD_StrokeFunc):
	handle return code of XQueryPointer everywhere; necessary for dual head

	* fvwm/misc.c (GrabEm):
	Pointer was warped to other screen with a dual head setup

2001-12-31  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_events.c (ewmh_WMStateModal):
	Removed some code which try to raise ewmh modal window over
	its transientfor window; this seems not possible without a new style
	or a bad hack in stack.c

2001-12-30  Dan Espen  <dane@mk.telcordia.com>

	* libs/GetFont.c (GetFontSetOrFixed): Cleanup the message about the
	fallback to fixed font so it shows the right font for I18N.

2001-12-30  olicha  <olivier.chapuis@free.fr>

	* fvwm/window_flags.h:
	* fvwm/session.c (MatchWinToSM):
	(LoadWindowStates):
	(SaveWindowStates):
	(get_version_string):
	* fvwm/move_resize.c (CMD_Maximize):
	(handle_stick):
	* fvwm/icons.c (CMD_Iconify):
	* fvwm/ewmh.c (EWMH_SetWMState):
	(EWMH_WindowInit):
	(EWMH_ExitStuff):
	(EWMH_SetAllowedActions):
	(EWMH_WindowInit):
	* fvwm/ewmh.h:
	* fvwm/ewmh_intern.h:
	* fvwm/ewmh_events.c (ewmh_WMState*):
	* fvwm/builtins.c (CMD_WindowShade):
	* fvwm/stack.c (new_layer):
	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h (struct):
	* fvwm/add_window.c (setup_window_structure):
	(setup_window_name):
	(setup_icon):
	* fvwm/style.c (check_window_style_change):
	The skip list and modal ewmh window states are now updated after
	an use/ignore ewmh state style changes. The other ewmh states are
	starting state only. All the initial ewmh states are keep in memory
	for FvwmIdent.

	* fvwm/ewmh.c (EWMH_Handle*):
	* fvwm/fvwm.h:
	Set the ewmh_window_type to an int (and not the corresponding atom)
	accordingly to the window type

	* fvwm/ewmh_events.c (ewmh_WMStateModal):
	ewmh modal transient windows have RaiseTransient and GrabFocusTransient
	style

	* fvwm/ewmh.c (EWMH_GetStyle):
	* fvwm/ewmh_events.c (ewmh_WMDesktop):
	Respect the _NET_WM_DESKTOP hints at window mapping as a StartsOnDesk
	hints

	* libs/vpacket.h (ConfigWinPacket):
	* fvwm/module_interface.c (CONFIGARGSNEW):
	(OLDCONFIGARGS):
	(CONFIGARGS):
	Added ewmh_hint_layer, ewmh_hint_desktop and ewmh_window_type to the
	cfgpacket for FvwmIdent

2001-12-20  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (resize_geometry_window):
	fixed wrong size calculation of geometry window

2001-12-19  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_names.c (convert_charsets):
	More precise error messages

	* fvwm/fvwm2.1:
	A few formatting fixes

2001-12-18  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/gnome.c (GNOME_SetHints):
	fixed window getting frozen into position upon a recapture or restart

2001-12-17  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1: Fixup wording in EWMHIconicStateWorkaround.

2001-12-17  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm2.1:
	Tried to clarify the EWMHIconicStateWorkaround BugOpts

	* fvwm/ewmh.c (delete_kst_item):
	(set_kde_sys_tray):
	(EWMH_IsKdeSysTrayWindow):
	(EWMH_ManageKdeSysTray):
	* fvwm/events.c (HandleReparentNotify):
	Fixed reparenting management of kde system tray windows and
	added some off debugging code

	* fvwm/virtual.c (CMD_DesktopName):
	Removed some debugging code

2001-12-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.h (struct):
	* fvwm/window_flags.h (IS_FIXED_PPOS):
	* fvwm/style.h (SCSET_IS_FIXED_PPOS):
	* fvwm/style.c (parse_and_set_window_style):
	(check_window_style_change):
	implemented new styles FixedPPosition, FixedUSPosition, FixedSize,
	FixedUSSize, FixedPSize and Variable PPosition, ...

	* fvwm/events.c (HandleConfigureRequest):
	* fvwm/ewmh.c (ewmh_AllowsResize):
	(is_resize_allowed):
	(ewmh_AllowsMove):
	(ewmh_AllowsMove):
	* fvwm/gnome.c (GNOME_SetHints):
	(AnimatedMoveAnyWindow):
	(CMD_ResizeMove):
	use new functions
	* fvwm/move_resize.c (is_move_allowed):
	(is_resize_allowed):
	(is_maximize_allowed):
	new functions to clean up some code

2001-12-15  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1: Doc fixups.

2001-12-15  olicha  <olivier.chapuis@free.fr>

	* fvwm/builtins (CMD_BugOpts):
	* fvwm/ewmh.c:
	* fvwm/ewmh_conf.c (EWMH_BugOpts):
	* fvwm/ewmh_events.c (ewmh_StateHidden):
	* fvwm/fvwm.c (InitVariables):
	* fvwm/fvwm2.1:
	* fvwm/icons.c (CMD_Iconify):
	* fvwm/screen.h:
	* fvwm/virtual.c (unmap_window):
	(map_window):
	Implemented the new _NET_WM_STATE_HIDDEN ewmh state that allows
	to fix the IconicState problems in vitrual.c. New BugOpts
	EWMHIconicStateWorkaround for supporting current KDE versions

	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/ewmh.c (ewmh_AllowsYes):
	* fvwm/ewmh.h:
	(ewmh_AllowsClose):
	(ewmh_AllowsMaximize):
	(ewmh_AllowsMove):
	(ewmh_AllowsResize):
	(EWMH_SetAllowedActions):
	(EWMH_WindowInit):
	* fvwm/style.c (check_window_style_change):
	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h:
	Implemented _NET_WM_ALLOWED_ACTIONS from version 1.2 of the wm-spec

2001-12-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/borders.c (RedrawTitle):
	* libs/defaults.h (WINDOW_TITLE_OFFSET):
	fixed 'stick' lines with long titles

2001-12-11  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	* fvwm/commands.h:
	* fvwm/ewmh.c (ewmh_SetWorkArea):
	* fvwm/ewmh.h:
	(ewmh_ComputeAndSetWorkArea):
	(ewmh_HandleDynamicWorkArea):
	(EWMH_GetWorkAreaIntersection):
	(EWMH_GetStrutIntersection):
	(get_intersection):
	* fvwm/ewmh_name.c (EWMH_SetDeskNames):
	* fvwm/function.c:
	* fvwm/function.h:
	* fvwm/fvwm.c (InitVariables):
	* fvwm/fvwm2.1:
	* fvwm/modconf.c (send_desktop_names):
	(CMD_Send_ConfigInfo):
	* fvwm/placement.c (get_next_x):
	(get_next_y):
	* fvwm/screen.h:
	* fvwm/virtual.c (CMD_DesktopName):
	* fvwm/virtual.h:
	(GetDesktopName):
	New command "DesktopName desk name" to define desktops names for
	the FvwmPager, the WindowList and ewmh compliant pagers.
	Desktops information (desk, desk name, working areas) is stored in a
	new list sub structure of Scr, DesktopsInfo. The head of the list
	contains generic information for desks that are not in the list.

	* fvwm/windowlist.c (get_desk_title):
	(CMD_WindowList):
	* fvwm/fvwm2.1:
	* NEWS:
	New window list options NoDeskNum, NoCurrentDeskTitle,
	TitleForAllDesks, NoNumInDeskTitle. Document these options and also
	the NoGeometry and NoGeometryInfo options.

	* fvwm/ewmh.c:
	* fvwm/ewmh_names.c:
	* fvwm/ewmh_icons.c:
	Added some static declarations

	* fvwm/ewmh_names.c (EWMH_SetVisibleName):
	It seems that UTF8 names should not be terminated by a 0

	* fvwm/ewmh.c (EWMH_SetClientListStacking):
	Set the stacking list in the good orders

2001-12-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* vms/config.h:
	* fvwm/functions.c:
	* fvwm/commands.h:
	* fvwm/builtins.c:
	* fvwm/borders.c:
	removed all MULTISTYLE ifdefs

	* fvwm/borders.c (RedrawTitle):
	fixed title drawing into relief

2001-12-08  olicha  <olivier.chapuis@free.fr>

	* fvwm/style.c:
	* fvwm/style.h:
	* fvwm/fvwm.h:
	* fvwm/update.c:
	* fvwm/update.h:
	* fvwm/window_flags.h:
	* fvwm/fvwm2.1:
	s/extended_window_name/indexed_window_name/i
	s/extended_icon_name/indexed_icon_name/i
	s/do_update_window_name/do_update_visible_window_name/
	s/do_update_icon_name/do_update_visible_icon_name/

	* fvwm/style.c (CMD_Style):
	* fvwm/style.h:
	(parse_and_set_window_style):
	Split CMD_Style into CMD_Style and parse_and_set_window_style

2001-12-06  olicha  <olivier.chapuis@free.fr>

	* fvwm/add_window.c (setup_window_name_count):
	(setup_icon_name_count):
	Better determination of the window and icon names index

	* fvwm/add_window.c (AddWindow):
	(setup_icon):
	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/ewmh_names.c (EWMH_WMName):
	(EWMH_WMIconName):
	* fvwm/module_interface.c (BroadcastWindowIconNames):
	* fvwm/module_interface.h:
	(CMD_Send_WindowList):
	(CMD_set_mask):
	(CMD_set_sync_mask):
	(CMD_set_nograb_mask):
	* fvwm/update.c (apply_window_updates):
	* libs/Module.h:
	New module messages type M_VISIBLE_NAME and M_VISIBLE_ICON_NAME
	which are send to modules with BroadcastWindowIconNames.
	The set mask cmds use unsigned long mask and not int mask!

2001-12-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/ewmh.h:
	* fvwm/ewmh.c:
	EWMH without iconv compile fix by Hippo

2001-12-05  olicha  <olivier.chapuis@free.fr>

	* fvwm/add_window.c:
	* fvwm/ewmh.c (*):
	* fvwm/ewmh.h:
	* fvwm/ewmh_conf.c (EWMH_CMD_Styles):
	* fvwm/ewmh_events.c:
	* fvwm/fvwm.h:
	* fvwm/fvwm2.1:
	* fvwm/move_resize.c (CMD_Maximize):
	* fvwm/placement.c (test_fit):
	(PlaceWindow):
	* fvwm/session.c (SaveWindowStates):
	* fvwm/style.c (merge_styles):
	* fvwm/style.h:
	(check_window_style_change):
	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h:
	* fvwm/window_flags.h:
	New ewmh styles:
	EWMHMaximizeIgnoreWorkingArea / EWMHMaximizeUseWorkingArea /
	EWMHMaximizeUseDynamicWorkingArea,
	EWMHPlacementIgnoreWorkingArea / EWMHPlacementUseWorkingArea
	EWMHPlacementUseDynamicWorkingArea,
	EWMHUseStackingOrderHints / EWMHIgnoreStackingOrderHints,
	EWMHIgnoreStateHints / EWMHUseStateHints,
	EWMHIgnoreStrutHints / EWMHUseStrutHints

	* fvwm/ConfigFvwmDefaults:
	Use EWMHPlacementUseDynamicWorkingArea,
	EWMHMaximizeUseDynamicWorkingArea as default placement styles

	* NEWS:
	* fvwm/add_window.c (setup_placement_penalty):
	* fvwm/add_window.h:
	(setup_placement_penalty):
	(AddWindow):
	* fvwm/fvwm.h:
	* fvwm/placement.c (get_next_x):
	* fvwm/placement.h:
	(get_next_y):
	(test_fit):
	* fvwm/style.c (CMD_Style):
	* fvwm/style.h:
	(check_window_style_change):
	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h:
	* fvwm/window_flags.h:
	* libs/default.h:
	New styles PlacementOverlapPenalties and
	PlacementOverlapPercentPenalties

	* NEWS:
	* fvwm/add_window.c (setup_window_name_count):
	* fvwm/add_window.h:
	(setup_icon_name_count):
	(setup_visible_name):
	(setup_window_name):
	(free_window_names):
	(setup_icon):
	* fvwm/borders.c (DrawMultiPixmapTitlebar):
	(RedrawTitle):
	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/ewmh_names.c (EWMH_*):
	* fvwm/fvwm.h:
	* fvwm/icons.c (CreateIconWindow):
	(DrawIconWindow):
	(RedoIconName):
	(AutoPlaceIcon):
	(Iconify):
	* fvwm/session.c (MatchWinToSM):
	* fvwm/style.c (CMD_Style):
	* fvwm/style.h:
	(check_window_style_change):
	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h:
	* fvwm/window_flags.h:
	New styles ExtendedWindowName / SimpleWindowName and
	ExtendedIconName / SimpleIconName. TODO: the modules implementation

	* fvwm/builtins.c (ReadMultiPixmapDecor):
	A -Wall fix

	* configure.in:
	Fixed gcc test

	* session.c (get_version_string):
	now is 2.5-3

	* fvwm/stack.c (new_layer):
	(CMD_Layer):
	Fixed ewmh wm state

	* fvwm/ewmh_icons.c (ewmh_SetWmIconFromPixmap):
	Fixed creation of the ewmh icon in the case of the window is iconified

2001-11-28  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/placement.c (PlaceWindow):
	fixed manual placement on Xinerama screens other than the one with the
	top left corner of the total screen

2001-11-27  olicha  <olivier.chapuis@free.fr>

	* configure.in:
	* acinclude.m4:
	* acconfig.h:
	* fvwm/ewmh_name.c
	Check for the second argument of iconv

	* configure.in:
	Added -Wall to CFLAGS if cc is gcc

2001-11-26  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	* acconfig.h:
	s/extanded/extended/

2001-11-26  olicha  <olivier.chapuis@free.fr>

	* fvwm/Makefile.am:
	Fixed (?) iconv_LIBS

2001-11-26  olicha  <olivier.chapuis@free.fr>

	* fvwm/functions.c (expand):
	Fixed n, c, r expansion

2001-11-25  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1: Clean up ewmh stuff.

2001-11-24  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_internal.h:
	* fvwM/ewmh.c:
	Removed a non standard macro

2001-11-24  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm2.1:
	Documented the previous ewmh style in a new Style subsection

	* fvwm/functions.c (expand):
	Clean up, removed 5 tmp_win and IS_EWMH_DESKTOP

2001-11-24  olicha  <olivier.chapuis@free.fr>

	* fvwm/add_window (setup_icon):
	(setup_window_structure):
	* fvwm/events.c (HandlePropertyNotify):
	* fvwm/ewmh.h:
	* fvwm/ewmh_conf.c (EWMH_CMD_Style):
	* fvwm/ewmh_icons.c (ewmh_WMIcon):
	(EWMH_DoUpdateWmIcon):
	(ewmh_SetWmIconFromPixmap):
	(EWMH_DeleteWmIcon):
	(EWMH_SetIconFromWMIcon):
	* fvwm/ewmh_intern.h:
	* fvwm/fvwm.h:
	* fvwm/icons.c (GetIcon):
	* fvwm/session.c (get_version_string):
	* fvwm/style.c (CMD_Style):
	* fvwm/style.h:
	(check_window_style_change)
	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h:
	* fvwm/window_flags.h:
	New style EWMHMiniIconOverride / EWMHNoMiniIconOverride,
	EWMHDonateMiniIcon / EWMHDontDonateMiniIcon,
	EWMHDonateIcon / EWMHDontDonateIcon,
	Some ewmh icon code simplification.
	Ewmh icons priority: just after icon window.

	* fvwm/ewmh.c (EWMH_ExitStuff):
	* fvwm/ewmh.h:
	* fvwm/session.c (SaveWindowStates):
	(LoadWindowStates):
	(MatchWinToSM):
	* fvwm/fvwm.c (Done):
	Delete the ewmh icons we set ourself. Some ewmh session states do not
	need to be saved/restored anymore

2001-11-23  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_names.c (convert_charsets):
	Fixed infinite loop

2001-11-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/ewmh_names.c (convert_charsets):
	-Wall fix: 2nd parameter of iconv is char **, not const char ** as the
	man page states on Linux
	replaced goto with a loop

2001-11-22  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh_icons.c (EWMH_SetWmIconFromPixmap):
	a -Wall fix

	* fvwm/ewmh_events.c:
	Fixed some styles update

	* fvwm/ewmh_conf.c:
	* fvwm/function.c (func_config):
	* fvwm/function.h:
	* fvwm/ewmh.c:
	* fvwm/ewmh.h:
	* fvwm/ewmh_events.c:
	* fvwm/ewmh_intern.h:
	* fvwm/Makefile.am:
	* fvwm/fvwm2.1:
	New file for ewmh styles and commands. New commands EWMHBaseStrut and
	EWMHNumberOfDesktops. More documentation in ewmh man page section.

	* fvwm/add_window.c:
	* fvwm/bindings.c:
	* fvwm/events.c:
	* fvwm/functions.c:
	* fvwm/ewmh.c (EWMH_Init):
	* fvwm/fvwm.h:
	* fvwm/fvwm.c (InitVariables):
	* fvwm/placement.c
	* fvwm/sceen.h:
	* fvwm/session.c:
	* fvwm/styles.c:
	* fvwm/update.c:
	* fvwm/update.h:
	* fvwm/window_flags.c:
	* libs/Bindings.c:
	* libs/Picture.c:
	* libs/Picture.h:
	* libs/fvwmlib.h:
	* configure.in:
	* acconfig.h:
	Remove all the HAVE_EWMH ifdef but the two in virtual.c (which
	are maybe problematic) and those in the ewmh* files to allow
	to disbale the ewmh code: with --disable-ewmh all the ewmh code
	should be dummy. --enable-ewmh is now the default.

2001-11-20  olicha  <olivier.chapuis@free.fr>

	* fvwm/icons.c (GetIcon):
	* fvwm/add_window.c (setup_icon):
	Fixed icons order choice and other minor bugs

	* fvwm/ewmh_icons.c (EWMH_SetWmIconFromPixmap):
	Fixed a core dump if there is no MiniIcon

2001-11-18  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.c (add_kst_item):
	* fvwm/ewmh.h:
	(ewmh_AddToKdeSysTray):
	(EWMH_IsKdeSysTrayWindow):
	(EWMH_ManageKdeSysTray):
	(EWMH_WindowInit):
	fvwm/ewmh_intern.h:
	* fvwm/events.c (HandleDestroyNotify):
	(HandleMapRequest):
	(HandleUnmapNotify):
	Fixed the KDE system tray implementation

2001-11-16  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.h:
	* fvwm/ewmh.c:
	fixed EWMH_WindowDestroyed and EWMH_DestroyWindow macros

2001-11-15  olicha  <olivier.chapuis@free.fr>

	* fvwm/ewmh.c (EWMH_DestroyWindow):
	* fvwm/ewmh.h:
	(EWMH_WindowDestroyed):
	* fvwm/events.c (HandleReparentNotify):
	(HandleDestroyNotify):
	(HandleUnmapNotify):
	* fvwm/add_window.c (destroy_window):
	Fixed the ewmh windows lists

2001-11-15  olicha  <olivier.chapuis@free.fr>

	* fvwm/Makefile.am:
	* fvwm/ewmh.c:
	* fvwm/ewmh.h:
	* fvwm/ewmh_intern.h:
	* fvwm/ewmh_events.c:
	* fvwm/ewmh_icons.c:
	* fvwm/ewmh_names.c:
	* fvwm/fvwm2.1:
	* NEWS:
	New files to achieve the extended WM hints support, off by
	default. This code is ifdefed a la gnome.c.
	This is work in progess (need to do so that every things are
	configurable).

	* configure.in:
	* acconfig.h (HAVE_EWMH, HAVE_ICONV, USE_LIBICONV, HAVE_CODSET):
	New configure option --enable-ewmh. Added tests for iconv and
	nl_langinfo for UTF8 conversions.

	* fvwm/add_window.c (AddWindow):
	(CaptureOneWindow):
	(destroy_window):
	(setup_window_name):
	(setup_icon):
	EWMH_SetWMState, EWMH_SetWMDesktop, EWMH_SetFrameStrut,
	EWMH_WindowDestroyed, EWMH_WMName, EWMH_SetVisibleName,
	SET_HAS_EWMH_ICON, EWMH_WMIconName

	* fvwm/add_window.c (setup_window_structure):
	* fvwm/fvwm.h (FvwmWindow):
	(window_flags):
	* fvwm/window_flags.h:
	* fvwm/session.c (get_version_string):
	(SaveWindowStates):
	(LoadWindowStates):
	Added some entries in FvwmWindow and some flags (more will be
	added). Some of these states need to be saved at restart and
	at recapture. This code is ifdefed, may be it should not: I was
	forced to ifdef the version string in get_version_string.

	* libs/Bindings.c (win_contexts):
	* libs/fvwmlib.h:
	* fvwm/events.c (GetContext):
	* fvwm/bindings.c (ParseBinding):
	(activate_binding):
	* fvwm/functions.c (expand_extended_var):
	(expand):
	(execute_function):
	(DeferExecution):
	* fvwm/screen.h (Scr):
	new context C_EWMH_DESKTOP named "D" for an ewmh desktop
	(kdesktop or Nautilus desktop). This context is something between
	C_ROOT and C_WINDOW. Added Scr.EwmhDesktop.

	* fvwm/bindings.c (activate_binding):
	Fixed immediate application of mouse/stroke bindings

	* fvwm/borders.h
	* fvwm/borders.c (RedrawDecorations):
	* fvwm/update.c (apply_window_updates):
	New function  RedrawDecorations taken from apply_window_updates
	and called in ewmh_icons.c and update.c

	* fvwm/bultins.c (CMD_WindowShade):
	EWMH_SetWMState

	* fvwm/events.c (HandleFocusIn):
	(HandlePropertyNotify):
	(HandleClientMessage):
	(HandleMapRequestKeepRaised):
	(HandleUnmapNotify):
	EWMH_SetActiveWindow. Test for utf8 window and icon name, set the ewmh
	icon state. EWMH_ProcessPropertyNotify, EWMH_ProcessClientMessage,
	EWMH_SetClientList

	* fvwm/icons.c (GetIcon):
	* fvwm/icons.h:
	(CreateIconWindow):
	(ChangeIconPixmap):
	* fvwm/events.c (HandlePropertyNotify):
	New function GetIcon taken from CreateIconWindow which choose
	the icon, there is a new case for EWMH icons. New function
	ChangeIconPixmap taken from events.c.
	The two new functions are called from ewmh_icon.c (and icons.c).

	* fvwm/move_resize.c (handle_stick):
	(CMD_Maximize):
	(handle_stick):
	EWMH_SetWMState, EWMH_GetWorkAreaIntersection, EWMH_SetWMDesktop

	* libs/Picture.h:
	* libs/Picture.c (LoadPictureFromPixmap):
	(CachePictureFromPixmap):
	New functions for loading a picture from a pixmap. Nothing is cached
	but this simplify the MiniIcon code.

	* fvwm/placement.c (PlaceWindow):
	EWMH_GetWorkAreaIntersection

	* fvwm/screen.h (Scr):
	Added the working area, the dynamic working area and the ewmh
	Desktop window.

	* fvwm/stack.c (restack_windows):
	(CMD_Layer):
	EWMH_SetClientListStacking, EWMH_SetWMState

	* fvwm/style.c (check_window_style_change):
	* fvwm/update.c (apply_window_updates):
	* fvwm/update.h:
	Added do_update_list_skip to the update_win flags for EWMH_SetWMState.
	This code is ifdefed.

	* fvwm/style.c (lookup_style):
	EWMH_GetStyle

	* fvwm/virctual.c (goto_desk):
	(CMD_GotoDeskAndPage):
	(do_move_window_to_desk):
	EWMH_SetCurrentDesk, EWMH_SetWMDesktop

2001-11-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/update.c (apply_window_updates):
	* fvwm/gnome.c (GNOME_GetStyle):
	* fvwm/style.c (lookup_style):
	(check_window_style_change):
	* fvwm/add_window.c (setup_style_and_decor):
	fixed GnomeIgnoreHints style for some of the gnome hints

	* fvwm/fvwm.c (StartupStuff):
	Tried to fix font size problem

	* fvwm/placement.c (PlaceWindow):
	suppress an X error

	* fvwm/move_resize.c (moveLoop):
	* libs/Target.c (fvwmlib_keyboard_shortcuts):
	* fvwm/misc.c (Keyboard_shortcuts):
	modified keyboard shortcut functions so that it is possible to move
	windows with the keyboard even if the border is hit.  does not work
	very nicely with paging

	* libs/Target.c (fvwmlib_keyboard_shortcuts):
	performance enhancement

	* fvwm/events.c (HandleButtonPress):
	fixed (?) some problem with passing the raise click in ctf to the app

	* fvwm/add_window.c (Reborder):
	* fvwm/virtual.c (MoveViewport):
	(MapDesk):
	(UnmapDesk):
	* fvwm/session.c (SaveWindowStates):
	* fvwm/fvwmdebug.c (DB_WI_WINDOWS):
	don't access stack_next and stack_prev directly but use the access
	functions from stack.h

	* fvwm/stack.c (remove_window_from_stack_ring):
	(add_window_to_stack_ring_after):
	safety patch

	* fvwm/add_window.c (adjust_fvwm_internal_windows):
	(destroy_window):
	when a window becomes scheduled for destruction, remove all traces of it
	from the fvwm internal variable so its not accessed accidentally when
	its fields are no longer valid

2001-11-05  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/borders.c:
	fixed compilation of I18N_MB

2001-10-30  Mikhael Goikhman  <migo@homemail.com>

	* AUTHORS:
	* NEWS:
	* acconfig.h:
	* configure.in:
	* fvwm/borders.c:
	* fvwm/builtins.c:
	* fvwm/fvwm2.1:
	* fvwm/screen.h:
	exclude the TitleStyle MultiPixmap feature (only) before forking
	...
	and restore it after that

	* NEWS:
	* configure.in:
	change version string to 2.5.0

	* NEWS:
	added a missing entry for the stable release 2.4.0 (03-Jul-2001);
	added a link to the stable version 2.4.4 (not released yet)

2001-10-30  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	* configure.in:
	change version string to 2.4.4 before forking

	* make_fvwmdist.sh:
	strip end of line from date (adjust for a new length)

2001-10-29  olicha  <olivier.chapuis@free.fr>

	* fvwm/screen.h (DecorFaceStyle):
	Fixed the "lenght" of face_type if FANCY_TITLEBARS is defined,
	so that Solid colors work again

2001-10-28  olicha  <olivier.chapuis@free.fr>

	* fvwm/module_interface.c (skipModuleAliasToken):
	Allows '/' as alias character

	* NEWS
	Script news

2001-10-27  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	* acconfig.h:
	* NEWS:
	added --disable-multipixmap-titles for the Suzanne's patch,
	the default is enable

	* fvwm/fvwm2.1:
	some formatting fixes in TitleStyle entry

2001-10-27  Suzanne Britton  <tril@igs.net>

	* config.h.in: Added FANCY_TITLEBARS option, off by default

	* fvwm/fvwm2.1:
	Added info on TitleStyle MultiPixmap

	* fvwm/screen.h:
	[All changes #ifdeffed FANCY_TITLEBARS]
	Added TITLE_PADDING define for fancy titlebar rendering
	Added tb_pixmap_enum
	Added MultiPixmap to DecorFaceType enum
	Added Picture **multi_pixmaps and short multi_stretch_flags
	to DecorFace structure

	* fvwm/borders.c:
	[All changes #ifdeffed FANCY_TITLEBARS except the fix to RedrawButtons]
	(DrawButton): Handle UseTitleStyle where TitleStyle is MultiPixmap
	(RenderIntoWindow): [new]
	(DrawMultiPixmapTitlebar): [new]
	(RedrawButtons): Pass the left1right0 parameter properly to DrawButton,
	instead of always sending 1
	(RedrawTitle):
	Call DrawFancyTitlebar for MultiPixmap style
	Skip DrawString calls for MultiPixmap style (title is drawn inside
	DrawMultiPixmapTitlebar)

	* fvwm/builtins.c:
	[All changes #ifdeffed FANCY_TITLEBARS]
	(FreeDecorFace): Free up multi_pixmaps array for a MultiPixmap decor
	(ReadDecorFace): Call ReadMultiPixmapDecor for a MultiPixmap TitleStyle
	(ReadMultiPixmapDecor): [new]

2001-10-26  Dan Espen  <dane@mk.telcordia.com>

	* NEWS: FvwmForm: Customize pointers, support ISO_Tab key,
 	buttons can activate on press or release, special pointer during grab,
	arrow key command recall.

2001-10-24  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/bindings.c (ParseBinding):
	* fvwm/bindings.h:
	* fvwm/fvwm2.1:
	binding commands now do not print error messages with Silent

	* fvwm/ConfigFvwmDefaults:
	* NEWS:
	don't use ReverseOrder in the default Alt-Tab like it was in 2.4.0;
	use Silent before Key Help

	* fvwm/add_window.c:
	changed the broken size hints message to notify the owner

	* docs/fvwm.lsm.in:
	small changes

2001-10-19  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	Some FvwmScript news

2001-10-16  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	Some FvwmScript news

2001-10-15  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/bindings.c (activate_binding):
	* libs/Bindings.c (GrabWindowKeyOrButton):
	activate mouse/stroke bindings immediately

	* fvwm/events.c (HandleButtonPress):
	it is possible to bind actions to the 'ClickToFocus' click

2001-10-14  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/virtual.c (HandlePaging):
	allow paging during move/resize when pressing keys

	* libs/XResource.c (MergeCmdLineResources):
	possible core dump fix

	* fvwm/add_window.c (setup_window_placement):
	fixed core dump

	* libs/Bindings.c (AddBinding):
	another attempt at cleaning up bindings with "Shift"

2001-10-13  olicha  <olivier.chapuis@free.fr>

	* NEWS
	FvwmScript news

2001-10-10  Mikhael Goikhman  <migo@homemail.com>

	* move_resize.c:
	* fvwm/fvwm2.1:
	OpaqueMoveSize now accepts "unlimited" or negative argument.

2001-10-09  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm2.1:
	added missing "!"

2001-10-08  Dan Espen  <dane@mk.telcordia.com>

	* libs/Makefile.am (libfvwm_a_SOURCES): Add new file.

	* libs/fvwmlib.h:
	* libs/Cursor.c: Create new libs function fvwmCursorNameToIndex.

	* fvwm/cursor.c: Extract cursor validation routine to become a libs
	routine.

2001-10-08  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS, configure.in:
	changed version to 2.5.0

2001-10-08  olicha  <olivier.chapuis@free.fr>

	* fvwm/borders.c (RedrawTitle):
	Fixed drawing of leftJustified stippled title and suppress warnings
	in RelieveRectangle w/ RightJustified stippled title

2001-10-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/virtual.c (CMD_XineramaSlsSize):
	fixed ABR

2001-10-03  olicha  <olivier.chapuis@free.fr>

	* fvwm/style.c (CMD_Style):
	* fvwm/fvwm2.1
	Added the possibility to add an Xinerama screen to the 4 numerics
	Iconbox format

2001-10-03  olicha  <olivier.chapuis@free.fr>

	* fvwm/icons.c (AutoPlaceIcon):
	Fixed a core dump with @c and fixed icon placement if the icon should
	not be on the current page

2001-10-02  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/icons.c (AutoPlaceIcon):
	* libs/FScreen.c (FScreenParseScreenBit):
	added 'w' screen specifier for icon boxes

	* fvwm/icons.c (AutoPlaceIcon):
	fixed placement of icons in icon boxes on different screen

	* fvwm/menus.c (get_menu_options):
	reduced code duplication

2001-10-02  olicha  <olivier.chapuis@free.fr>

	* fvwm/menus.c (get_menu_options):
	fixed Xinerama placement of menu with empty but not null position hints

2001-10-02  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/borders.c (RedrawTitle):
	* libs/defaults.h (WINDOW_TITLE_STICKY_GAP):
	suppress a warning in RelieveRectangle w/ small sticky windows

2001-09-30  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (get_menu_options):
	A 'rectangle' context rectangle for menus honours the '@screen' bit

	* fvwm/move_resize.c (DisplayPosition):
	coordinates of a window are show in relation to the screen, not the page

	* libs/FScreen.c (FScreenTranslateCoordinates):
	* fvwm/placement.c (PlaceWindow):
	* fvwm/add_window.c (setup_window_placement):
	Applied patches by Sidik Isani that adds the "fvwmscreen" X resource;
	rewrote the library functionality to better match the rest of the
	interface

	* fvwm/builtins.c (DestroyFvwmDecor):
	removed useless code

	* fvwm/icons.c (DrawIconWindow):
	fixed race condition w/ expanding/collapsing icon titles

	* fvwm/windowlist.c (CMD_WindowList):
	fixed Xinerama placement of window list when called without options

2001-09-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/FScreen.c (FScreenSLSOnOff):
	fixed core dump when calling XineramaSls before XineramaSlsSize

	* configure.in:
	changed to 2.4.3

	* libs/FShape.h (FHaveShapeExtension):
	set macro to 1 when compiling w/ shape extension

2001-09-17  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Bindings.c (AddBinding):
	* fvwm/bindings.c (ParseBinding):
	print a warning if a key with the given name does not exist
	if there is an upper and a lower case version of the same key name,
	always bind to the lower case version; this is problematic if the upper
	case version is tied to a key without a modifier and the lower case
	version is tied to the same key, but with a modifier (or both are tied
	to different keys). I hope this good enough.

	* libs/Bindings.c (FreeBindingList):
	(MatchBindingExactly):
	(CollectBindingList):
	fixed some problems overriding keys
	reduced duplication of logic

2001-09-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS, configure.in:
	changed version to 2.5.0

2001-09-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* configure.in:
	changed version to 2.4.2

2001-09-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Colorset.c:
	(SetWindowBackground):
	(SetRectangleBackground):
	* fvwm/builtins.c (CMD_WindowShade):
	* fvwm/add_window.c:
	(setup_style_and_decor):
	* fvwm/icons.c:
	(CreateIconWindow):
	(GetXPMFile):
	(GetIconWindow):
	(GetIconBitmap):
	* fvwm/events.c:
	(HandleConfigureRequest):
	(HandleShapeNotify):
	(InitEventHandlerJumpTable):
	* fvwm/borders.c (struct):
	(SetupFrame):
	(SetShape):
	* fvwm/decorations.c (SelectDecor):
	* fvwm/fvwm.c:
	(main):
	(setVersionInfo):
	* fvwm/externs.h:
	* fvwm/fvwm.h (FvwmWindow):
	* libs/FShape.h:
	* libs/FShape.c:
	moved shape support to library; its no longer necessary to
	'#ifdef SHAPE' any code

	* fvwm/borders.c (RedrawButtons):
	(RedrawTitle):
	fixed top border hilight drawing of title buttons

	* libs/Graphics.c (do_relieve_rectangle):
	(RelieveRectangle):
	(RelieveRectangle2):
	allow alternate shading for title buttons

2001-09-15  Dominik Vogt  <dominik.vogt@gmx.de>

	**/*.1:
	Applied man page patch by Dmitry Yu. Bolkhovityanov:
	Add a formal description of how fvwm maintains module's configs
	Change manpages of individual modules to refer to fvwm2(1) for
	details about specifying configuration

	* fvwm/add_window.c (setup_window_placement):
	desk and page can now really be given as X resources a la
	  xterm.desk: 1

	* libs/XResource.c (GetResourceString):
	resource -> lower case, class -> upper case
	changed signature

	* configure.in:
	changed version to 2.5.0

	* Makefile.am (distcheck2):
	build distcheck before dist2; save a few seconds if the build fails

	* libs/alloca.c:
	* libs/ClientMsg.c:
	* libs/envvar.c:
	* libs/Event.c:
	* libs/fvwmrect.c:
	* libs/gethostname.c:
	* libs/Grab.c:
	* libs/Pointer.c:
	* libs/safemalloc.c:
	* libs/strcasecmp.c:
	* libs/strdup.c:
	* libs/strerror.c:
	* libs/strncasecmp.c:
	* libs/usleep.c:
	* libs/wild.c:
	* libs/WinMagic.c:
	* libs/XError.c:
	* libs/Graphics.c:
	include config.h

	* configure.in:
	changed version to 2.4.1 again

2001-09-14  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Bindings.c (FvwmStringToKeysym):
	try both cases of the first letter of a key name

	* fvwm/ConfigFvwmDefaults:
	* fvwm/windowlist.c (winCompareReverse):
	(CMD_WindowList):
	new WindowList option ReverseOrder; use the new option in the default
	Alt-Tab binding. This makes it possible to hit Alt-Tab repeatedly to
	cycle through the whole window list. The old behaviour only toggled
	between two windows. Also, a simple Alt-Tab can be used to switch to
	the next window instead of Alt-Tab-Tab.

	* libs/FScreen.c (FScreenInit):
	fixed a Xinerama crash

	* configure.in:
	print a verbose error message and exit if X11 headers and libraries
	are not found

2001-09-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm.c (main):
	* libs/FShape.c:
	* libs/FShape.h:
	new library for X shape encapsulation

	* fvwm/builtins.c (CMD_WindowShade):
	* fvwm/borders.c (SetupFrame):
	fixed shading of windows without title and border
	fixed shading of shaped windows; fixes bug #732

	* fvwm/builtins.c (CMD_SetEnv):
	calling SetEnv without a value is the same as UnsetEnv

2001-09-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/events.c (HandleReparentNotify):
	fixed vanishing windows in rapid map/unmap cycles; bug #770

	* fvwm/add_window.c (hide_screen):
	fixed possible BadWindow error

2001-09-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/virtual.c (MoveViewport):
	(goto_desk):
	(CMD_GotoDeskAndPage):
	(CMD_GotoPage):
	GotoDeskAndPage records its own history of last visited desk/page

	* libs/FScreen.c (FScreenInit):
	fixed a memory allocation bug pointed out by Giuseppe Della Ricca

2001-09-05  olicha  <olivier.chapuis@free.fr>

	* fvwm/session.c (MatchWinToSM):
	* fvwm/add_window.c (setup_window_structure):
	* fvwm/move_resize.c (moveLoop):
	Fixed PlacedByButton3 condition

2001-09-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/FScreen.c:
	* fvwm/functions.c (func_config):
	* fvwm/module_interface.c (broadcast_xinerama_state):
	* fvwm/virtual.c (CMD_Xinerama):
	(CMD_XineramaPrimaryScreen):
	(CMD_XineramaSls):
	(CMD_XineramaSlsSize):
	added sls support
	split Xinerama command into Xinerama, XineramaPrimaryScreen,
	XineramaSls and XineramaSlsSize
	restructured parts of the FScreen code

	* fvwm/functions.c (func_config):
	new commands XineramaPrimaryScreen, XineramaSls and XineramaSlsSize

	* libs/Graphics.c (RelieveRectangle):
	allow calling the function with w == 0 or h == 0 without a message

	* fvwm/window_flags.h (SET_STYLE_DELETED):
	* fvwm/style.c (CMD_DestroyStyle):
	(check_window_style_change):
	* fvwm/fvwm.h (window_style):
	update windows when a style is deleted

	* configure.in:
	fixed xpm detection problem caused by wrong library order

2001-09-05  olicha  <olivier.chapuis@free.fr>

	* NEWS: PlacedByFvwm

2001-09-04  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1 (PlacedByFvwm): Grammar.

2001-09-04  olicha  <olivier.chapuis@free.fr>

	* fvwm/fvwm.h:
	* fvwm/windows_flags.h:
	* fvwm/placement.c (PlaceWindow):
	* fvwm/add_window.c (setup_window_structure):
	* fvwm/conditional.c (CreateConditionMask):
	* fvwm/session.c (get_version_string):
	(MatchWinToSM):
	* fvwm/fvwm2.1:
	Added a new windows_flags is_placed_by_fvwm and a new condition
	PlacedByFvwm

2001-09-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (focus_grab_buttons):
	(MoveFocus):
	disabled xt/double click patch for now

2001-09-01  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Graphics.c (RelieveRectangle):
	print a warning if one of the dimensions is <= 0

	* fvwm/placement.c (PlaceWindow):
	take care of windows that have both, PPosition and USPosition set
	take care of transient windows that have neither PPosition nor
	USPosition set

2001-09-01  olicha  <olivier.chapuis@free.fr>

	* libs/FScreen.c (FScreenInit):
	Fixed the position of the xinerama emulation delimiters

2001-08-31  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm2.1:
	Xinerama introduction

	* fvwm/icons.c (AutoPlaceIcon):
	try to place icons of screen with the window center, and if that fails
	on any screen

	* libs/FScreen.c (FScreenGetScrRect):
	performance improvement for non-xinerama systems

	* fvwm/update.c (apply_window_updates):
	(flush_window_updates):
	update icon boxes and icon position when xinerama layout changes

	* fvwm/icons.c (AutoPlaceIcon):
	limit placement of icons using no icon box to screen boundaries
	adapt icon boxes to xinerama layout whenever used

	* fvwm/placement.c (PlaceWindow):
	* fvwm/style.c (CMD_Style):
	(check_window_style_change):
	* fvwm/style.h (SUSE_NO_USPOSITION):
	(SUSE_NO_TRANSIENT_PPOSITION):
	(SUSE_NO_TRANSIENT_USPOSITION):
	* fvwm/fvwm.h (struct):
	implemented new styles NoUSPosition/UseUSPosition,
	NoTransientPPosition/UseTransientPPosition,
	NoTransientUSPosition/UseTransientUSPosition.
	These work exactly like NoPPosition/UsePPosition.
	Transient windows ignore the window position if neither the PPosition
	nor the USPosition hint is set.

2001-08-28  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/focus.c (restore_focus_after_unmap):
	fixed a bug transfering the focus when a window was iconified

2001-08-26  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/conditional.c (MatchesConditionMask):
	* fvwm/move_resize.c (position_geometry_window):
	* fvwm/placement.c (PlaceWindow):
	* fvwm/menus.c (pop_menu_up):
	* fvwm/move_resize.c (move_window_doit):
	* fvwm/icons.c (do_all_iconboxes):
	* fvwm/placement.c (PlaceWindow):
	* fvwm/menus.c (update_menu):
	adapted to new FScreen... signatures

	* libs/FScreen.c (FScreenClipToScreen):
	(FScreenGetScrCenterCenter):
	(FScreenCenterCurrent):
	(FScreenCenterPrimary):
	(FScreenGetCurrent00):
	(FScreenGetGlobalScrRect):
	(FScreenGetPrimaryScrRect):
	(FScreenGetScrRect):
	(FScreenIsRectangleOnScreen):
	unified all the FSCreen... functions using a common signature, removed
	most old functions

	* fvwm/style.c (CMD_Style):
	init icon box screen

	* fvwm/move_resize.c (move_window_doit):
	(CMD_Maximize):
	* libs/Makefile.am:
	* libs/XineramaSupport.c:
	* libs/XineramaSupport.h:
	* libs/FScreen.c:
	exported and renamed screen defines

	* libs/FScreen.h:
	renamed files

	* fvwm/virtual.c:
	* fvwm/style.c:
	* fvwm/placement.c:
	* fvwm/move_resize.c:
	* fvwm/module_interface.c:
	* fvwm/modconf.c:
	* fvwm/menus.c:
	* fvwm/icons.c:
	* fvwm/fvwm.c:
	* fvwm/conditional.c:
	* libs/XineramaSupport.c:
	renamed all XineramaSupport...() functions to FScreen...()

	* fvwm/style.c (CMD_Style):
	-Wall fix

2001-08-25  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/style.c (CMD_Style):
	* fvwm/fvwm.h (icon_boxes_struct): Add screen to iconbox struct when
	using geometry spec.

2001-08-25  Mikhael Goikhman  <migo@homemail.com>

	* libs/Strings.c:
	* libs/Strings.h:
	new function QuoteString() to add and escape single quotes to strings

	* fvwm/menus.c (MenuInteraction):
	quote both missing function name and menu name for
	MissingSubmenuFunction

	* fvwm/functions.c (expand):
	use QuoteString()

2001-08-25  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/style.c (CMD_Style): Fix up iconboxes using negative geom specs.

2001-08-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/cursor.c (CMD_CursorStyle):
	* fvwm/icons.c (GetXPMFile):
	* libs/Colorset.c (SetWindowBackground):
	-Wall fixes

	* libs/Bindings.c (AddBinding):
	tired to help with problem binding keys that have a keycode with no
	modifiers and another keycode with some modifiers pressed, e.g.
	kc 95 = F11, kc 67 = F1, kc 67 + shift = F11, which caused pressing
	F1 generating the actioon bound to F11 sometimes

	* fvwm/focus.c (focus_grab_buttons):
	-Wall fix

2001-08-23  Dan Espen  <dane@mk.telcordia.com>

	* libs/Bindings.c (MatchBinding): Unify XDisplayKeycodes avoidance.

2001-08-20  Bob Woodside  <proteus@pcnet.com>

	* fvwm/focus.c (MoveFocus, focus_grab_buttons): Fixed passive button
        grab synchronization so apps using XtTranslations to catch double-
        clicks don't get confused by extraneous Leave/EnterNotify events.
        This fixes the "xfm/moxfm don't see double-clicks" problem.

2001-08-20  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/icons.c (AutoPlaceIcon): Fix bug.

2001-08-19  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/icons.c (AutoPlaceIcon): Apply screen dimensions as icon is
	placed.

	* fvwm/style.c (CMD_Style): Don't apply screen dimensions to iconbox
	until later when the window is actually placed.

	* fvwm/fvwm.h (icon_boxes_struct):  Save  sign  for later  screen
 	position calculation.

2001-08-19  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/update.c (flush_window_updates):
	* fvwm/screen.h (ScreenInfo):
	* fvwm/virtual.c (CMD_Xinerama):

	* fvwm/move_resize.c (CMD_Maximize):
	* fvwm/placement.c (PlaceWindow):
	* libs/XineramaSupport.c (XineramaSupportGetNumberedScrRect):
	renamed function

	* fvwm/fvwm2.1:
	describe new maximize options

	* fvwm/move_resize.c (MaximizeWidth):
	(MaximizeHeight):
	(CMD_Maximize):
	applied Dmitry's Xinerama patch for Maximize command
	replaced "global" and "absolute" with "screen" which is more flexible

2001-08-16  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/Parse.c (SkipQuote):
	fixed a bug in handling of caller specified quote pairs

	* fvwm/move_resize.c (CMD_Maximize):
	keep window on correct page when viewport does not start on a page
	boundary

	* libs/XError.c (error_name):
	(request_name):
	fixed core dump in error handling

2001-08-15  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	* acinclude.m4:
	* INSTALL:
	* INSTALL.fvwm:
	renamed --disable-gnome to --disable-gnome-hints;
	documented configure options --with-gnome*;
	small improvements in documentation;
	use underscore in version instead of dash that causes rpm problems

2001-08-14  Mikhael Goikhman  <migo@homemail.com>

	* libs/Makefile.am:
	added fvwmrect.h to dist

2001-08-14  Dan Espen  <dane@mk.telcordia.com>

	* libs/XineramaSupport.c: Disable debug printing.

2001-08-13  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/defaults.h (DEFAULT_MENU_STYLE):
	reset colour sets in default menu style too

2001-08-13  Mikhael Goikhman  <migo@homemail.com>

	* builtins.c:
	* events.c:
	completed the libstroke-0.5 compatibility fix

2001-08-10  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (draw_move_resize_grid):
	fixed drawing of resize grid when invoked from button or key press

	* fvwm/placement.c (PlaceWindow):
	rewrote a condition to improve readability
	fixed StartsOn... w/ SkipMapping

2001-08-09  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/session.c (MatchWinToSM):
	(LoadWindowStates):
	(SaveWindowStates):
	* fvwm/move_resize.c (CMD_Resize):
	* fvwm/events.c (HandlePropertyNotify):
	(HandleConfigureRequest):
	* fvwm/move_resize.c (CMD_ResizeMove):
	(CMD_Maximize):
	(CMD_Resize):
	* fvwm/update.c (apply_window_updates):
	* fvwm/add_window.c (AddWindow):
	* fvwm/geometry.c (constrain_size):
	(gravity_constrain_size):
	the Resize command honors the window gravity
	changing the size increment of maximized windows no longer shrinks the
	window

	* fvwm/icons.c:
	keep expanded icon titles on screen

2001-08-08  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/icons.c (do_all_iconboxes):
	default icon box fills the primary screen

	* libs/XineramaSupport.c (XineramaSupportParseScreenBit):
	fixed default_screen argument

	* fvwm/style.c (merge_styles):
	* fvwm/fvwm.h (window_style):
	* fvwm/style.h (SSET_START_SCREEN):
	* fvwm/add_window.c (setup_window_placement):
	* fvwm/placement.c (PlaceWindow):
	(CMD_PlaceAgain):
	implemented StartsOnScreen style

	* fvwm/placement.c (PlaceWindow):
	(test_fit):
	(get_next_x):
	(get_next_y):
	(CleverPlacement):
	(SmartPlacement):
	Place new windows on xinerama screens

	* libs/XineramaSupport.c (XineramaSupportParseGeometryWithScreen):
	fixed core dump in debug output

2001-08-07  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/placement.c:
	removed unused variable

2001-08-07  olicha  <olivier.chapuis@free.fr>

	* NEWS:
	FvwmIconBox, FvwmTaskBar and FvwmWinList support aliases

2001-08-06  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/virtual.c (CMD_Xinerama):
	replaced XineramaEnable and ...Disable with XineramaCommand

	* libs/XineramaSupport.c (XineramaSupportParseScreenBit):
	(XineramaSupportGetScreenArgument):
	new functions

	* fvwm/functions.c (func_config):
	* fvwm/move_resize.c (move_window_doit):
	(CMD_Move):
	(CMD_AnimatedMove):
	(CMD_MoveToPage):
	(CMD_MoveToScreen):
	(handle_stick):
	added new command MoveToScreen

2001-08-05  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/fvwmrect.c:
	* libs/fvwmrect.h:
	new library files

	* libs/XineramaSupport.c (XineramaSupportParseGeometry):
	fixed parsing of negative geometries
	(XineramaSupportParseGeometryWithScreen):
	made global
	(XineramaSupportGetNumberedScreenRect):
	new function

	* sample.fvwmrc/system.fvwm2rc:
	* sample.fvwmrc/new-features:
	* sample.fvwmrc/system.fvwm2rc-sample-95:
	* sample.fvwmrc/system.fvwm2rc-sample-2:
	* sample.fvwmrc/system.fvwm2rc-sample-1:
	* fvwm/fvwm2.1:
	updated for new condition

	* fvwm/conditional.c (CreateConditionMask):
	(MatchesConditionMask):
	* fvwm/fvwm.h (WindowConditionMask):
	implemented new condition AcceptsFocus to cope with applications like
	xclock that have circulatehit but don't take focus

2001-08-02  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/XineramaSupport.c (XineramaSupportParseGeometry):
	handle Xinerama screens

	* fvwm/style.c (CMD_Style):
	* fvwm/menus.c (get_menu_options):
	cope with Xinerama like geometries with screen info

	* fvwm/virtual.c (CMD_XineramaEnable):
	XineramaEnable optionally takes the number of the primary screen as its
	argument

	* fvwm/events.c (GetContext):
	reindented code

	* fvwm/virtual.c (HandlePaging):
	* fvwm/events.c (HandleButtonPress):
	* fvwm/events.h (XEVMASK_PANFW):
	fixed button and key event handling over pan frames; fixes bug #752

	* fvwm/menus.c (get_menu_options):
	fixed Xinerama placement of menus without options

2001-08-01  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	* fvwm/borders.c:
	* fvwm/builtins.c:
	* fvwm/fvwm.c:
	* fvwm/screen.h:
	Color enhancements in button vectors: @2 is bg color, @3 is fg color.
	In addition to the existing: @0 is shadow color, @1 is hilight color.

	* fvwm/fvwm2.1:
	Added the formal description of Vector that was absent.

2001-08-01  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm2.1:
	some man page corrections

2001-07-30  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (handle_stick):
	also redraw buttons when a window becomes sticky/slippery to make sure
	that MWMDecorStick buttons are updated too; fixes bug #749

2001-07-30  Mikhael Goikhman  <migo@homemail.com>

	* NEWS:
	documented previous changes

	* configure.in:
	improved output spacing

	* fvwm/fvwm2.1:
	minor typo

2001-07-29  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/XineramaSupport.c (XineramaSupportConfigureModule):
	* fvwm/modconf.c (send_xinerama_state):
	* fvwm/module_interface.c (broadcast_xinerama_state):
	* libs/defaults.h:
	revised module support for Xinerama

	* libs/XineramaSupport.c (XineramaSupportParseGeometryWithScreen):
	(XineramaSupportParseGeometry):
	(XineramaSupportGetGeometry):
	make interface compatible with XineramaSupportParseGeometry().
	(XineramaSupportGetPrimaryScreen):
	new function

	* fvwm/stack.c (raise_over_unmanaged):
	fixed restacking of windows with RaiseOverUnmanaged - windows were
	raised in reverse order so that the top window became the bottom
	window of the ones that were raised
	also, ignore Scr.NoFocusWin and all InputOnly windows for raising since
	these are invisible

2001-07-28  Dominik Vogt  <dominik.vogt@gmx.de>

	* sample.fvwmrc/system.fvwm2rc-sample-95:
	fixed syntax of BugOpts command

	* fvwm/ConfigFvwmDefaults:
	resize window when clicking on the sides of the window by default
	instead of moving it

	* fvwm/events.c (HandleEnterNotify):
	do not delete MouseFocus when pointer moves from one particular sub
	window of a frame to another one.  Helps with xv/xmms vs unclutter
	interaction and also with MouseFocus vs. Open Look applications

	* fvwm/move_resize.c (DoSnapAttract):
	* libs/XineramaSupport.c (XineramaSupportGetResistanceRect):
	fixed snapping to Xinerama screen edges
	(XineramaSupportIsEnabled):
	return False is the X server provides only a single screen

	* fvwm/fvwm2.1:
	Added descriptions of conditions CurrentDesk, CurrentPage,
	CurrentScreen, CurrentGlobalPage, CurrentPageAnyDesk and
	CurrentGlobalPageAnyDesk

	* fvwm/fvwm.h (rectangle):
	(position):
	typedefs moved to libs/fvwmlib.h

	* fvwm/conditional.c (MatchesConditionMask):
	* fvwm/fvwm.h (WindowConditionMask):
	* fvwm/conditional.c:
	introduced new conditions CurrentGlobalPage and CurrentGlobalPageAnyDesk
	for Xinerama support

	* fvwm/modconf.c (CMD_Send_ConfigInfo):
	(send_xinerama_state):
	* fvwm/module_interface.c (broadcast_xinerama_state):
	* libs/XineramaSupport.c (XineramaSUpportIsEnabled):
	* libs/defaults.h (DEFAULT_XINERAMA_DISABLED):
	communicate xinerama state at module startup

2001-07-27  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/XineramaSupport.c:
	next Xinerama patch

2001-07-25  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/move_resize.c (moveLoop):
	windows were lost off screen w/ non opaque interactive move when motion
	was aborted with Escape on a different page that it was started

	* fvwm/move_resize.c (position_geometry_window):
	(DisplayPosition):
	(DisplaySize):
	(InteractiveMove):
	(CMD_Resize):
	(moveLoop):
	(CMD_Resize):
	(DoResize):
	* libs/XineramaSupport.c (GetMouseXY):
	(XineramaSupportCenterCurrent):
	(XineramaSupportGetCurrent00):
	(XineramaSupportGetCurrentScrRect):
	allow to pass in an event with the pointer position
	minimize number of XQueryPointer calls in interactive move/resize

	* libs/defaults.h:
	* fvwm/move_resize.c (resize_geometry_window):
	(DisplayPosition):
	(DisplaySize):
	border width of geometry window moved to defaults.h
	moved strings for size window formatting to defaults.h
	reworked calculations of geometry window dimensions

	* fvwm/move_resize.c (resize_geometry_window):
	(position_geometry_window):
	(DisplaySize):
	(InteractiveMove):
	(CMD_Resize):
	* fvwm/builtins.c (ApplyDefaultFontAndColors):
	* fvwm/fvwm.c (main):
	funtions ResizeSizeWindow and PositionSizeWindow renamed to
	resize_geometry_window and position_geometry_window

	* fvwm/fvwm.c (main):
	fixed resizing geometry window before creating it

	* fvwm/move_resize.c (switch_move_resize_grid):
	(MoveOutline):
	* fvwm/virtual.c (HandlePaging):
	renamed MoveOutline to draw_move_resize_grid and made static
	new function switch_move_resize_grid for external calls
	delete grid before moving the geometry window to get rid of arifacts of
	the grid

2001-07-24  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/XineramaSupport.c (XineramaSupportInit):
	make the blank area in Xinerama emulation usable again

2001-07-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (update_menu):
	(pop_menu_up):
	(make_menu):
	(calculate_item_sizes):
	(size_menu_horizontally):
	(size_menu_vertically):
	menus are resized to fit their Xinerama screen every time they are
	popped up and the screen size has changed

2001-07-23  olicha  <olivier.chapuis@free.fr>

	* libs/XineramaSupport.c (XineramaSupportInit):
	Draw the xinerama simulation screens with orr windows

2001-07-23  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/windowlist.c (CMD_WindowList):
	fixed windowlist placement w/ Xinerama

2001-07-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/menus.c (pop_menu_up):
	fixed calculations that force a menu on screen w/ Xinerama

	* fvwm/move_resize.c (DoSnapAttract):
	removed some code that slipped in with xinerama patch and broke
	vertical SnapAttraction

	* fvwm/virtual.c (CMD_EdgeResistance):
	removed debug code

	* libs/XineramaSupport.c (XineramaSupportClipToScreen):
	take reference position src_x/src_y to determine screen

	* fvwm/windowlist.c (CMD_WindowList):
	* fvwm/menus.c (get_menu_options):
	(get_popup_options):
	(MenuInteraction):
	(pop_menu_up):
	handle Xinerama screens for positioning menus w/ posthints

	* fvwm/menus.c (get_menu_options):
	renamed function
	fix for icon/window context rectangle when window is in wrong state

2001-07-22  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	s/XINERAMA/HAVE_XINERAMA/, now #ifdef'd xinerama code is finally ever
	compiled in; fixed linking by adding -lXinerama; small corrections

2001-07-22  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1: Remove some test code, fix remaining .IP commands.

2001-07-22  Dominik Vogt  <dominik.vogt@gmx.de>

	* libs/XineramaSupport.c (XineramaSupportInit):
	added xinerama emulation for developers

	* fvwm/virtual.c (CMD_XineramaEnable):
	(CMD_XineramaDisable):
	* fvwm/module_interface.c (BroadcastConfigInfoString):
	added function to communicate Xinerama on/off to modules

	* fvwm/module_interface.c:
	include time.h to fix warning
	* libs/XineramaSupport.c:
	* fvwm/fvwm.c (setVersionInfo):
	* fvwm/Makefile.am:
	* configure.in:
	* acconfig.h:
	cleanded up xinerama detection
	added shape detection

2001-07-21  Dominik Vogt  <dominik.vogt@gmx.de>

	* fvwm/fvwm2.1:
	Added Xinerama introduction

	* fvwm/fvwm.c (setVersionInfo):
	print xinerama support

	* fvwm/conditional.c (CreateConditionMask):
	added CirculateHitShaded option for conditional commands that was
	described in the man page but not implemented

	* fvwm/fvwm.h (WindowConditionMask):
	removed unused flags

	* fvwm/conditional.c (MatchesConditionMask):
	fixed CirculateHitIcon option in conditional commands

	* fvwm/fvwm2.1:
	reformatted man page source to improve readability
	fixed some source formatting bugs

	* libs/XineramaSupport.c (GetMouseXY):
	don't poll the pointer if there is only one screen or if xinerama is
	turned off

	* fvwm/fvwm2.1:
	* fvwm/fvwm.c (main):
	removed -noxinerama option

	* fvwm/fvwm.c (main):
	size window is positioned and sized in move_resize.c

	* libs/XineramaSupport.c:
	reindented file

	* configure.in:
	print Xinerama support in configure summary

	* **/*:
	applied Xinerama patch by Dmitry Yu. Bolkhovityanov

2001-07-17  Mikhael Goikhman  <migo@homemail.com>

	* acconfig.h:
	* acinclude.m4:
	* configure.in:
	implemented a new convenient autoconf macro mg_DEFINE_IF_NOT;
	define missing macros needed for old AIX keysymdef and old stroke.h

	* fvwm/bindings.c:
	* fvwm/menus.c:
	remove the previous compilation fixes, now handled by configure

2001-07-15  Dan Espen  <dane@mk.telcordia.com>

	* fvwm/fvwm2.1: Remove .BI with more than 6 args.

2001-07-15  Mikhael Goikhman  <migo@homemail.com>

	* bindings.c:
	use libstroke-0.5 constant names while still supporting 0.3/0.4

	* menus.c:
	compiling fix for old AIX, which does not define XK_Page_Up/Down

	* module_interface.c:
	minor compiling fix for some proprietary preprocessors

2001-07-10  Mikhael Goikhman  <migo@homemail.com>

	* fvwm/fvwm2.1:
	use more compatible and structured syntax in SYNOPSIS

2001-07-06  Mikhael Goikhman  <migo@homemail.com>

	* acinclude.m4:
	Replaced forgotten instances of IMLIB_CFLAGS and IMLIB_LIBS to
	GDK_IMLIB_*.  This fixes "make FvwmGtk" on systems with bogus
	imlib-config.

2001-07-05  Mikhael Goikhman  <migo@homemail.com>

	* configure.in:
	changed version to 2.4.1

	* acinclude.m4:
	small fix that should solve the problem with running autoconf
	(autoreconf is ok) from autoconf-2.50;
	applied a patch that adds gtk include dirs to gnome include dirs

2001-07-03  Dominik Vogt  <dominik.vogt@gmx.de>

	* NEWS, configure.in:
	changed version to 2.4.0.1

	* *: fvwm 2.4 has been released :-))
