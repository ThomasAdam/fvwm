# Usage: SendToModule FvwmPerl preprocess xmessage.ppp

%{
	%windowSize = ( x => 300, y => 150 );
	$borderWidth = 8;
	$titleHeight = 20;  # several vertical points are not very important
	$pos_x = ($WIDTH - $windowSize{x}) / 2 - $borderWidth;
	$pos_y = ($HEIGHT - $windowSize{y} - $titleHeight) / 2 - $borderWidth;
	""
}%

Style MyXMessage BorderWidth %{$borderWidth}%, NoHandles
Style MyXMessage WindowShadeShrinks, WindowShadeSteps 80, WindowShadeBusy

Exec xmessage -g %{"$windowSize{x}x$windowSize{y}"}%+%{$pos_x}%+%{$pos_y}% \
	-fg black -xrm "*textSink*font:lucidasans-18" \
	-xrm "*form*background:rgb:c0/c0/a0" \
	-xrm "*form*okay*background:rgb:90/90/7a" \
	-xrm "*form*message*background:rgb:f0/f0/c0" \
	-name MyXMessage -title "Testing FvwmPerl preprocess" "Hello world!"

Wait MyXMessage
All (MyXMessage) WindowShade ShadeAgain NE
All (MyXMessage) WindowShade ShadeAgain N
All (MyXMessage) WindowShade ShadeAgain E
All (MyXMessage) WindowShade ShadeAgain SE
All (MyXMessage) WindowShade ShadeAgain S
All (MyXMessage) WindowShade ShadeAgain N
All (MyXMessage) WindowShade Off
All (MyXMessage) WindowShade ShadeAgain W
All (MyXMessage) WindowShade ShadeAgain NW
All (MyXMessage) WindowShade Off
